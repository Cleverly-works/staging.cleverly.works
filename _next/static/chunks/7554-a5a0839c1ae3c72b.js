"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7554],{5336:function(e,n,t){t.d(n,{C:function(){return P}});var i=t(85893),r=t(67294),a=t(45697),o=t.n(a),s=t(93946),l=t(25464),u=t(18972),c=t(57976),d=t(73890),m=t(69008),f=t(41687),p=t(60888),h=t(40535),x=t(63441),g=t(41733),v=t(77957),b=t(2548),y=t(24519),Z=t(2391),j=t(69308),C=t(79369),I=t(22961),w=t(28201),S=t(51233),k=t(15861),D={add:(0,i.jsx)(f.Z,{}),archive:(0,i.jsx)(d.Z,{}),avatar:(0,i.jsx)(w.Z,{}),check:(0,i.jsx)(p.Z,{}),delete:(0,i.jsx)(g.Z,{}),description:(0,i.jsx)(h.Z,{}),download:(0,i.jsx)(x.Z,{}),info:(0,i.jsx)(b.Z,{}),edit:(0,i.jsx)(v.Z,{}),location:(0,i.jsx)(j.Z,{}),unarchive:(0,i.jsx)(m.Z,{}),uploadFile:(0,i.jsx)(y.Z,{}),receipt:(0,i.jsx)(Z.Z,{}),visibility:(0,i.jsx)(I.Z,{})},F={default:(0,i.jsx)(c.Z,{}),defaultHoriz:(0,i.jsx)(C.Z,{}),description:(0,i.jsx)(h.Z,{})},P=function(e){var n=e.actionsData,t=e.icon,a=e.row,o=e.disabled,c=(0,r.useState)(null),d=c[0],m=c[1],f=function(e){e.stopPropagation(),m(e.currentTarget)},p=function(){m(null)};return(0,i.jsxs)("div",{children:[(0,i.jsx)(s.Z,{sx:{":hover":{backgroundColor:"#DDDDDD"}},disabled:o,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:f,children:F[t]}),(0,i.jsx)(l.Z,{id:"simple-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:p,PaperProps:{sx:{borderRadius:2}},children:n(a).map(function(e,n){return(0,i.jsx)(u.Z,{disabled:e.disabled,onClick:function(n){e.onClick(n),p()},sx:{pl:3,pr:4},children:(0,i.jsxs)(S.Z,{direction:"row",alignItems:"center",spacing:2,children:[(null==D?void 0:D[e.icon])||null,(0,i.jsx)(k.Z,{children:e.tooltip})]})},n)})})]})};P.propTypes={actionsData:o().func.isRequired,icon:o().oneOf(["default","description"]),row:o().any.isRequired,disabled:o().bool},P.defaultProps={actionsData:function(){return[{disabled:!1,onClick:function(){},icon:"edit",tooltip:"Edit"}]},icon:"default",disabled:!1}},10333:function(e,n,t){t.d(n,{Q:function(){return b}});var i=t(26042),r=t(69396),a=t(99534),o=t(85893),s=t(67294),l=t(2734),u=t(68239),c=t(22430),d=t(5616),m=t(15861),f=t(21023),p=t(2548),h=t(86267),x=t(52824),g=t(6388),v={palette:{muiLightGray:{main:"#f5f5f5"},black:{main:"#000000"},white:{main:"#FFFFFF"},action:{selectedOpacity:.08,hoverOpacity:.04},secondary:{main:"rgb(6, 121, 216)",contrastText:"#FFFFFF"}}},b=function(e){var n,t,b,y=e.header,Z=(e.placeholder,e.fullWidth),j=e.isMultiple,C=e.desc,I=e.infoDescription,w=e.descriptionCheckbox,S=e.entityId,k=(e.entity,e.refetch),D=(e.isSubmit,e.scorePerFile),F=e.onChange;(0,a.Z)(e,["header","placeholder","fullWidth","isMultiple","desc","infoDescription","descriptionCheckbox","entityId","entity","refetch","isSubmit","scorePerFile","onChange"]);var P=(0,l.Z)(),M=(0,u.Z)((0,r.Z)((0,i.Z)({},P),{palette:(0,r.Z)((0,i.Z)({},P.palette),{muiLightGray:P.palette.muiLightGray||v.palette.muiLightGray,black:P.palette.black||v.palette.black,white:P.palette.white||v.palette.white,action:(0,r.Z)((0,i.Z)({},P.palette.action),{selectedOpacity:(null===(n=P.palette.action)||void 0===n?void 0:n.selectedOpacity)||v.palette.action.selectedOpacity,hoverOpacity:(null===(t=P.palette.action)||void 0===t?void 0:t.hoverOpacity)||v.palette.action.hoverOpacity}),secondary:v.palette.secondary})})),_=((0,g.aM)(x.t,{skip:!S,variables:{entityId:S,entity:"FormSubmission"}}).data||{}).meta,N=(null===(b=(void 0===_?{}:_).aggregate)||void 0===b?void 0:b.totalCount)||0,O=N>0?N*D:0,$=function(){};return(0,s.useEffect)(function(){S&&(k||$)()},[S,k]),(0,s.useEffect)(function(){N>0?F(N,O):F(0,0)},[N,D]),(0,o.jsx)(c.Z,{theme:M,children:(0,o.jsxs)(d.Z,{display:"flex",flexDirection:"column",width:Z?"100%":"auto",children:[(0,o.jsxs)(d.Z,{display:"inline-flex",alignItems:"flex-start",mb:1,position:"relative",children:[(0,o.jsx)(m.Z,{variant:"body1",color:"text.primary",children:y}),(null==w?void 0:w.includes("informationIcon"))&&(null==I?void 0:I.trim())&&(0,o.jsx)(f.Z,{title:I,placement:"top",children:(0,o.jsx)(p.Z,{sx:{ml:1,width:14,height:14,cursor:"pointer",color:"action.active"}})})]}),(0,o.jsx)(m.Z,{variant:"body2",color:"text.secondary",sx:{width:"100%",mb:1},children:C}),(0,o.jsx)(c.Z,{theme:M,children:(0,o.jsx)(d.Z,{children:(0,o.jsxs)(c.Z,{theme:M,children:[" ",(0,o.jsx)(h.G,{carousel:!0,entityId:S||0,entity:S?"FormSubmission":"",onMediaAdd:k,onMediaRemove:k,columnVisibilityModel:{name:!1},onlySingleMedia:!j,mediaFormProps:{showSubmitButton:!0},offCanvasProps:{submit:!1},showActionButtons:S||!1})]})})})]})})}},79424:function(e,n,t){t.d(n,{D:function(){return x}});var i=t(29815),r=t(85893),a=t(67294),o=t(5616),s=t(15861),l=t(11057),u=t(11994),c=t(58877),d=t.n(c),m=t(10333),f=t(69368),p=t(50480),h=t(53457),x=a.memo(function(e){var n=e.headerNotification,t=e.desc,c=e.popupContext,x=e.url,v=e.linkText,b=e.isMultiple,y=e.id,Z=e.options,j=e.onSignatureChange,C=e.onFileChange,I=e.onCheckboxChange,w=e.checkedValues,S=void 0===w?[]:w,k=e.entityId,D=(0,a.useState)(!1),F=D[0],P=D[1],M=(0,a.useState)(""),_=M[0],N=M[1],O=(0,a.useRef)({}),$=function(){return P(!0)},A=function(){return P(!1)},T=function(){O.current.clear(),N(null),j(null)},Y=function(){var e=O.current.getTrimmedCanvas().toDataURL("image/png");N(e),j(e),A()},E=function(e){var n=Array.isArray(S)?S:[],t=n.includes(e)?n.filter(function(n){return n!==e}):(0,i.Z)(n).concat([e]);I(t,y)},R=function(e){C(e)};return(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(s.Z,{variant:"body1",color:"text.primary",children:n}),(0,r.jsx)(s.Z,{variant:"body2",color:"textSecondary",sx:{width:"100%"},children:t}),(null==c?void 0:c.includes("link"))&&(0,r.jsx)("a",{href:x,value:x,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline",color:"blue",marginRight:"8px"},children:v||x}),(null==c?void 0:c.includes("attachment"))&&(0,r.jsx)(m.Q,{isMultiple:b,onChange:R,entityId:k}),(null==c?void 0:c.includes("signature"))&&(0,r.jsxs)(o.Z,{display:"inline-block",children:[(0,r.jsx)(l.Z,{onClick:$,children:"Add new signature"}),_&&(0,r.jsx)(o.Z,{ml:2,children:(0,r.jsx)(o.Z,{component:"img",src:_,alt:"signature preview",sx:{width:150,height:100,border:"1px solid #000",marginRight:"10px"}})}),(0,r.jsx)(u.Z,{open:F,onClose:A,sx:{zIndex:10001},children:(0,r.jsxs)(o.Z,{sx:g,children:[(0,r.jsx)(d(),{ref:O,penColor:"black",font:!0,canvasProps:{width:500,height:200,className:"sigCanvas",style:{zIndex:10001}}}),(0,r.jsxs)(o.Z,{mt:2,display:"flex",justifyContent:"space-between",children:[(0,r.jsx)(l.Z,{onClick:T,children:"Clear"}),(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(l.Z,{onClick:Y,sx:{mr:2},children:"Accept"}),(0,r.jsx)(l.Z,{onClick:A,children:"Cancel"})]})]})]})})]}),(null==c?void 0:c.includes("notificationCheckbox"))&&(0,r.jsx)(o.Z,{children:(0,r.jsx)(h.Z,{children:Z.map(function(e){return(0,r.jsx)(p.Z,{control:(0,r.jsx)(f.Z,{checked:S.includes(e.value),onChange:function(){return E(e.value)}}),label:e.label},e.label)})})})]})}),g={position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4}},93739:function(e,n,t){t.d(n,{L:function(){return eI}});var i=t(14924),r=t(26042),a=t(69396),o=t(828),s=t(29815),l=t(85893),u=t(67294),c=t(30838),d=t(65582),m=t(5616),f=t(15861),p=t(21023),h=t(72852),x=t(90629),g=t(99534),v=t(50135),b=t(90948),y=t(67408),Z=t(50594),j=t(79332),C=function(e){var n=e.onChange,t=e.isDisabled,i=e.label,a=e.placeholder,o=e.min,s=e.max,u=e.id,c=e.value,d=e.desc,p=(0,g.Z)(e,["onChange","isDisabled","label","placeholder","min","max","id","value","desc"]);return(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(f.Z,{variant:"body2",color:"textSecondary",sx:{width:"100%"},children:d}),(0,l.jsx)(j.Z,(0,r.Z)({onChange:n,disabled:t,placeholder:a,label:i,value:c,id:u,inputProps:{min:o,max:s},fullWidth:!0},p))]})},I={input:{element:C,infinityValueKey:"value",infinityLabelKey:"label"},radio:{element:C,infinityValueKey:"radioValue",infinityLabelKey:"radioLabel"}},w=function(e){var n,t=e.inputProps,o=e.onChangeStates,c=e.elementType,m=e.infinityElementLabel,f=e.defaultOptionsArray,p=(0,u.useState)([(0,a.Z)((0,r.Z)({},t),{value:"",label:"",score:""})]),h=p[0],x=p[1];(0,u.useEffect)(function(){f&&x(f.map(function(e){return(0,a.Z)((0,r.Z)({},e),{score:e.score||0})}))},[f]);var b=null===(n=I[c])||void 0===n?void 0:n.element;(0,u.useEffect)(function(){o(h)},[h]);var j=(0,u.useCallback)(function(e){var n=e.target,t=n.value,o=n.id,s=I[c],l=s.infinityValueKey,u=s.infinityLabelKey;x(function(e){return e.map(function(e){var n;return e.id===o?(0,a.Z)((0,r.Z)({},e),(n={},(0,i.Z)(n,l,t),(0,i.Z)(n,u,t),n)):e})})},[c]),C=(0,u.useCallback)(function(e){var n=e.target,t=n.value,i=n.id;x(function(e){return e.map(function(e){return e.id===i?(0,a.Z)((0,r.Z)({},e),{score:t}):e})})},[]),w=(0,u.useCallback)(function(){var e,n=(e={isDisabled:!1,id:crypto.randomUUID()},(0,i.Z)(e,I[c].infinityValueKey,""),(0,i.Z)(e,I[c].infinityLabelKey,""),(0,i.Z)(e,"score",""),e);x(function(e){return(0,s.Z)(e).concat([n])})},[c]),D=(0,u.useCallback)(function(e){x(h.filter(function(n){return n.id!==e}))},[h]);return(0,l.jsxs)(d.Z,{sx:{position:"relative"},children:[h.map(function(e,n){var t=e.isDisabled,i=e.id,r=e.score,a=(0,g.Z)(e,["isDisabled","id","score"]);return(0,l.jsxs)(S,{children:[(0,l.jsx)(b,{onChange:j,disabled:t,placeholder:"".concat(m," ").concat(n+1),id:i,label:a[I[c].infinityLabelKey],value:a[I[c].infinityValueKey],sx:{width:120}}),(0,l.jsx)(v.Z,{type:"number",value:r,variant:"standard",onChange:function(e){return C({target:{value:e.target.value,id:i}})},inputProps:{min:0},sx:{width:60,marginLeft:1},placeholder:"Score"}),(0,l.jsx)(Z.Z,{onClick:function(){return h.length>1&&D(i)},size:"large",sx:{position:"absolute",right:0,cursor:"pointer",color:1===h.length?"#949494":"#1565C0"}})]},i)}),(0,l.jsx)(k,{children:(0,l.jsx)(y.Z,{sx:{cursor:"pointer",color:"#1565C0"},size:"large",onClick:w,fullWidth:!0})})]})},S=(0,b.ZP)("div")(function(e){var n=e.theme;return{display:"flex",flexWrap:"wrap",flexDirection:"row",flex:1,width:"100%",alignItems:"center",marginBottom:n.spacing(1),gap:n.spacing(1)}}),k=(0,b.ZP)("div")({display:"flex",justifyContent:"center",marginBottom:"10px"}),D=t(23776),F=function(e){var n=e.options,t=e.onChange,i=(e.label,e.value),o=(e.width,e.defaultValue),s=e.desc,c=e.placeholder,d=(0,u.useMemo)(function(){return n.find(function(e){return e.value===(i||o)})},[n,i,o]),p=function(e,i){var r=i?n.find(function(e){return e.value===i.value}):null;t(r?r.value:"",r?r.score:0)};return(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(f.Z,{variant:"body2",color:"textSecondary",sx:{width:"100%",mb:2},children:s}),(0,l.jsx)(D.Z,{disablePortal:!0,onChange:p,value:d||null,options:n,getOptionLabel:function(e){return e.label},renderInput:function(e){return(0,l.jsx)(v.Z,(0,a.Z)((0,r.Z)({},e),{label:c}))},sx:{width:"100%",maxWidth:"95%","& .MuiAutocomplete-inputRoot":{boxSizing:"border-box",maxWidth:"100%"}}})]})},P=t(30381),M=t.n(P),_=M()().format("YYYY-MM-DD"),N=function(e,n,t,i){var r,a;switch(e){case"today":r=a=_;break;case"greaterThan":r=i||"",a="";break;case"lessThan":r="",a=i||"";break;case"equalTo":r=a=i;break;case"isBetween":r=M()(n).format("YYYY-MM-DD")||"",a=M()(t).format("YYYY-MM-DD")||"";break;case"last7Days":r=M()().subtract(7,"days").format("YYYY-MM-DD"),a=_;break;case"next7Days":r=_,a=M()().add(7,"days").format("YYYY-MM-DD");break;case"thisMonth":r=M()().startOf("month").format("YYYY-MM-DD"),a=M()().endOf("month").format("YYYY-MM-DD");break;case"nextMonth":r=M()().add(1,"month").startOf("month").format("YYYY-MM-DD"),a=M()().add(1,"month").endOf("month").format("YYYY-MM-DD");break;case"last30Days":r=M()().subtract(30,"days").format("YYYY-MM-DD"),a=_;break;case"last90Days":r=M()().subtract(90,"days").format("YYYY-MM-DD"),a=_;break;case"lastYear":r=M()().subtract(1,"year").startOf("year").format("YYYY-MM-DD"),a=M()().subtract(1,"year").endOf("year").format("YYYY-MM-DD");break;case"nextYear":r=M()().add(1,"year").startOf("year").format("YYYY-MM-DD"),a=M()().add(1,"year").endOf("year").format("YYYY-MM-DD");break;default:r=a=""}return{min:r,max:a}},O=function(e){var n=e.onChange,t=e.value,i=(e.label,e.disabled),r=e.desc,a=e.chooseDateType,o=e.startDate,s=e.endDate,c=e.singleDate,d=(0,u.useState)({min:"",max:""}),p=d[0],h=d[1];return(0,u.useEffect)(function(){var e,n=N(a,o,s,c);h({min:n.min,max:n.max})},[a,o,s,c]),(0,l.jsxs)(m.Z,{position:"relative",children:[(0,l.jsx)(f.Z,{variant:"body2",color:"textSecondary",sx:{width:"100%"},children:r}),(0,l.jsx)(v.Z,{id:"date",type:"date",value:t,fullWidth:!0,disabled:i,onChange:n,InputLabelProps:{shrink:!0},inputProps:{min:p.min,max:p.max}})]})},$=function(e){var n=e.onChange,t=(e.label,e.placeholder),i=e.value,r=e.disabled,a=e.desc;return(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(f.Z,{variant:"body2",color:"textSecondary",sx:{width:"100%",mb:2},children:a}),(0,l.jsx)(v.Z,{value:i,id:"time",type:"time",label:t,disabled:r,fullWidth:!0,onChange:n,InputLabelProps:{shrink:!0},inputProps:{step:300}})]})},A=t(36872),T=t(79717),Y=t(81720),E=function(e){var n=e.onChange,t=e.value,i=e.radioArray,r=e.desc,a=function(e){var t=e.target.value,r=i.find(function(e){return e.radioValue===t});n(t,r?Number(r.score):0)};return(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(f.Z,{variant:"body2",color:"textSecondary",sx:{width:"100%"},children:r}),(0,l.jsx)(T.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",onChange:a,children:i.map(function(e){var n=e.radioLabel,i=e.radioValue;return(0,l.jsxs)(Y.TZ,{sx:{display:"flex",alignItems:"center"},children:[(0,l.jsx)(A.Z,{value:i,checked:i===t}),(0,l.jsx)(f.Z,{variant:"body2",children:n})]},n+i)})})]})},R=t(69368),q=(0,b.ZP)(R.Z)(function(e){return{marginRight:e.theme.spacing(1)}}),V=function(e){var n=e.options,t=e.onChange,i=(e.label,e.placeholder),o=e.inputValue,s=void 0===o?[]:o,u=e.desc,c=function(e,i){var r=i.map(function(e){return e.value}),a=null==n?void 0:n.filter(function(e){return r.includes(e.value)}).map(function(e){return e.score});t(r,a)};return(0,l.jsxs)(m.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,l.jsx)(f.Z,{variant:"body2",color:"textSecondary",sx:{width:"100%",mb:2},children:u}),(0,l.jsx)(D.Z,{disablePortal:!0,multiple:!0,onChange:c,value:null==n?void 0:n.filter(function(e){return s.includes(e.value)}),options:n,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.label},renderOption:function(e,n,t){var i=t.selected;return(0,l.jsxs)("li",(0,a.Z)((0,r.Z)({},e),{children:[(0,l.jsx)(q,{checked:i,size:"small"}),n.label]}))},renderInput:function(e){return(0,l.jsx)(v.Z,(0,a.Z)((0,r.Z)({},e),{label:i}))},sx:{width:"100%",maxWidth:"95%","& .MuiAutocomplete-inputRoot":{boxSizing:"border-box",maxWidth:"100%"}}})]})},L=t(87109),z=function(e){var n=e.onChange,t=e.isDisabled,i=e.label,a=e.placeholder,o=(e.id,e.currencySign),s=e.desc,u=(0,g.Z)(e,["onChange","isDisabled","label","placeholder","id","currencySign","desc"]);return(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(f.Z,{variant:"body2",color:"textSecondary",sx:{width:"100%"},children:s}),(0,l.jsx)(j.Z,(0,r.Z)({type:"number",startAdornment:(0,l.jsx)(L.Z,{position:"start",children:o}),onChange:n,disabled:t,placeholder:a,label:i,fullWidth:!0},u))]})},B=t(50480),U=t(53457),W=function(e){var n=e.id,t=e.options,i=e.onChange,r=e.checkedValues,a=void 0===r?[]:r,o=e.desc,u=function(e){var r=Array.isArray(a)?a:[],o=r.includes(e)?r.filter(function(n){return n!==e}):(0,s.Z)(r).concat([e]),l=t.filter(function(e){return o.includes(e.value)}).map(function(e){return e.score});i(o,l,n)};return(0,l.jsx)(m.Z,{children:(0,l.jsxs)(U.Z,{children:[(0,l.jsx)(f.Z,{variant:"body2",color:"textSecondary",sx:{width:"100%"},children:o}),t.map(function(e){return(0,l.jsx)(B.Z,{control:(0,l.jsx)(R.Z,{checked:a.includes(e.value),onChange:function(){return u(e.value)}}),label:e.label},e.label)})]})})},G=t(10333),H=t(1050),K=function(e){var n=e.isDisabled,t=e.min,i=e.max,r=e.defaultValue,a=e.onChange,o=e.marks,s=e.desc,c=e.step;e.highlighted;var d=(0,u.useState)(c),p=d[0],h=d[1],g=null==o?void 0:o.map(function(e){return{value:Number(e.markValue),label:"".concat(e.markLabel)}}),v=function(e,n){a(e,n>i?i:n)};return(0,u.useEffect)(function(){c>i-t?h(i-t):h(c)},[c,i,t]),(0,l.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,l.jsx)(f.Z,{variant:"body2",color:"textSecondary",sx:{width:"100%"},children:s}),(0,l.jsxs)(m.Z,{sx:{width:"90%"},children:[(0,l.jsxs)(f.Z,{variant:"body2",sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,l.jsx)("span",{children:t}),(0,l.jsx)("span",{children:i})]}),(0,l.jsx)(H.ZP,{valueLabelDisplay:"auto",disabled:n,step:p,min:Number(t),value:Number(r),max:Number(i),onChange:v,marks:g})]})]})},J=t(2548),Q=u.memo(function(e){var n=e.linkText,t=e.url,i=e.id,r=e.fullWidth,a=e.label,o=e.value,s=e.description,u=e.placeholder,c=e.descriptionCheckbox;return(0,l.jsxs)(m.Z,{display:"flex",flexDirection:"column",alignItems:"flex-start",width:r?"100%":"auto",id:i,sx:{position:"relative"},children:[(0,l.jsx)(f.Z,{variant:"body1",color:"black",sx:{width:"100%"},children:a}),(0,l.jsx)(f.Z,{variant:"body2",color:"textSecondary",sx:{width:"100%"},children:u}),(0,l.jsxs)(m.Z,{display:"flex",alignItems:"center",width:"100%",children:[(0,l.jsx)("a",{href:t,value:o,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline",color:"blue",marginRight:"8px"},children:n||t}),(null==c?void 0:c.includes("informationIcon"))&&(null==s?void 0:s.trim())&&(0,l.jsx)(p.Z,{title:s,placement:"top",children:(0,l.jsx)(J.Z,{sx:{position:"relative",right:6,top:-6,width:14,height:14,cursor:"pointer"}})})]})]})}),X=function(e){var n=e.disabled,t=e.timeRange,i=e.startPlaceholder,o=e.endPlaceholder,s=e.desc,c=e.onChange,d=(0,u.useState)(""),p=d[0],h=d[1],x=(0,u.useState)(""),g=x[0],b=x[1];(0,u.useEffect)(function(){h((null==t?void 0:t.startTime)||""),b((null==t?void 0:t.endTime)||"")},[t]);var y=function(e){var n=e.target.value;h(n),c((0,a.Z)((0,r.Z)({},t),{startTime:n}))},Z=function(e){var n=e.target.value;b(n),c((0,a.Z)((0,r.Z)({},t),{endTime:n}))};return(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(f.Z,{variant:"body2",color:"textSecondary",sx:{width:"100%",mb:2},children:s}),(0,l.jsxs)(m.Z,{display:"flex",children:[(0,l.jsx)(v.Z,{value:p,id:"start-time",type:"time",label:i,disabled:n,fullWidth:!0,onChange:y,InputLabelProps:{shrink:!0},inputProps:{step:300}}),(0,l.jsx)(v.Z,{value:g,id:"end-time",type:"time",label:o,disabled:n,fullWidth:!0,onChange:Z,InputLabelProps:{shrink:!0},inputProps:{step:300}})]})]})},ee=function(e){var n=e.inputProps,t=e.onChangeStates,o=e.defaultOptionsArray,c=(0,u.useState)([(0,a.Z)((0,r.Z)({},n),{min:"",max:"",score:""})]),m=c[0],f=c[1];(0,u.useEffect)(function(){o&&f(o.map(function(e){return(0,a.Z)((0,r.Z)({},e),{score:e.score||0})}))},[o]),(0,u.useEffect)(function(){t(m)},[m]);var p=(0,u.useCallback)(function(e){var n=e.target,t=n.value,o=n.id,s=n.name;f(function(e){return e.map(function(e){return e.id===o?(0,a.Z)((0,r.Z)({},e),(0,i.Z)({},s,t)):e})})},[]),h=(0,u.useCallback)(function(){var e={id:crypto.randomUUID(),min:"",max:"",score:""};f(function(n){return(0,s.Z)(n).concat([e])})},[]),x=(0,u.useCallback)(function(e){f(m.filter(function(n){return n.id!==e}))},[m]);return(0,l.jsxs)(d.Z,{sx:{position:"relative"},children:[m.map(function(e,n){var t=e.id,i=e.min,r=e.max,a=e.score;return(0,l.jsxs)(en,{children:[(0,l.jsx)(v.Z,{type:"number",name:"min",value:i,variant:"standard",onChange:function(e){return p({target:{value:e.target.value,id:t,name:"min"}})},inputProps:{min:0},sx:{width:60,marginRight:1},placeholder:"Min"}),(0,l.jsx)(v.Z,{type:"number",name:"max",value:r,variant:"standard",onChange:function(e){return p({target:{value:e.target.value,id:t,name:"max"}})},inputProps:{min:0},sx:{width:60,marginRight:1},placeholder:"Max"}),(0,l.jsx)(v.Z,{type:"number",name:"score",value:a,variant:"standard",onChange:function(e){return p({target:{value:e.target.value,id:t,name:"score"}})},inputProps:{min:0},sx:{width:60,marginLeft:1},placeholder:"Score"}),(0,l.jsx)(Z.Z,{onClick:function(){return m.length>1&&x(t)},size:"large",sx:{position:"absolute",right:0,cursor:"pointer",color:1===m.length?"#949494":"#1565C0"}})]},t)}),(0,l.jsx)(et,{children:(0,l.jsx)(y.Z,{sx:{cursor:"pointer",color:"#1565C0"},size:"large",onClick:h,fullWidth:!0})})]})},en=(0,b.ZP)("div")(function(e){var n=e.theme;return{display:"flex",flexWrap:"wrap",flexDirection:"row",flex:1,width:"100%",alignItems:"center",marginBottom:n.spacing(1),gap:n.spacing(1)}}),et=(0,b.ZP)("div")({display:"flex",justifyContent:"center",marginBottom:"10px"}),ei=t(11057),er=t(11994),ea=t(58877),eo=t.n(ea),es=function(e){var n=e.value,t=e.onChange,i=e.placeholder,r=e.desc,a=e.initials,o=e.signerInitials,s=e.onChangeInitials,c=(0,u.useState)(!1),d=c[0],p=c[1],h=(0,u.useState)(n),x=h[0],g=h[1],b=(0,u.useState)(o),y=b[0],Z=b[1],j=(0,u.useRef)({}),C=function(){return p(!0)},I=function(){return p(!1)},w=function(){j.current.clear(),g(null),t(null)},S=function(){var e=j.current.getTrimmedCanvas().toDataURL("image/png");g(e),t(e),I()},k=function(e){var n=e.target.value;Z(n),s(n)};return(0,u.useEffect)(function(){Z(o)},[o]),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(f.Z,{variant:"body2",color:"textSecondary",sx:{width:"100%"},children:r}),(0,l.jsx)(m.Z,{display:"flex",alignItems:"center",width:"100%",children:(0,l.jsxs)(m.Z,{display:"inline-block",children:[(0,l.jsx)(ei.Z,{onClick:C,children:"Add new signature"}),x&&(0,l.jsx)(m.Z,{ml:2,children:(0,l.jsx)(m.Z,{component:"img",src:x,alt:"signature preview",sx:{width:100,height:50,border:"1px solid #000",marginRight:"10px"}})}),(0,l.jsx)(er.Z,{open:d,onClose:I,sx:{zIndex:10001},children:(0,l.jsxs)(m.Z,{sx:el,children:[(0,l.jsx)(eo(),{ref:j,penColor:"black",font:!0,canvasProps:{width:500,height:200,className:"sigCanvas",style:{zIndex:10001}}}),(0,l.jsxs)(m.Z,{mt:2,display:"flex",justifyContent:"space-between",children:[(0,l.jsx)(ei.Z,{onClick:w,children:"Clear"}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(ei.Z,{onClick:S,sx:{mr:2},children:"Accept"}),(0,l.jsx)(ei.Z,{onClick:I,children:"Cancel"})]})]})]})}),(0,l.jsxs)(f.Z,{variant:"body2",color:"textSecondary",justifyContent:"center",alignItems:"center",fontSize:16,sx:{width:"100%",display:"flex",alignContent:"center",flexDirection:"row",gap:"10px"},children:[a,(0,l.jsx)(v.Z,{variant:"standard",value:y,onChange:k,placeholder:i})]})]})})]})},el={position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},eu={input:{element:C,infinityValueKey:"value",infinityLabelKey:"label"},radio:{element:C,infinityValueKey:"radioValue",infinityLabelKey:"radioLabel"}},ec=function(e){var n,t=e.inputProps,o=e.onChangeStates,c=e.elementType,m=e.infinityElementLabel,f=e.defaultOptionsArray,p=(0,u.useState)([(0,a.Z)((0,r.Z)({},t),{value:"",label:""})]),h=p[0],x=p[1];(0,u.useEffect)(function(){f&&x(f)},[f]);var v=null===(n=eu[c])||void 0===n?void 0:n.element;(0,u.useEffect)(function(){o(h)},[h]);var b=(0,u.useCallback)(function(e){var n=e.target,t=n.value,o=n.id,s=eu[c],l=s.infinityValueKey,u=s.infinityLabelKey;x(function(e){return e.map(function(e){var n;return e.id===o?(0,a.Z)((0,r.Z)({},e),(n={},(0,i.Z)(n,l,t),(0,i.Z)(n,u,t),n)):e})})},[c]),j=(0,u.useCallback)(function(){var e,n=(e={isDisabled:!1,id:crypto.randomUUID()},(0,i.Z)(e,eu[c].infinityValueKey,""),(0,i.Z)(e,eu[c].infinityLabelKey,""),e);x(function(e){return(0,s.Z)(e).concat([n])})},[c]),C=(0,u.useCallback)(function(e){x(h.filter(function(n){return n.id!==e}))},[h]);return(0,l.jsxs)(d.Z,{sx:{position:"relative"},children:[h.map(function(e,n){var t=e.isDisabled,i=e.id,r=(0,g.Z)(e,["isDisabled","id"]);return(0,l.jsxs)(ed,{children:[(0,l.jsx)(v,{onChange:b,disabled:t,placeholder:"".concat(m," ").concat(n+1),id:i,label:r[eu[c].infinityLabelKey],value:r[eu[c].infinityValueKey]}),(0,l.jsx)(Z.Z,{onClick:function(){return h.length>1&&C(i)},size:"large",sx:{position:"absolute",right:0,cursor:"pointer",color:1===h.length?"#949494":"#1565C0"}})]},i)}),(0,l.jsx)(em,{children:(0,l.jsx)(y.Z,{sx:{cursor:"pointer",color:"#1565C0"},size:"large",onClick:j,fullWidth:!0})})]})},ed=(0,b.ZP)("div")(function(e){var n=e.theme;return{display:"flex",flexWrap:"wrap",alignItems:"center",marginBottom:n.spacing(2),gap:n.spacing(2)}}),em=(0,b.ZP)("div")({display:"flex",justifyContent:"center",marginBottom:"16px"}),ef=function(e){var n=e.inputProps,t=e.onChangeStates,o=e.defaultOptionsArray,c=(0,u.useState)([(0,a.Z)((0,r.Z)({},n),{markLabel:"",markValue:"",score:""})]),m=c[0],f=c[1];(0,u.useEffect)(function(){o&&f(o.map(function(e){return(0,a.Z)((0,r.Z)({},e),{score:e.score||0})}))},[o]),(0,u.useEffect)(function(){t(m)},[m]);var p=(0,u.useCallback)(function(e){var n=e.target,t=n.value,o=n.id,s=n.name;f(function(e){return e.map(function(e){return e.id===o?(0,a.Z)((0,r.Z)({},e),(0,i.Z)({},s,t)):e})})},[]),h=(0,u.useCallback)(function(){var e={id:crypto.randomUUID(),markLabel:"",markValue:"",score:""};f(function(n){return(0,s.Z)(n).concat([e])})},[]),x=(0,u.useCallback)(function(e){f(m.filter(function(n){return n.id!==e}))},[m]);return(0,l.jsxs)(d.Z,{sx:{position:"relative"},children:[m.map(function(e,n){var t=e.id,i=e.markLabel,r=e.markValue,a=e.score;return(0,l.jsxs)(ep,{children:[(0,l.jsx)(v.Z,{name:"markLabel",value:i,variant:"standard",onChange:function(e){return p({target:{value:e.target.value,id:t,name:"markLabel"}})},inputProps:{min:0},sx:{width:60,marginRight:1},placeholder:"Label"}),(0,l.jsx)(v.Z,{type:"number",name:"markValue",value:r,variant:"standard",onChange:function(e){return p({target:{value:e.target.value,id:t,name:"markValue"}})},inputProps:{min:0},sx:{width:60,marginRight:1},placeholder:"Value"}),(0,l.jsx)(v.Z,{type:"number",name:"score",value:a,variant:"standard",onChange:function(e){return p({target:{value:e.target.value,id:t,name:"score"}})},inputProps:{min:0},sx:{width:60,marginLeft:1},placeholder:"Score"}),(0,l.jsx)(Z.Z,{onClick:function(){return m.length>1&&x(t)},size:"large",sx:{position:"absolute",right:0,cursor:"pointer",color:1===m.length?"#949494":"#1565C0"}})]},t)}),(0,l.jsx)(eh,{children:(0,l.jsx)(y.Z,{sx:{cursor:"pointer",color:"#1565C0"},size:"large",onClick:h,fullWidth:!0})})]})},ep=(0,b.ZP)("div")(function(e){var n=e.theme;return{display:"flex",flexWrap:"wrap",flexDirection:"row",flex:1,width:"100%",alignItems:"center",marginBottom:n.spacing(1),gap:n.spacing(1)}}),eh=(0,b.ZP)("div")({display:"flex",justifyContent:"center",marginBottom:"10px"}),ex=t(79424),eg=t(41899),ev=t(77957),eb=t(52778),ey=t(15948),eZ=t(27070),ej=function(e){var n=e.formSchemeOnEdit,t=e.formSchemeOnDelete,i=e.formSchemeOnCopy;return"notification"===e.type?[{Icon:ev.Z,color:"#1565C0",onChange:n},{Icon:eb.Z,color:"#1565C0",onChange:t}]:[{Icon:eg.Z,color:"#1565C0",onChange:i},{Icon:ev.Z,color:"#1565C0",onChange:n},{Icon:eb.Z,color:"#1565C0",onChange:t}]},eC=["input","numberInput","switch","textArea","slider","select","multiSelect","radio","signature","checkbox","currency","time","timeRange","datepicker"],eI=function(e){var n=e.submissionData,t=e.scheme,g=void 0===t?[]:t,v=e.liftingState,b=e.liftingSubmissions,y=e.formSchemeOnEdit,Z=e.formSchemeOnCopy,j=e.formSchemeOnDelete,I=e.blockedSameStateValues,S=e.blockStyle,k=e.onDragEnd,D=e.subScheme,P=void 0===D?[]:D,M=e.preScheme,_=void 0===M?[]:M,N=e.key,A=void 0===N?"defaultKey":N,T=e.isOffCanvas,Y=void 0!==T&&T,R=e.calculatedTotalScore,q=e.entityId,L=e.refetch,B=e.onFileCountChange,U=void 0===B?function(){}:B,H=e.isPreview,en=void 0===H||H,et=(0,u.useState)((0,r.Z)({},n)),ei=et[0],er=et[1],ea=(0,u.useState)({})[1],eo=(0,u.useState)(0),el=eo[0],eu=eo[1],ed=(0,u.useState)(0)[1],em=(0,u.useState)(0)[1],ep=(0,u.useRef)("");(0,u.useEffect)(function(){var e=(0,s.Z)(_||[]).concat((0,s.Z)(g||[]),(0,s.Z)(P||[])).reduce(function(e,n){var t=n.stateName,o=n.defaultValue;return null!=o?(0,a.Z)((0,r.Z)({},e),(0,i.Z)({},t,o)):e},(0,r.Z)({},n));er((0,r.Z)({},e,n))},[g,n,er]);var eh=function(e,n){ed(e),eu(n),U(e)};(0,u.useEffect)(function(){b&&b(ei)},[ei]);var eg=(0,u.useCallback)(function(e,n,t,o){ep.current=e;var s=Array.isArray(t)?t.map(Number):[Number(t)];er(function(t){return(0,a.Z)((0,r.Z)({},t),(0,i.Z)({},e,n))}),ea(function(e){return(0,a.Z)((0,r.Z)({},e),(0,i.Z)({},o,s))})},[er,ea]);(0,u.useEffect)(function(){var e=[];null==g||g.forEach(function(n){var t=n.stateName,i=n.type,r=n.options,a=ei[t];if("checkbox"===i||"multiSelect"===i)(null==r?void 0:r.filter(function(e){return null==a?void 0:a.includes(e.value)})).forEach(function(n){e.push(Number(n.score)||0)});else if("select"===i){var o=null==r?void 0:r.find(function(e){return e.value===a});o&&e.push(Number(o.score)||0)}else if("radio"===i){var s=null==r?void 0:r.find(function(e){return e.radioValue===a});s&&e.push(Number(s.score)||0)}else if("numberInput"===i){var l,u=null===(l=n.score)||void 0===l?void 0:l.find(function(e){var n=Number(a);return n>=Number(e.min)&&n<=Number(e.max)});u&&e.push(Number(u.score)||0)}else if("currency"===i){var c,d=null===(c=n.score)||void 0===c?void 0:c.find(function(e){var n=Number(a);return n>=Number(e.min)&&n<=Number(e.max)});d&&e.push(Number(d.score)||0)}else if("slider"===i){var m,f=null===(m=n.marks)||void 0===m?void 0:m.find(function(e){return e.markValue===String(a)});f&&e.push(Number(null==f?void 0:f.score)||0)}"fileUpload"===i&&e.push(el)});var n=e.reduce(function(e,n){return e+n},0);em(n),R&&R(n)},[ei,R,g,el]);var ev=(0,u.useMemo)(function(){if(I){var e=(0,o.Z)(I,2),n=e[0];if(e[1].includes(ei[n]))return!1}return(Array.isArray(g)?g.filter(function(e){return e.required}):[]).every(function(e){return ei[e.stateName]})&&!0},[I,ei,g]);return(0,u.useEffect)(function(){var e=crypto.randomUUID();v&&v(ei,ev,e)},[ei,ev,v,g]),(0,l.jsx)(ey.Z5,{onDragEnd:k,children:(0,l.jsx)(ey.bK,{droppableId:"form-elements",direction:"vertical",children:function(e){return(0,u.createElement)(d.Z,(0,a.Z)((0,r.Z)({ref:e.innerRef},e.droppableProps),{sx:ew({isOffCanvas:Y}),key:A,children:[(0,s.Z)(_||[]).concat((0,s.Z)(g||[]),(0,s.Z)(P||[])).map(function(e,n){var t=e.label,i=e.type,o=e.stateName,s=e.placeholder,g=e.defaultValue,v=e.width,b=e.required,I=void 0!==b&&b,D=e.isVisible,P=e.isDisabled,M=void 0!==P&&P,N=e.isHidden,A=e.isShown,T=e.rowElementAmount,R=void 0===T?1:T,B=e.highlighted,U=e.description,H=e.id,et=e.logicalOperator,er=e.desc,ea=e.options,eo=e.url,el=e.linkText,eu=e.startPlaceholder,ed=e.endPlaceholder,em=e.minNumberValue,ep=void 0===em?Number.MIN_SAFE_INTEGER:em,ev=e.maxNumberValue,eb=void 0===ev?Number.MAX_SAFE_INTEGER:ev,eI=e.isMultiple,ew=e.scorePerFile,e_=e.fileCount,eN=e.initials,eO=(e.signerInitials,e.chooseDateType),e$=e.singleDate,eA=e.startDate,eT=e.endDate,eY=e.minSliderValue,eE=void 0===eY?0:eY,eR=e.maxSliderValue,eq=void 0===eR?10:eR,eV=e.descriptionCheckbox,eL=e.step,ez=e.marks,eB=e.popupContext,eU=e.elementType,eW=e.infinityElementLabel,eG=e.currencySign;return"notification"===i&&en?null:(0,c.NR)({logicalOperator:et,isVisible:void 0===D||D,isHidden:N,isShown:A,formState:ei})&&(0,l.jsx)(ey._l,{draggableId:H,index:n,children:function(e){var n;return(0,u.createElement)(d.Z,(0,a.Z)((0,r.Z)({ref:e.innerRef},e.draggableProps),{sx:eS((0,a.Z)((0,r.Z)({width:(0,c.hU)({rowElementAmount:R}),highlighted:B},S),{isOffCanvas:Y,type:i,isPreview:en})),key:t+o}),(0,l.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center"},children:[k&&(0,l.jsx)(m.Z,(0,a.Z)((0,r.Z)({sx:{display:"flex",alignItems:"center",cursor:"grab",paddingRight:"10px"}},e.dragHandleProps),{children:(0,l.jsx)(eZ.Z,{sx:{color:"#9CD1FF"}})})),(0,l.jsxs)(m.Z,{sx:{flex:1},children:[(0,l.jsxs)(d.Z,{sx:ek,children:[t&&eC.includes(i)&&(0,l.jsxs)(f.Z,{variant:"body1",children:[t," ",I&&" *"]}),(null==eV?void 0:eV.includes("informationIcon"))&&(null==U?void 0:U.trim())&&"link"!==i&&"fileUpload"!==i&&(0,l.jsx)(p.Z,{sx:eD,placement:"top",title:U,children:(0,l.jsx)(J.Z,{})})]}),"switch"===i&&(0,l.jsx)(h.Z,{labelPlacement:"top",checked:ei[o],label:t,onChange:function(e){return eg(o,e.target.checked)}}),"input"===i&&(0,l.jsx)(C,{onChange:function(e){return eg(o,e.target.value)},disabled:M,placeholder:s,label:t,value:ei[o],desc:er}),"infinityInput"===i&&(0,l.jsx)(w,{elementType:eU||"input",desc:er,infinityElementLabel:eW,placeholder:s,inputProps:{isDisabled:!1,id:crypto.randomUUID()},onChangeStates:function(e){return eg(o,e)},defaultOptionsArray:g}),"infinityScore"===i&&(0,l.jsx)(ee,{defaultOptionsArray:g,inputProps:{isDisabled:!1,id:crypto.randomUUID()},onChangeStates:function(e){return eg(o,e)}}),"infinityScoreSlider"===i&&(0,l.jsx)(ef,{defaultOptionsArray:g,inputProps:{isDisabled:!1,id:crypto.randomUUID()},onChangeStates:function(e){return eg(o,e)}}),"infinityNoScore"===i&&(0,l.jsx)(ec,{elementType:eU||"input",infinityElementLabel:eW,placeholder:s,inputProps:{isDisabled:!1,id:crypto.randomUUID()},onChangeStates:function(e){return eg(o,e)},defaultOptionsArray:g}),"fileUpload"===i&&(0,l.jsx)(G.Q,{isMultiple:eI,value:ei[o],desc:er,header:I?t+" *":t,infoDescription:U,fullWidth:!0,descriptionCheckbox:eV,entityId:q,refetch:L,fileCount:e_,scorePerFile:ew||0,onChange:eh}),"numberInput"===i&&(0,l.jsx)(C,{type:"number",desc:er,onChange:function(e){var n=e.target.value;eg(o,""===n?"":n.replace(/[^0-9.]/g,""))},onBlur:function(){var e=ei[o];if(""===e)eg(o,"");else{var n=parseFloat(e);n<ep?eg(o,ep):n>eb&&eg(o,eb)}},disabled:M,value:0===ei[o]?"":ei[o],inputProps:{min:ep,max:eb,step:"any"},placeholder:s,min:ep,max:eb}),"textArea"===i&&(0,l.jsx)(C,{multiline:!0,onChange:function(e){return eg(o,e.target.value)},disabled:M,placeholder:s,label:t,value:ei[o],desc:er}),"datepicker"===i&&(0,l.jsx)(O,{disabled:M,desc:er,chooseDateType:eO,singleDate:e$,startDate:eA,endDate:eT,placeholder:s,label:I?t+" *":t,value:ei[o],onChange:function(e){return eg(o,e.target.value)}}),"time"===i&&(0,l.jsx)($,{disabled:M,placeholder:s,desc:er,label:I?t+" *":t,value:ei[o],onChange:function(e){return eg(o,e.target.value)}}),"timeRange"===i&&(0,l.jsx)(X,{disabled:M,timeRange:ei[o]||{startTime:"",endTime:""},startPlaceholder:eu,endPlaceholder:ed,desc:er,onChange:function(e){eg(o,e)}}),"slider"===i&&(0,l.jsx)(K,{disabled:M,desc:er,step:eL,marks:ez,min:Number(eE),max:Number(eq),defaultValue:ei[o],onChange:function(e,n){return eg(o,Number(n))}}),"defaultText"===i&&(0,l.jsx)(f.Z,{variant:"body2",children:g}),"checkbox"===i&&(0,l.jsx)(W,{id:H,options:ea||[],desc:er,label:I?t+" *":t,checkedValues:ei[o]||[],onChange:function(e,n){eg(o,e,n,H)}}),"select"===i&&(0,l.jsx)(F,{options:ea,desc:er,placeholder:s,label:I?t+" *":t,width:v,defaultValue:(null===(n=_[0])||void 0===n?void 0:n.operatorValue)||ei[o],onChange:function(e,n){eg(o,e,n,H)}}),"multiSelect"===i&&(0,l.jsx)(V,{options:ea,placeholder:s,desc:er,onChange:function(e,n){eg(o,e,n,H)},value:g,label:I?t+" *":t,inputValue:ei[o]}),"radio"===i&&(0,l.jsx)(E,{radioArray:ea,desc:er,value:ei[o]||g,onChange:function(e,n){eg(o,e,n,H)}}),"currency"===i&&(0,l.jsx)(z,{currencySign:eG,desc:er,onChange:function(e){return eg(o,e.target.value)},value:ei[o],disabled:M,placeholder:s,label:ei[t]}),"text"===i&&(0,l.jsx)(m.Z,{sx:eM,children:t}),"signature"===i&&(0,l.jsx)(es,{label:t,desc:er,initials:eN,signerInitials:ei.signerInitials,defaultValue:ei[o],value:ei[o],onChange:function(e){eg(o,e)},onChangeInitials:function(e){eg("signerInitials",e)},placeholder:s}),"link"===i&&(0,l.jsx)(Q,{placeholder:s,value:ei[o],url:eo,disabled:M,label:I?t+" *":t,linkText:el,id:crypto.randomUUID(),description:U,fullWidth:!0,descriptionCheckbox:eV}),"notification"===i&&!en&&(0,l.jsx)(ex.D,{headerNotification:t,id:H,entityId:q,disabled:M,desc:er,popupContext:eB,url:eo,linkText:el,checkedValues:ei[o]||[],options:ea||[],onCheckboxChange:function(e){eg(o,e,H)},onFileChange:eh,onSignatureChange:function(e){eg(o.signature,e)}}),y&&(0,l.jsx)(x.Z,{sx:eF({highlighted:B,type:i,isPreview:en}),children:ej({formSchemeOnEdit:y,formSchemeOnDelete:j,formSchemeOnCopy:Z,type:i}).map(function(e,n){var t=e.Icon,i=e.color,o=e.onChange;return(0,l.jsx)(t,{sx:(0,a.Z)((0,r.Z)({},eP),{color:i}),onClick:function(){return o({fieldId:H})}},n)})})]})]}))}},H)}),e.placeholder]}))}})})},ew=function(e){var n=e.isOffCanvas;return{display:"flex",flexWrap:"wrap",paddingLeft:n&&"0 !important",paddingRight:n&&"0 !important"}},eS=function(e){var n=e.width,t=e.highlighted,i=e.border,r=e.backgroundColor,a=e.isPreview;return{mb:2,width:n,flex:"auto",p:"8px 16px 8px 16px !important",border:t?"2px solid #D9D9D9":i,borderRadius:"6px",backgroundColor:"notification"!==e.type||a?t?"#F8F8F8":r||"#FFFFFF":t?"#d8efed ":"#E5FFFD"}},ek={display:"flex",alignItems:"center",p:"0 !important",position:"relative"},eD={width:"16px",pb:"10px"},eF=function(e){var n=e.highlighted,t=e.type,i=e.isPreview;return{display:"flex",flexWrap:"wrap",alignContent:"flex-end",justifyContent:"flex-end",marginTop:"20px",backgroundColor:"notification"!==t||i?n?"#F8F8F8":"#F4FAFF":n?"#d8efed":"#E5FFFD"}},eP={cursor:"pointer",ml:"8px"},eM={borderBottom:"2px solid #1565C0",width:"53px",h:"33px",display:"flex",justifyContent:"center",marginBottom:"7px"}},30838:function(e,n,t){t.d(n,{NR:function(){return o},Os:function(){return a},hU:function(){return r}});var i=t(828),r=function(e){var n=e.rowElementAmount;return"".concat(100/Number(n),"%")},a={IS:"IS",IS_NOT:"IS_NOT",CONTAINS:"CONTAINS",NOT_CONTAINS:"NOT_CONTAINS"},o=function(e){var n,t,r=e.logicalOperator,o=e.isVisible,s=e.isHidden,l=e.isShown,u=e.formState;if(!o)return!1;if(l){var c=(0,i.Z)(l,2),d=c[0],m=c[1],f=u[d];return Array.isArray(f)?f.includes(m):f==m}if(s){if(!r||r===a.IS)return u[s[0]]==s[1];if(r===a.IS_NOT)return u[s[0]]!=s[1];if(r===a.CONTAINS)return null===(n=u[s[0]])||void 0===n?void 0:n.includes(s[1]);if(r===a.NOT_CONTAINS)return(null===(t=u[s[0]])||void 0===t?void 0:t.indexOf(s[1]))===-1}return!0}},81720:function(e,n,t){t.d(n,{FE:function(){return d},Mt:function(){return u},TZ:function(){return p},fN:function(){return c},h4:function(){return f},im:function(){return m},zd:function(){return h}});var i=t(90629),r=t(15861),a=t(5616),o=t(65582),s=t(68239),l=t(45098),u=(0,l.Z)(i.Z)(function(e){return e.props,{overflow:"hidden",backgroundColor:"#fff",maxWidth:"100%",padding:"24px 24px"}}),c=(0,l.Z)(r.Z)(function(e){var n=e.theme;return{fontWeight:600,display:"flex",maxWidth:"100%",marginBottom:n.spacing(1),marginLeft:n.spacing(1),minHeight:"30px",overflow:"hidden"}}),d=(0,l.Z)(a.Z)(function(){return{maxWidth:"100%",maxHeight:"100%",margin:"0 auto",height:"100vh",overflowX:"hidden",overflowY:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"column"}}),m=(0,l.Z)(a.Z)(function(){return{display:"flex",maxWidth:"calc(100%-40px)",overflow:"hidden"}}),f=(0,l.Z)(a.Z)(function(){return{height:"45px",display:"flex",alignItems:"center",maxWidth:"100%",padding:"0 20px",justifyContent:"space-between",backgroundColor:"#f5f5f5",overflow:"hidden"}}),p=(0,l.Z)(o.Z)({padding:"0 !important"}),h=(0,s.Z)({palette:{primary:{main:"#1565C0"}},typography:{button:{textTransform:"none",fontSize:"14px"}}})},38216:function(e,n,t){t.d(n,{FE:function(){return $},HS:function(){return N},Q2:function(){return _},T0:function(){return k},Vw:function(){return O},_q:function(){return A},cH:function(){return Z},dR:function(){return I},eu:function(){return P},fB:function(){return D},g$:function(){return j},ji:function(){return S},kH:function(){return F},n:function(){return w},q0:function(){return M},sy:function(){return C}});var i=t(7297),r=t(75063);function a(){var e=(0,i.Z)(["\n  query GetForms(\n    $q: String\n    $name: String\n    $userId: Int\n    $status: Boolean\n    $createdAt: timestamptz\n    $orderBy: [Form_order_by!]\n    $limit: Int\n    $offset: Int\n  ) {\n    Form(\n      where: {\n        _and: [\n          { id: { _neq: 1 } }\n          { name: { _ilike: $q } }\n          { userId: { _eq: $userId } }\n          { status: { _eq: $status } }\n          { createdAt: { _eq: $createdAt } }\n        ]\n      }\n      order_by: $orderBy\n      limit: $limit\n      offset: $offset\n    ) {\n      id\n      name\n      description\n      createdAt\n      userId\n      status\n      formFields\n      settings\n      FormUser {\n        id\n        nameFirst\n        nameLast\n        __typename\n      }\n      __typename\n    }\n    meta: Form_aggregate(\n      where: {\n        _and: [\n          { id: { _neq: 1 } }\n          { name: { _ilike: $q } }\n          { userId: { _eq: $userId } }\n          { status: { _eq: $status } }\n          { createdAt: { _eq: $createdAt } }\n        ]\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n"]);return a=function(){return e},e}function o(){var e=(0,i.Z)(["\n  mutation UpdateStatus($id: Int!, $status: Boolean!) {\n    update_Form_by_pk(pk_columns: { id: $id }, _set: { status: $status }) {\n      id\n      status\n    }\n  }\n"]);return o=function(){return e},e}function s(){var e=(0,i.Z)(['\n  mutation UpdateStatusAndEntity($formId: Int!) {\n    update_Form(where: { id: { _eq: $formId } }, _set: { status: false }) {\n      affected_rows\n    }\n    delete_FormSubmissions(\n      where: {\n        formId: { _eq: $formId }\n        _or: [\n          {\n            entity: { _eq: "Taxonomy" }\n            FormSubmissionsTaxonomies: {\n              status: { _in: ["active", "followOn", "reportSent", "completed"] }\n            }\n          }\n          {\n            entity: { _eq: "Job" }\n            FormSubmissionsJobs: { status: { _in: ["raised", "offered", "accepted"] } }\n          }\n          {\n            entity: { _eq: "Ppm" }\n            FormSubmissionsJobs: { status: { _in: ["raised", "offered", "accepted"] } }\n          }\n          { entity: { _eq: "Task" }, FormSubmissionsTasks: { status: { _in: ["new", "todo"] } } }\n          { entity: { _eq: "Workflow" }, FormSubmissionsWorkflows: { status: { _in: ["active"] } } }\n        ]\n      }\n    ) {\n      affected_rows\n    }\n  }\n']);return s=function(){return e},e}function l(){var e=(0,i.Z)(["\n  query GetFormNames {\n    Form {\n      name\n      id\n      formFields\n      settings\n    }\n  }\n"]);return l=function(){return e},e}function u(){var e=(0,i.Z)(["\n  query GetActiveForms {\n    Form(where: { status: { _eq: true } }) {\n      name\n      id\n      status\n      formFields\n      settings\n    }\n  }\n"]);return u=function(){return e},e}function c(){var e=(0,i.Z)(["\n  query GetFormById($id: Int!) {\n    Form_by_pk(id: $id) {\n      id\n      userId\n      status\n      name\n      description\n      formFields\n      adminId\n      createdAt\n      updatedAt\n      settings\n    }\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,i.Z)(["\n  mutation AddForm($object1: Form_insert_input!) {\n    insert_Form_one(object: $object1) {\n      id\n    }\n  }\n"]);return d=function(){return e},e}function m(){var e=(0,i.Z)(["\n  mutation UpdateForm($id: Int!, $changes: Form_set_input!) {\n    update_Form_by_pk(pk_columns: { id: $id }, _set: $changes) {\n      id\n      userId\n      status\n      name\n      description\n      formFields\n      settings\n    }\n  }\n"]);return m=function(){return e},e}function f(){var e=(0,i.Z)(['\n  mutation UpdateSubmissionsByForm($formId: Int!, $formFields: jsonb!) {\n    update_FormSubmissions(\n      where: { formId: { _eq: $formId }, entity: { _eq: "Taxonomy" } }\n      _set: { submissionData: null, formFields: $formFields }\n    ) {\n      affected_rows\n      returning {\n        id\n        formId\n        formFields\n        submissionData\n        entity\n        entityId\n      }\n    }\n  }\n']);return f=function(){return e},e}function p(){var e=(0,i.Z)(['\n  mutation UpdateIncompleteSubmissionsByForm(\n    $formId: Int!\n    $formFields: jsonb!\n    $submissionData: jsonb = null\n  ) {\n    update_FormSubmissions(\n      where: {\n        formId: { _eq: $formId }\n        entity: { _neq: "Taxonomy" }\n        _or: [\n          {\n            entity: { _eq: "Job" }\n            FormSubmissionsJobs: { status: { _in: ["raised", "offered", "accepted"] } }\n          }\n          {\n            entity: { _eq: "Ppm" }\n            FormSubmissionsJobs: { status: { _in: ["raised", "offered", "accepted"] } }\n          }\n          { entity: { _eq: "Task" }, FormSubmissionsTasks: { status: { _in: ["new", "todo"] } } }\n          { entity: { _eq: "Workflow" }, FormSubmissionsWorkflows: { status: { _in: ["active"] } } }\n        ]\n      }\n      _set: { submissionData: $submissionData, formFields: $formFields }\n    ) {\n      affected_rows\n      returning {\n        id\n        formId\n        formFields\n        submissionData\n        entity\n        entityId\n      }\n    }\n  }\n']);return p=function(){return e},e}function h(){var e=(0,i.Z)(["\n  query GetFormSubmissionsByTaxonomyIds($taxonomyIds: [Int!]) {\n    FormSubmissions(where: { entityId: { _in: $taxonomyIds } }) {\n      id\n      entity\n      entityId\n      form: FormSubmissionsForm {\n        name\n      }\n    }\n  }\n"]);return h=function(){return e},e}function x(){var e=(0,i.Z)(["\n  query GetFormSubmission($entity: String!, $entityId: Int!) {\n    FormSubmissions(\n      where: { _and: [{ entity: { _eq: $entity } }, { entityId: { _eq: $entityId } }] }\n    ) {\n      id\n      formId\n      userId\n      formFields\n      submissionData\n      entity\n      entityId\n      type\n      form: FormSubmissionsForm {\n        name\n        description\n        status\n        settings\n      }\n    }\n  }\n"]);return x=function(){return e},e}function g(){var e=(0,i.Z)(["\n  query GetFormSubmission($id: Int!) {\n    FormSubmissions_by_pk(id: $id) {\n      id\n      formId\n      formFields\n      submissionData\n      entity\n      entityId\n      form: FormSubmissionsForm {\n        name\n        status\n        description\n      }\n    }\n  }\n"]);return g=function(){return e},e}function v(){var e=(0,i.Z)(["\n  mutation CreateFormSubmissions(\n    $formId: Int!\n    $userId: Int!\n    $formFields: jsonb!\n    $submissionData: jsonb\n    $entity: String!\n    $entityId: Int!\n  ) {\n    insert_FormSubmissions_one(\n      object: {\n        formId: $formId\n        userId: $userId\n        formFields: $formFields\n        submissionData: $submissionData\n        entity: $entity\n        entityId: $entityId\n      }\n    ) {\n      id\n      formId\n      userId\n      formFields\n      submissionData\n      entity\n      entityId\n    }\n  }\n"]);return v=function(){return e},e}function b(){var e=(0,i.Z)(["\n  mutation UpdateFormSubmission($id: Int!, $changes: FormSubmissions_set_input!) {\n    update_FormSubmissions_by_pk(pk_columns: { id: $id }, _set: $changes) {\n      id\n      formId\n      formFields\n      submissionData\n      entity\n      entityId\n    }\n  }\n"]);return b=function(){return e},e}function y(){var e=(0,i.Z)(["\n  mutation deleteFormSubmission($id: Int!) {\n    delete_FormSubmissions(where: { id: { _eq: $id } }) {\n      affected_rows\n    }\n  }\n"]);return y=function(){return e},e}var Z=(0,r.Ps)(a()),j=(0,r.Ps)(o()),C=(0,r.Ps)(s()),I=(0,r.Ps)(l()),w=(0,r.Ps)(u()),S=(0,r.Ps)(c()),k=(0,r.Ps)(d()),D=(0,r.Ps)(m()),F=(0,r.Ps)(f()),P=(0,r.Ps)(p()),M=(0,r.Ps)(h()),_=(0,r.Ps)(x()),N=(0,r.Ps)(g()),O=(0,r.Ps)(v()),$=(0,r.Ps)(b()),A=(0,r.Ps)(y())},86267:function(e,n,t){t.d(n,{G:function(){return E}});var i=t(26042),r=t(69396),a=t(85893),o=t(45697),s=t.n(o),l=t(6388),u=t(52824),c=t(15033),d=t(23892),m=t(39087),f=t(76256),p=t(40826),h=function(e,n){var t=function(){return(0,a.jsx)(p.Z,{context:"success",icon:"check",size:"sm",title:"Yes"})},i=function(){return(0,a.jsx)(p.Z,{context:"warning",icon:"times",size:"sm",title:"No"})},r=function(){return(0,a.jsx)(p.Z,{context:"dark",icon:"minus",size:"sm",title:"Unavailable"})};return"image"===e?(null==n?void 0:n.thumbnails)&&(null==n?void 0:n.thumbnails.length)?t:i:r},x=t(20705),g=t(2845),v=t(86532),b=t(22797),y=t(38895),Z=t(5616),j=t(11057),C=t(51233),I=t(21023),w=t(15861),S=t(14924),k=t(70872),D=t(58886),F=t(90948),P=t(67294),M=t(77314),_=(0,t(42850).bH)(M.ZP),N=function(e){var n=e.images,t=e.showPagination,r=e.height,o=(0,P.useState)(0),s=o[0],l=o[1],u=function(e){l(e)};return(0,a.jsxs)(C.Z,{width:"100%",alignItems:"center",children:[(0,a.jsx)(_,{index:s,onChangeIndex:u,enableMouseEvents:!0,interval:1e4,children:n.map(function(e){return(0,a.jsx)(Z.Z,{component:"img",sx:{height:r,display:"block",overflow:"hidden",width:"100%",objectFit:"cover"},src:e.filename,alt:e.caption},e.caption)})}),t&&n.length>1&&(0,a.jsx)(O,{page:s+1,count:n.length,onChange:function(e,n){return u(n-1)},variant:"outlined",shape:"rounded",renderItem:function(e){return(0,a.jsx)(D.Z,(0,i.Z)({slots:{previous:function(){return"Previous"},next:function(){return"Next"}}},e))}})]})};N.defaultProps={images:[],showPagination:!0},N.propTypes={height:s().oneOfType([s().string,s().number]),images:s().arrayOf(s().shape({caption:s().string,filename:s().string.isRequired}).isRequired).isRequired,showPagination:s().bool};var O=(0,F.ZP)(k.Z)(function(e){e.hidePrevButton,e.hideNextButton;var n,t=e.theme;return n={},(0,S.Z)(n,"&.MuiPagination-root",{alignSelf:"center",marginTop:"16px"}),(0,S.Z)(n,"& .MuiPaginationItem-root",{fontWeight:600,margin:0,borderRadius:0}),(0,S.Z)(n,"& .MuiPagination-ul > li:last-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"0 5px 5px 0"}),(0,S.Z)(n,"& .MuiPagination-ul > li:first-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"5px 0 0 5px"}),(0,S.Z)(n,"& button.Mui-selected",{color:t.palette.white.main,backgroundColor:t.palette.secondary.main}),n}),$=t(27434),A=t(5336),T=t(12547),Y=t(64872),E=function(e){var n=e.carousel,t=e.category,o=e.data,s=e.entity,p=e.entityId,S=e.filters,k=e.listView,D=e.mediaMeta,F=e.onMediaAdd,P=e.onMediaRemove,M=e.showActionButtons,_=e.showEntityColumn,O=e.showItemActions,E=e.title,R=e.type,q=e.expanded,V=e.onChangeExpanded,L=e.hideExpandIcon,z=e.mediaFormProps,B=e.offCanvasProps,U=e.onlySingleMedia,W=e.elevation,G=e.accordionSx,H=e.refetch,K=(0,x.x)({filters:S}),J=K.initialData,Q=K.ref,X=(0,g.x)(),ee=X.hasRole,en=X.user,et=(0,Y.a)(),ei=(0,l.aM)(u.t,{variables:(0,r.Z)((0,i.Z)({},J),{entity:s,entityId:p,category:t,adminId:en.adminId,meta:D})}),er=ei.data,ea=void 0===er?{items:[],meta:{aggregate:{totalCount:0}}}:er,eo=ea.items,es=ea.meta,el=ei.loading,eu=ei.refetch,ec=function(e){et.close(),o.length||eu();var n=e.map(function(e){return(0,r.Z)((0,i.Z)({},e),{link:"".concat("https://cleverly-staging-media.s3.eu-west-2.amazonaws.com","/").concat(e.filename)})});F&&F(n),H&&H()},ed=function(e){et.close(),o.length||eu(),P&&P(e),H&&H()},em=function(e){e.stopPropagation(),et.show((0,i.Z)({content:(0,a.jsx)(f.z,(0,i.Z)({accept:"image/*",adminId:en.adminId,category:t,entity:s,entityId:p,expiryShow:!1,mediaMeta:D,multiple:!0,onSuccess:ec,type:"image"},z)),title:"Upload Photos"},B))},ef=function(e){e.stopPropagation(),et.show((0,i.Z)({content:(0,a.jsx)(f.z,(0,i.Z)({accept:".pdf, .doc, .docx, .xlsx",adminId:en.adminId,category:t,entity:s,entityId:p,expiryShow:!1,mediaMeta:D,onSuccess:ec,type:"document"},z)),title:"Upload Documents"},B))},ep=function(e){et.show({content:(0,a.jsx)(d.d,{mediaId:e.data.id,onSuccess:ed}),submit:!1,title:"Delete Media"})},eh=function(e){et.show({content:(0,a.jsx)(m.z,{media:e.data,toggleShow:et.close}),title:"Media Details",width:"50%"})},ex=function(e){return[{context:"primary",icon:"info",onClick:function(n){return eh(e)},tooltip:"Details"},{context:"danger",icon:"delete",onClick:function(n){return ep(e)},tooltip:"Delete"}]},eg=[],ev=eo.filter(function(e){var n=e.item;return(null==n?void 0:n.visibility)&&ee(null==n?void 0:n.visibility)}).map(function(e){var n=e.entity,t=e.entityId,i=e.id,r=e.item,a=r.caption,o=r.filename,s=r.meta,l=r.name,u=r.type,c=r.user,d=r.visibility;return{data:r,id:i,userId:null==c?void 0:c.id,filename:o,visibility:d.join(", "),file:a||l||o,entity:n&&"".concat(n,"#").concat(t),authority:s,uploaded:"".concat(null==c?void 0:c.nameFirst," ").concat(null==c?void 0:c.nameLast),thumbnails:h(u,s),actions:""}}),eb=(eo.filter(function(e){var n=e.item;return(null==n?void 0:n.visibility)&&ee(null==n?void 0:n.visibility)}).forEach(function(e){var n=e.item,t=n.caption,i=n.filename;"image"===n.type&&eg.push({caption:t,filename:"".concat("https://cleverly-staging-media.s3.eu-west-2.amazonaws.com","/").concat(i)})}),eg),ey=eb.length;return(0,a.jsxs)(v.Z,{elevation:W,expanded:q,onChange:V,sx:G,children:[(0,a.jsx)(y.Z,(0,r.Z)((0,i.Z)({},L?{}:{expandIcon:(0,a.jsx)($.Z,{})}),{children:(0,a.jsx)(w.Z,{variant:"h6",children:E})})),(0,a.jsxs)(b.Z,{children:[n&&ey>0&&(0,a.jsx)(N,{height:"200px",images:eb}),(0,a.jsx)(c.i,{columns:[{field:"file",headerName:"File",flex:1,sortable:!1,renderCell:function(e){var n=e.row,t=e.value;return(0,a.jsx)(T.r,{color:"secondary",onClick:function(e){e.preventDefault(),window.open("".concat("https://cleverly-staging-media.s3.eu-west-2.amazonaws.com","/").concat(n.filename))},children:t})}},{field:"visibility",headerName:"Visible to",flex:1,sortable:!1},{hide:!_,field:"entity",headerName:"Entity",flex:1,sortable:!1},{field:"authority",headerName:"",width:50,sortable:!1,renderCell:function(e){var n=e.value;return(0,a.jsx)(a.Fragment,{children:(null==n?void 0:n.adminOnly)&&(0,a.jsx)(I.Z,{title:"Admin user only",children:(0,a.jsx)(Z.Z,{component:"img",alt:"Admin Only",src:"/messaging/admin-only.svg",sx:{height:"24px"}})})})}},{field:"uploaded",headerName:"Uploaded by",flex:1,sortable:!1},{hide:!k,field:"thumbnails",headerName:"Thumbnails",flex:1,sortable:!1,renderCell:function(e){var n=e.value;return"function"==typeof n?n():n}},{hide:!O,field:"actions",headerName:"",width:50,sortable:!1,renderCell:function(e){var n=e.row;return ee("admin")?(0,a.jsx)(A.C,{actionsData:ex,row:n}):en.id===n.userId?(0,a.jsx)(A.C,{actionsData:ex,row:n}):null}}],rows:ev,loading:el,meta:es,ref:Q,refetch:eu,columnVisibilityModel:{entity:_,thumbnails:k,actions:O}}),M&&!(U&&ev.length>0)&&(0,a.jsxs)(C.Z,{direction:"row",justifyContent:"center",spacing:2,mt:2,children:[(!R||"document"===R)&&(0,a.jsx)(j.Z,{variant:"contained",color:"secondary",onClick:ef,children:"Add Document"}),(!R||"image"===R||"avatar"===R)&&(0,a.jsxs)(j.Z,{variant:"contained",color:"secondary",onClick:em,children:["Add ",R?"".concat(R.charAt(0).toUpperCase()).concat(R.slice(1)):"Image"]})]})]})]})};E.propTypes={carousel:s().bool,category:s().string,data:s().array,entity:s().string,entityId:s().number,filters:s().object,listView:s().bool,mediaMeta:s().object,onMediaAdd:s().func,onMediaRemove:s().func,showActionButtons:s().bool,showEntityColumn:s().bool,showItemActions:s().bool,title:s().string,type:s().string,expanded:s().bool,onChangeExpanded:s().func,hideExpandIcon:s().bool,mediaFormProps:s().object,offCanvasProps:s().object,onlySingleMedia:s().bool,elevation:s().number,accordionSx:s().object,refetch:s().func},E.defaultProps={carousel:!0,data:[],filters:{},listView:!1,mediaMeta:null,showActionButtons:!0,showEntityColumn:!1,showItemActions:!0,title:"Media",type:null,onChangeExpanded:function(){},mediaFormProps:{},offCanvasProps:{},category:"media",onlySingleMedia:!1,elevation:1,accordionSx:{},refetch:function(){}}},15033:function(e,n,t){t.d(n,{i:function(){return w}});var i=t(14924),r=t(26042),a=t(69396),o=t(85893),s=t(67294),l=t(11163),u=t(45697),c=t.n(u),d=t(61870),m=t(5616),f=t(51233),p=t(15861),h=t(90948),x=t(41796),g=t(29217),v=t(45111),b=t(46003),y=t(70872),Z=t(58886),j=t(61730),C=function(e){var n=e.currentPage,t=e.totalCount,i=e.pageSize,a=e.onPageChange,s=(0,j.Z)("(max-width:400px)"),l=(0,j.Z)("(max-width:500px)");return(0,o.jsx)(I,{mb:2,page:n,count:Math.ceil(t/i),onChange:function(e,n){return a(n)},variant:"outlined",shape:"rounded",size:s?"small":"medium",hidePrevButton:1===n,hideNextButton:n===Math.ceil(t/i),siblingCount:l?0:1,renderItem:function(e){return(0,o.jsx)(Z.Z,(0,r.Z)({slots:{previous:function(){return"Previous"},next:function(){return"Next"}}},e))}})};C.defaultProps={currentPage:1,totalCount:0,pageSize:50,onPageChange:function(){}},C.propTypes={currentPage:c().number,totalCount:c().number,pageSize:c().number,onPageChange:c().func};var I=(0,h.ZP)(y.Z)(function(e){var n,t=e.hidePrevButton,a=e.hideNextButton,o=e.theme;return n={},(0,i.Z)(n,"&.MuiPagination-root",{alignSelf:"center",marginTop:"16px"}),(0,i.Z)(n,"& .MuiPaginationItem-root",{fontWeight:600,margin:0,borderRadius:0}),(0,i.Z)(n,"& .MuiPagination-ul > li:last-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"0 5px 5px 0"}),(0,i.Z)(n,"& .MuiPagination-ul > li:first-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"5px 0 0 5px"}),(0,i.Z)(n,"& button.Mui-selected",(0,r.Z)({color:o.palette.white.main,backgroundColor:o.palette.secondary.main},a?{borderRadius:"0 5px 5px 0"}:{},t?{borderRadius:"5px 0 0 5px"}:{})),n}),w=(0,s.forwardRef)(function(e,n){var t=e.columns,i=e.history,a=e.initialSort,u=e.meta,c=e.refetch,d=e.paginationSize,m=e.containerHeight,h=e.noResultsMessage,x=e.autoHeight,y=(0,l.useRouter)(),Z=y.query,j=void 0===Z?{}:Z,I=(0,s.useState)(parseInt(null==j?void 0:j.page,10)||1),w=I[0],D=I[1],F=(0,s.useState)(d||b.C1.paginationSize),P=F[0],M=F[1];a||(a={item:"createdAt",order:"desc"});var _=(0,s.useState)({item:a.item,order:a.order}),N=_[0],O=_[1],$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=y.query,t=void 0===n?{}:n;if(e>1?t.page=e:delete t.page,!(Object.keys(t).length>0))return{};var i=Object.keys(t).map(function(n){return"page"===n?"".concat(n,"=").concat(e):"".concat(n,"=").concat(t[n])}).join("&");return"?".concat(i)},A=function(){O({item:a.item,order:a.order}),D(1);var e=$();y.push(e),M(d||b.C1.paginationSize)};(0,s.useImperativeHandle)(n,function(){return{currentPage:w,pageSize:P,sort:N,resetPagination:function(){A()}}});var T=function(e){var n=$(e);i&&y.push(n),D(e),!i&&c&&c()},Y=function(e){e&&e.field&&e.sort?(O({item:t.find(function(n){return n.field===e.field}).sortName||e.field||e.item||a.item,order:e.sort||e.order||a.order}),c&&c()):(O({item:a.item,order:a.order}),c&&c())};return(0,o.jsxs)(S,{containerHeight:m,children:[(0,o.jsx)(k,(0,r.Z)({hideFooter:!0,disableColumnMenu:!0,disableSelectionOnClick:!0,autoHeight:x,sortingMode:"server",onSortModelChange:function(e){return Y(e[0])},columns:t,pageSize:P,slots:{columnSortedAscendingIcon:function(){return(0,o.jsx)(g.Z,{})},columnSortedDescendingIcon:function(){return(0,o.jsx)(v.Z,{})},columnUnsortedIcon:function(){return(0,o.jsxs)(f.Z,{alignItems:"center",sx:{width:"33px"},children:[(0,o.jsx)(g.Z,{sx:{marginBottom:"-15px"}}),(0,o.jsx)(v.Z,{})]})},noResultsOverlay:function(){return(0,o.jsx)(f.Z,{height:"100%",alignItems:"center",justifyContent:"center",spacing:1,p:1,children:(0,o.jsx)(p.Z,{children:h})})},noRowsOverlay:function(){return(0,o.jsx)(f.Z,{height:"100%",alignItems:"center",justifyContent:"center",spacing:1,p:1,children:(0,o.jsx)(p.Z,{children:h})})}}},e)),u&&Math.ceil(u.aggregate.totalCount/P)>1&&(0,o.jsx)(C,{currentPage:w,totalCount:u.aggregate.totalCount,pageSize:P,onPageChange:T})]})});w.propTypes={history:c().bool,initialSort:c().object,loading:c().bool,meta:c().object,refetch:c().func,paginationSize:c().number,noResultsMessage:c().string,columns:c().array.isRequired,rows:c().array.isRequired,autoHeight:c().bool},w.defaultProps={columns:[],history:!1,loading:!1,rows:[],noResultsMessage:"There are no results.",autoHeight:!0};var S=(0,h.ZP)(m.Z)(function(e){return{height:e.containerHeight,display:"flex",flexDirection:"column"}}),k=(0,h.ZP)(d.s)(function(e){var n,t=e.theme,o=e.hideHeader,s=(e.rows,e.loading,e.rowHeight),l=e.isPdf;return n={"--DataGrid-overlayHeight":"40px"},(0,i.Z)(n,"&.MuiDataGrid-root",(0,r.Z)({color:t.palette.black.main,border:"none"},l&&{"@media print":{display:"block"}})),(0,i.Z)(n,"& .MuiDataGrid-main",(0,r.Z)({},l&&{"@media print":{overflow:"visible !important"}})),(0,i.Z)(n,"& .MuiDataGrid-columnHeaders",(0,a.Z)((0,r.Z)({},o&&{display:"none"}),{"& .MuiDataGrid-iconButtonContainer":{visibility:"visible","& .MuiButtonBase-root.MuiIconButton-root":{backgroundColor:"inherit",color:t.palette.black.main,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}}}})),(0,i.Z)(n,"& .MuiDataGrid-virtualScroller",(0,r.Z)({},o&&{marginTop:"0 !important"},l&&{"@media print":{overflow:"visible !important"}})),(0,i.Z)(n,"& .MuiDataGrid-iconSeparator",{opacity:0}),(0,i.Z)(n,"& .MuiDataGrid-columnHeaderTitle",{fontWeight:700}),(0,i.Z)(n,"& .MuiButtonBase-root.MuiDataGrid-columnHeaderTitle",{fontWeight:700}),(0,i.Z)(n,"& .MuiDataGrid-virtualScrollerContent",(0,r.Z)({},l&&{height:"initial !important",minHeight:"initial !important"})),(0,i.Z)(n,"& .MuiDataGrid-virtualScrollerRenderZone",(0,r.Z)({},l&&{position:"relative"})),(0,i.Z)(n,"& .MuiDataGrid-overlayWrapper",(0,i.Z)({},"& .MuiCircularProgress-root",{color:t.palette.secondary.main})),(0,i.Z)(n,"& .MuiDataGrid-row",(0,r.Z)({},l&&{minHeight:"".concat(s,"cm !important"),maxHeight:"".concat(s,"cm !important")})),(0,i.Z)(n,"& .MuiDataGrid-row > .MuiDataGrid-cell",(0,r.Z)({},l&&{minHeight:"".concat(s,"cm !important"),maxHeight:"".concat(s,"cm !important")})),(0,i.Z)(n,"& .MuiDataGrid-row.even",{backgroundColor:t.palette.muiLightGray.main,"&:hover, &.Mui-hovered":{backgroundColor:(0,x.Fq)(t.palette.muiLightGray.main,.3),"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:(0,x.Fq)(t.palette.muiLightGray.main,.3+t.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:(0,x.Fq)(t.palette.muiLightGray.main,.3+t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,x.Fq)(t.palette.muiLightGray.main,.3+t.palette.action.selectedOpacity)}}}}),n})}}]);