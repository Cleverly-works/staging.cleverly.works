"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8849],{69435:function(e,n,t){t.d(n,{G:function(){return a},u:function(){return i}});var i=function(e){var n,t=0;for(n=0;n<e.length;n+=1)t=e.charCodeAt(n)+((t<<5)-t);var i="#";for(n=0;n<3;n+=1){var a=t>>8*n&255;i+="00".concat(a.toString(16)).slice(-2)}return i},a=function(e){return{sx:{bgcolor:i(e)},children:"".concat(e.split(" ")[0][0]).concat(e.split(" ")[1][0])}}},58849:function(e,n,t){t.d(n,{Z:function(){return nx}});var i=t(7297),a=t(85893),r=t(10367),o=t(5616),s=t(22430),d=t(61730),c=t(98700),l=t(2845),h=t(39332),u=t(46566),p=t(26042),f=t(69396),v=t(99534),m=t(67294),b=t(41664),x=t.n(b),g=t(73987),Z=t(77533),w=t(98619),C=t(15861),j=t(69661),y=t(90948),P=t(51233),k=t(93946),S=t(326),M=t(97372),I=t(277),_=t(25213),N=t(73752),A=t(39646),L=t(11214),F=t(86510),D=t(69308),R=t(94229),B=t(66299),T=t(76638),Q=function(e){var n=[];return e.forEach(function(e){if(!e.hide){if(e.children){var t=Q(e.children);t.length&&n.push((0,f.Z)((0,p.Z)({},e),{children:t}))}else n.push(e)}}),n},z=function(e){var n=e.hasSageIntegration,t=e.hasXeroIntegration,i=e.hasAssetModule,a=e.hasWorkflows,r=e.hasDataReports,o=e.hasDataCharts,s=e.isMobile;return Q([{id:"navCreateJob",type:"actionButton",title:"Create work order",href:"/dashboard/issues/manage",icon:I.Z},{id:"navDashboardDrop",href:"/dashboard",icon:T.Z,title:"Dashboard",children:[{id:"navDashboard",title:"Dashboard",href:"/dashboard"},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot"},{id:"navTasks",title:"Tasks",href:"/dashboard/tasks"},{id:"navSearch",title:"Search",href:"/dashboard/search"}]},{id:"navWorkOrders",href:"/dashboard",icon:_.Z,title:"Work Orders",children:[{id:"navReactive",title:"Reactive",href:"/dashboard/issues"},{id:"navReactiveCreate",title:"Create Reactive",href:"/dashboard/issues/manage"},{id:"navQuote",title:"Quotes",href:"/dashboard/quotes"},{id:"navQuoteCreate",title:"Create Quote",href:"/dashboard/issues/manage?quoted=1"},{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"},{id:"NavPpmSchedules",title:"PPM Schedules",href:"/dashboard/scheduledjob"}]},{id:"navFormBuilder",href:"/dashboard",icon:B.Z,title:"Form Builder",children:[{id:"navFormBuilderIndex",title:"List",href:"/dashboard/formBuilder"},{id:"navFormBuilderCreate",title:"Create",href:"/dashboard/formBuilder/create"}]},{id:"navCustomersDrop",href:"/dashboard",title:"Customers",icon:N.Z,children:[{id:"navCustomers",title:"List",href:"/dashboard/customers"},{id:"navCustomersCreate",title:"Create",href:"/dashboard/customers/manage"}]},{id:"navLocationsDrop",href:"/dashboard",title:"Locations",icon:D.Z,children:[{id:"navLocations",title:"List",href:"/dashboard/properties"},{hide:!i,id:"navAssets",title:"Assets",href:"/dashboard/assets"}]},{id:"navSuppliersDrop",href:"/dashboard",title:"Suppliers",icon:A.Z,children:[{id:"navSuppliers",title:"List",href:"/dashboard/suppliers"},{id:"navSuppliersCreate",title:"Create",href:"/dashboard/suppliers/create"}]},{id:"navAutomations",href:"/dashboard",title:"Automation",icon:L.Z,children:[{id:"navEvents",title:"Events",href:"/dashboard/communications"},{hide:!a||s,id:"navWorkflowsFind",title:"Workflows",href:"/dashboard/workflows"}]},{id:"navData",href:"/dashboard",title:"Data",icon:F.Z,children:[{id:"navDataBusiness",title:"Charts",hide:!o,href:"/dashboard/data/business"},{id:"navDataFinancial",title:"Financial",href:"/dashboard/data/financial"},{id:"navFinancialReports",title:"Reports",hide:!r,href:"/dashboard/data/reports"},{hide:!n,id:"navPostAccounts",title:"Post Accounts",href:"/dashboard/data/postAccounts"},{hide:!t,id:"navXeroInvoices",title:"Xero",href:"/dashboard/data/xero"},]},{id:"navAccount",icon:R.Z,href:"/dashboard",title:"System settings",children:[{id:"navSettings",title:"System Settings",href:"/dashboard/settings/settings"},{id:"navAccount",title:"Company",href:"/dashboard/admins/view"},{id:"navAccounts",title:"Accounts",href:"/dashboard/account"},{id:"navUsers",title:"Users",href:"/dashboard/users"},{id:"navMedia",title:"Media",href:"/dashboard/media"},{id:"navServices",title:"Services",href:"/dashboard/services"},{id:"navCoverage",title:"Coverage",href:"/dashboard/coverage"},{id:"navSlas",title:"SLAs",href:"/dashboard/slas"},{id:"navCompliance",title:"Compliance",href:"/dashboard/compliance"},{id:"navCategories",title:"Categories",href:"/dashboard/taxonomy"},{id:"navAPI",title:"API",href:"/dashboard/api"}]}])},H=t(18586),J=t(53147),W=t(95486),E=t(15771),q=function(e){e.isCustomerOwner,e.isCustomerManager;var n=e.isCustomerUser,t=e.hasQuotesModule,i=e.hasPPMscheduleModule;return Q([{id:"navCreateJob",type:"actionButton",title:"Create work order",href:"/dashboard/issues/manage",icon:I.Z},{id:"navHomeMenu",title:"Dashboard",href:"/dashboard",icon:T.Z},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot",icon:J.Z},{id:"navWorksMenu",title:"Reactive works",icon:_.Z,children:[{id:"navCurrentJobs",title:"Current Jobs",href:"/dashboard/issues?show=current"},{id:"navWorkOrdersCreate",title:"Create Job",href:"/dashboard/issues/manage"},{id:"navJobHistory",title:"Job History",href:"/dashboard/issues?show=past"}]},{id:"navPPM",title:"Planned maintenance",icon:E.Z,children:[{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"},{hide:!i&&n,id:"NavPpmSchedules",title:"PPM Schedules",href:"/dashboard/scheduledjob"}]},{id:"navQuotes",title:"Quotes",icon:W.Z,hide:!t&&n,children:[{id:"navQuote",title:"Find Quote",href:"/dashboard/quotes"}]},{id:"navLocations",title:"Locations",href:"/dashboard/properties",icon:D.Z},{id:"account",title:"Account",href:"/dashboard/customers/view",icon:R.Z}])},O=[{id:"navFinanceMenu",title:"Finance",children:[{id:"navDashboard",title:"Data",href:"/dashboard/finance"}]},{id:"navAccountsMenu",icon:"cog",title:"Accounts Menu",children:[{id:"navAccounts",title:"Accounts",href:"/dashboard/account"},{id:"navAdminsCreate",title:"Create Admin",href:"/dashboard/admins/manage"},{id:"navSettingsDivider",divider:!0},{id:"navLeads",title:"Leads",href:"/dashboard/leads"},{id:"navFinanceCalculator",title:"Finance Calculator",href:"/dashboard/finance/calculator"},{id:"navStepperWorkflow",title:"Stepper Workflow",href:"/dashboard/stepper"}]}],U=[{id:"navHome",title:"Dashboard",href:"/dashboard",icon:T.Z},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot",icon:J.Z},{id:"navInstructionsMenu",title:"Reactive works",icon:_.Z,children:[{id:"navJobOffers",title:"Current offers",href:"/dashboard/issues?show=offered"},{id:"navYourJobs",title:"Reactive jobs",href:"/dashboard/issues?show=current"},{id:"navJobHistory",title:"Job history",href:"/dashboard/issues?show=past"}]},{id:"navPPM",title:"Planned maintenance",icon:E.Z,children:[{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"},{id:"NavPpmSchedules",title:"PPM Schedules",href:"/dashboard/scheduledjob"}]},{id:"navQuotes",title:"Quotes",icon:W.Z,children:[{id:"navQuote",title:"Find Quote",href:"/dashboard/quotes"}]},{id:"account",title:"Account",href:"/dashboard/suppliers/view",icon:R.Z}],X=t(90263),G=t(86886),Y=t(29815),$=t(75063),V=t(46171);function K(){var e=(0,i.Z)(['\n  subscription GetNotificationsCount($userId: Int!) {\n    meta: Notification_aggregate(\n      where: {\n        userId: { _eq: $userId }\n        Communication: { text: { _ilike: null } }\n        status: { _eq: "unread" }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']);return K=function(){return e},e}var ee=(0,$.Ps)(K()),en=function(e){var n=localStorage.getItem("bearerToken"),t=(0,V.m)(ee,{skip:!e||!n,variables:{userId:null==e?void 0:e.id}}).data;return{id:"navNotifications",to:"/dashboard/notifications",type:{as:"notification",count:(void 0===t?{meta:{aggregate:{totalCount:0}}}:t).meta.aggregate.totalCount}}},et=t(79793),ei=t(15573),ea=t(39858),er=t(68503),eo=t(31856),es=function(e,n){var t,i,r=en(e),o=[];return(null===(i=n.accounts)||void 0===i?void 0:i.length)>1&&(o.push({id:"navAccountSwitchDivider",divider:!0}),n.accounts.forEach(function(n){n.id!==e.accountId&&o.push({id:"navAccountSwitch-".concat(n.id),title:"".concat(n.name," (").concat(n.admin.name,")"),href:"/account/switch?id=".concat(n.id),icon:er.Z})})),t=[{id:"navProfile",title:"Profile",href:"/dashboard/users/view?id=".concat(e.id),icon:ei.Z},{id:"navNotifications",title:"Notifications",icon:function(){return(0,a.jsx)(X.Z,{badgeContent:r.type.count,max:999,color:"secondary",children:(0,a.jsx)(et.Z,{})})},href:"/dashboard/notifications"}].concat((0,Y.Z)(o.length?o:[]),[{id:"navLogout",title:"Logout",href:"/account/logout",icon:ea.Z}]),"supplier"===e.accountType&&t.splice(1,0,{id:"navHoliday",title:"Holiday Time",href:"/dashboard/holidays",icon:eo.Z}),t},ed=[{id:"navHome",title:"Dashboard",href:"/"},{id:"navSignIn",title:"Log in",href:"/account/sign-in"}],ec=t(51964),el=t.n(ec),eh=t(78462),eu=t(828),ep=t(11163),ef=t.n(ep),ev=t(87918),em=t(57922),eb=t(59334),ex=t(11057),eg=t(60181),eZ=t(23508);function ew(){var e=(0,i.Z)(["\n  padding-left: "," !important;\n  padding-bottom: "," !important;\n  text-wrap: nowrap;\n  svg {\n    font-size: 20px;\n    min-width: 24px;\n    min-height: 24px;\n    opacity: 0.5;\n  }\n"]);return ew=function(){return e},e}function eC(){var e=(0,i.Z)(["\n  padding: 0 !important;\n  padding-left: "," !important;\n  padding-right: "," !important;\n"]);return eC=function(){return e},e}function ej(){var e=(0,i.Z)(["\n  svg {\n    font-size: 20px;\n    width: 20px;\n    height: 20px;\n    opacity: 0.5;\n  }\n"]);return ej=function(){return e},e}function ey(){var e=(0,i.Z)(["\n  margin-left: ",";\n"]);return ey=function(){return e},e}function eP(){var e=(0,i.Z)(["\n  height: 20px;\n  position: absolute;\n  right: 26px;\n  top: 12px;\n  z-index: 1;\n  span.MuiChip-label,\n  span.MuiChip-label:hover {\n    font-size: 11px;\n    cursor: pointer;\n  }\n"]);return eP=function(){return e},e}function ek(){var e=(0,i.Z)([""]);return ek=function(){return e},e}function eS(){var e=(0,i.Z)([""]);return eS=function(){return e},e}var eM=(0,r.ZP)(w.Z).withConfig({displayName:"SidebarNavListItem__Item",componentId:"sc-3b78b260-0"})(ew(),function(e){return e.depth&&e.depth>0?"".concat(50*e.depth,"px"):e.collapsed?"22px":"16px"},function(e){return e.collapsed?"0px":"8px"}),eI=(0,r.ZP)(w.Z).withConfig({displayName:"SidebarNavListItem__ButtonItemContainer",componentId:"sc-3b78b260-1"})(eC(),function(e){return e.depth&&e.depth>0?"".concat(50*e.depth,"px"):"16px"},function(e){return e.depth&&e.depth>0?"".concat(50*e.depth,"px"):"16px"}),e_=(0,r.ZP)(ex.Z).withConfig({displayName:"SidebarNavListItem__ButtonItem",componentId:"sc-3b78b260-2"})(ej()),eN=(0,r.ZP)(eb.Z).withConfig({displayName:"SidebarNavListItem__Title",componentId:"sc-3b78b260-3"})(ey(),function(e){return e.icon?e.collapsed?"25px":"16px":"0px"}),eA=(0,r.ZP)(ev.Z).withConfig({displayName:"SidebarNavListItem__Badge",componentId:"sc-3b78b260-4"})(eP()),eL=(0,r.ZP)(eg.Z).withConfig({displayName:"SidebarNavListItem__ExpandLessIcon",componentId:"sc-3b78b260-5"})(ek()),eF=(0,r.ZP)(eZ.Z).withConfig({displayName:"SidebarNavListItem__ExpandMoreIcon",componentId:"sc-3b78b260-6"})(eS()),eD=function(e){var n=e.title,t=e.href,i=e.depth,r=void 0===i?0:i,o=e.children,s=e.icon,d=e.badge,c=e.open,l=e.type,h=void 0===l?"link":l,u=e.collapsed,p=(0,eu.Z)(m.useState(void 0!==c&&c),2),f=p[0],v=p[1],b=function(){v(function(e){return!e})};return o?(0,a.jsxs)(m.Fragment,{children:[(0,a.jsxs)(eM,{depth:r,color:"secondary",onClick:b,children:[s&&(0,a.jsx)(s,{}),(0,a.jsxs)(eN,{icon:!!s,depth:r,collapsed:u,children:[n,d&&(0,a.jsx)(eA,{color:"secondary",label:d})]}),f?(0,a.jsx)(eL,{}):(0,a.jsx)(eF,{})]}),(0,a.jsx)(em.Z,{in:f,children:o})]}):t&&"link"===h?(0,a.jsx)(x(),{href:t,passHref:!0,children:(0,a.jsxs)(eM,{depth:r,color:"secondary",collapsed:u,children:[s&&(0,a.jsx)(s,{}),(0,a.jsxs)(eN,{icon:!!s,depth:r,collapsed:u,children:[n,d&&(0,a.jsx)(eA,{color:"secondary",label:d})]})]})}):t&&"actionButton"===h&&!u?(0,a.jsx)(eI,{depth:r,children:(0,a.jsx)(e_,{color:"secondary",variant:"contained",sx:{width:"100%",textTransform:"none"},onClick:function(){return ef().push(t)},children:(0,a.jsxs)(eN,{icon:!!s,depth:r,children:[n,d&&(0,a.jsx)(eA,{color:"secondary",label:d})]})})}):t&&"actionButton"===h&&u?(0,a.jsx)(eI,{depth:r,children:(0,a.jsx)(ex.Z,{color:"secondary",variant:"contained",sx:{minWidth:"auto",width:"40px",height:"26px"},onClick:function(){return ef().push(t)},children:s&&(0,a.jsx)(s,{})})}):n?(0,a.jsxs)(eM,{depth:r,color:"secondary",collapsed:u,children:[s&&(0,a.jsx)(s,{}),(0,a.jsxs)(eN,{icon:!!s,depth:r,collapsed:u,children:[n,d&&(0,a.jsx)(eA,{color:"secondary",label:d})]})]}):s?(0,a.jsx)(k.Z,{children:(0,a.jsx)(s,{})}):null},eR=function(e){var n=e.items,t=e.page,i=e.depth,r=e.currentRoute,o=e.collapsed;if(t.children&&!o){var s=t.children.some(function(e){return e.href===r});n.push((0,a.jsx)(eD,{depth:i,icon:t.icon,badge:t.badge,open:s,title:t.title,href:t.href,type:t.type,collapsed:o,children:(0,a.jsx)(eB,{depth:i+1,pages:t.children})},t.title))}else{var d,c=null==t?void 0:null===(d=t.children)||void 0===d?void 0:d.some(function(e){return e.href===r});n.push((0,a.jsx)(eD,{depth:i,href:t.href,icon:t.icon,badge:t.badge,open:c,title:t.title,type:t.type,collapsed:o},t.title))}return n},eB=function(e){var n=e.pages,t=e.depth,i=e.collapsed,r=(0,ep.useRouter)().pathname,o=n.reduce(function(e,n){return eR({items:e,page:n,currentRoute:r,depth:t,collapsed:i})},[]);return(0,a.jsx)(m.Fragment,{children:o})};function eT(){var e=(0,i.Z)(["\n  border-right: 1px solid rgba(0, 0, 0, 0.12);\n  flex-grow: 1;\n"]);return eT=function(){return e},e}function eQ(){var e=(0,i.Z)(["\n  opacity: 0.4;\n  text-transform: uppercase;\n  display: block;\n  color: #ffffff;\n  padding: ",";\n"]);return eQ=function(){return e},e}function ez(){var e=(0,i.Z)(["\n  ","\n"]);return ez=function(){return e},e}var eH=function(e){return(0,r.iv)(eT())},eJ=(0,r.ZP)(C.Z).withConfig({displayName:"SidebarNav__Title",componentId:"sc-2eed33c0-0"})(eQ(),function(e){return e.collapsed?"8px 8px":"8px 16px"}),eW=(0,r.ZP)(el()).withConfig({displayName:"SidebarNav__PerfectScrollbar",componentId:"sc-2eed33c0-1"})(ez(),eH),eE=function(e){var n=e.pages,t=e.title,i=e.collapsed,r=e.component,o=(0,v.Z)(e,["pages","title","collapsed","component"]),s=n.filter(function(e){return"actionButton"===e.type}),d=n.filter(function(e){return"actionButton"!==e.type});return(0,a.jsx)(eW,{children:(0,a.jsx)(eh.Z,{disablePadding:!0,children:(0,a.jsxs)(void 0===r?"nav":r,(0,f.Z)((0,p.Z)({},o),{children:[s.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eJ,{collapsed:i,variant:"subtitle2",children:"Actions"}),(0,a.jsx)(eB,{collapsed:i,pages:s,depth:0})]}):null,t&&(0,a.jsx)(eJ,{collapsed:i,variant:"subtitle2",sx:{padding:"8px 16px"},children:t}),(0,a.jsx)(eB,{collapsed:i,pages:d,depth:0})]}))})})},eq=t(69435);function eO(){var e=(0,i.Z)(["\n  background: ",";\n  padding-bottom: 16px;\n"]);return eO=function(){return e},e}function eU(){var e=(0,i.Z)([""]);return eU=function(){return e},e}function eX(){var e=(0,i.Z)(["\n  font-size: 0.7rem;\n  display: block;\n  padding: 1px;\n  text-overflow: ellipsis;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n"]);return eX=function(){return e},e}function eG(){var e=(0,i.Z)(["\n  span {\n    height: 12px;\n    width: 12px;\n    border-radius: 50%;\n  }\n"]);return eG=function(){return e},e}var eY=r.ZP.div.withConfig({displayName:"SidebarFooter__Footer",componentId:"sc-e3b0dc3a-0"})(eO(),function(e){return e.theme.NAVBAR.newFooterBackground}),e$=(0,r.ZP)(C.Z).withConfig({displayName:"SidebarFooter__FooterText",componentId:"sc-e3b0dc3a-1"})(eU()),eV=(0,r.ZP)(C.Z).withConfig({displayName:"SidebarFooter__FooterSubText",componentId:"sc-e3b0dc3a-2"})(eX()),eK=(0,r.ZP)(X.Z).withConfig({displayName:"SidebarFooter__FooterBadge",componentId:"sc-e3b0dc3a-3"})(eG()),e0=function(e){var n=e.collapsed,t=(0,v.Z)(e,["collapsed"]),i=(0,l.x)().user,r=(0,H.q)(),s=ed;return i&&(s=es(i,r)),(0,a.jsxs)(eY,(0,f.Z)((0,p.Z)({},t),{children:[(0,a.jsxs)(G.ZP,{container:!0,spacing:2,sx:{padding:2},children:[(0,a.jsx)(G.ZP,{item:!0,children:(0,a.jsx)(eK,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:!!i&&(0,a.jsx)(j.Z,(0,p.Z)({},(0,eq.G)([i.nameFirst,i.nameLast].join(" "))))})}),(0,a.jsx)(G.ZP,{item:!0,sx:{width:"70%"},children:!n&&!!i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e$,{children:[i.nameFirst," (",i.accountType,")"]}),(0,a.jsx)(eV,{variant:"caption",children:i.email})]})})]}),(0,a.jsx)(o.Z,{sx:{paddingLeft:n?0:1},children:(0,a.jsx)(eE,{pages:s,collapsed:n})})]}))},e1=t(41255),e2=t(63139),e6=(0,y.ZP)(Z.ZP)(function(e){var n=e.collapsed,t=e.sm,i=e.theme;return{width:t?"0px":"68px",transition:"width 0.5s",background:i.palette.muiPrimary.main,borderRight:0,overflowX:"hidden","& > div":{borderRight:0},"& p":{color:"#eeeeee"},"& .MuiPaper-root":(0,p.Z)((0,f.Z)((0,p.Z)({},!t&&{width:"".concat(n?68:258,"px")},t&&{width:"100%"}),{transition:"width 0.5s",background:i.palette.muiPrimary.main}),n&&{overflow:"hidden"})}}),e3=(0,y.ZP)(w.Z)(function(){return{maxHeight:"60px",justifyContent:"flex-start",cursor:"pointer",background:"#232f3e","& p":{fontSize:"1.25rem"}}}),e4=(0,y.ZP)(j.Z)(function(){return{width:"32px",height:"32px"}}),e8=(0,y.ZP)(o.Z)(function(){return{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",color:"#eeeeee",marginTop:"16px"}}),e9=(0,y.ZP)(o.Z)(function(){return{height:"64px"}}),e5=(0,y.ZP)(o.Z)(function(e){return{width:"100%",height:"100%",maxHeight:"64px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",position:"fixed",zIndex:1199,background:e.theme.palette.muiPrimary.main}}),e7=(0,y.ZP)(j.Z)(function(){return{width:"42px",height:"42px"}}),ne=(0,y.ZP)(S.Z)(function(e){return{width:"36px",height:"36px",color:e.theme.palette.secondary.main}}),nn=(0,y.ZP)(M.Z)(function(e){return{width:"24px",height:"24px",color:e.theme.palette.white.main}}),nt=(0,y.ZP)(o.Z)(function(e){var n=e.sm;return(0,p.Z)({width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},n&&{minHeight:"64px",padding:"0 20px"})}),ni=function(e){e.items;var n,t,i,r,s,c,h,u,b,Z,w,j,y=e.showFooter;(0,v.Z)(e,["items","showFooter"]);var S=(0,e2.s)(),M=(0,d.Z)("(max-width: 600px)")||S,I=(0,H.q)(),N=(null==I?void 0:null===(t=I.admin)||void 0===t?void 0:null===(i=t.modules)||void 0===i?void 0:i.sageIntegration)||!1,A=null==I?void 0:null===(r=I.admin)||void 0===r?void 0:null===(s=r.modules)||void 0===s?void 0:s.assets,L=null==I?void 0:null===(c=I.admin)||void 0===c?void 0:null===(h=c.modules)||void 0===h?void 0:h.workflows,F=null==I?void 0:null===(u=I.admin)||void 0===u?void 0:null===(b=u.modules)||void 0===b?void 0:b.dataReports,D=null==I?void 0:null===(Z=I.admin)||void 0===Z?void 0:null===(w=Z.modules)||void 0===w?void 0:w.dataCharts,B=(0,H.q)(),W=B.admin,X=B.hasUserModule,G=(0,l.x)().hasRole,Y=G("customer_owner"),$=G("customer_manager"),V=G("customer_user"),K=G("tenant_user"),ee=X("quotes"),en=X("ppmSchedules"),et=((0,m.useContext)(g.Z)||{}).user,ei=(0,m.useState)(!0),ea=ei[0],er=ei[1],eo=function(){er(!0)},es=function(){er(!1)},ed={},ec="permanent",el=null==W?void 0:W.media,eh=null==el?void 0:el.find(function(e){return"themeLogo"===e.item.category}),eu=eh?"".concat("https://cleverly-staging-media.s3.eu-west-2.amazonaws.com","/").concat(eh.item.filename):"/static/logo/icon-white.png";if(et)switch(et.accountType){case"admin":ed=z({hasSageIntegration:N,hasXeroIntegration:!!(null===(j=(0,e1.RM)(et.id))||void 0===j?void 0:j.companyId),hasAssetModule:A,hasWorkflows:L,hasDataReports:F,hasDataCharts:D,isMobile:S});break;case"customer":ed=q({isCustomerOwner:Y,isCustomerManager:$,isCustomerUser:V,hasQuotesModule:ee,hasPPMscheduleModule:en});break;case"superadmin":ed=O;break;case"supplier":ed=U;break;case"tenant":n={isTenantUser:K,hasQuotesModule:ee,hasPPMscheduleModule:en},ed=(n.isTenantUser,n.hasQuotesModule,n.hasPPMscheduleModule,Q([{id:"navDashboardDrop",title:"Dashboard",href:"/dashboard",icon:T.Z},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot",icon:J.Z},{id:"navWorksMenu",title:"Reactive works",icon:_.Z,children:[{id:"navCurrentJobs",title:"Current Jobs",href:"/dashboard/issues?show=current"},{id:"navJobHistory",title:"Job History",href:"/dashboard/issues?show=past"}]},{id:"navPPM",title:"Planned maintenance",icon:E.Z,children:[{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"}]},{id:"navUserDropdown"},{id:"account",title:"Account",href:"/dashboard/tenant/view",icon:R.Z}]));break;default:ed=[]}else ed=[];return M&&(ec="persistent"),(0,a.jsxs)(a.Fragment,{children:[M&&(0,a.jsx)(e9,{children:(0,a.jsxs)(e5,{children:[(0,a.jsx)(k.Z,{onClick:function(){return er(!1)},children:(0,a.jsx)(ne,{})}),(0,a.jsx)(x(),{href:"/dashboard",children:(0,a.jsx)(e7,{src:eu,alt:"Cleverly logo",children:(0,a.jsx)("img",{width:"42",height:"42",src:"/static/logo/icon-white.png"})})})]})}),(0,a.jsxs)(e6,(0,f.Z)((0,p.Z)({collapsed:ea,variant:ec},!M&&{onMouseLeave:eo,onMouseEnter:es},M&&{open:!ea}),{sm:M,children:[(0,a.jsxs)(nt,{sm:M,children:[(0,a.jsx)(x(),{href:"/dashboard",children:M?(0,a.jsxs)(P.Z,{width:"100%",direction:"row",alignItems:"center",children:[(0,a.jsx)(e7,{src:eu,alt:"Cleverly logo",children:(0,a.jsx)("img",{width:"42",height:"42",src:"/static/logo/icon-white.png"})}),(0,a.jsx)(o.Z,{ml:2,children:(0,a.jsx)(C.Z,{fontSize:"20px",children:"Cleverly"})})]}):(0,a.jsxs)(e3,{children:[(0,a.jsx)(e4,{src:eu,alt:"Cleverly logo",children:(0,a.jsx)("img",{width:"32",height:"32",src:"/static/logo/icon-white.png"})}),!ea&&(0,a.jsx)(o.Z,{ml:1,children:(0,a.jsx)(C.Z,{children:"Cleverly"})})]})}),M&&(0,a.jsx)(k.Z,{onClick:function(){return er(!0)},children:(0,a.jsx)(nn,{})})]}),(0,a.jsxs)(e8,{children:[(0,a.jsx)(eE,{title:"Pages",collapsed:ea,pages:ed}),!!(void 0===y||y)&&(0,a.jsx)(e0,{collapsed:ea})]})]}))]})},na=t(46003),nr=t(40656),no=t(9008),ns=t.n(no),nd=function(){var e=(0,H.q)().admin,n=(0,m.useState)(""),t=n[0],i=n[1];return(0,m.useEffect)(function(){var n,t,a=null==e?void 0:null===(n=e.media)||void 0===n?void 0:n.find(function(e){return"themeFavicon"===e.item.category});a?i("".concat("https://cleverly-staging-media.s3.eu-west-2.amazonaws.com","/").concat(null==a?void 0:null===(t=a.item)||void 0===t?void 0:t.filename)):i("/static/favicon/CleverlyLogoBlack.png")},[ef().asPath,ef().pathname]),(0,a.jsxs)(ns(),{children:[(0,a.jsx)("title",{children:"Cleverly"}),(0,a.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:t})]})};function nc(){var e=(0,i.Z)(["\n  background: ",";\n  display: ",";\n  overflow: hidden;\n\n  .AppContent {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: ",";\n\n    overflow: hidden;\n  }\n\n  .responsive-fontSize {\n    font-size: 0.7vmax !important;\n  }\n  p,\n  span,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  label,\n  button,\n  ul,\n  li,\n  nav,\n  div {\n    font-family: ",";\n  }\n\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  height: 100vh;\n\n  * ::-webkit-scrollbar {\n    width: 10px;\n    height: 10px;\n  }\n\n  * ::-webkit-scrollbar-track {\n    background-color: inherit;\n    border-radius: 6px;\n  }\n\n  /* Customize scrollbar handle */\n  * ::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.2);\n    border-radius: 6px;\n  }\n\n  /* Customize scrollbar track on hover */\n  * ::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(0, 0, 0, 0.4);\n  }\n"]);return nc=function(){return e},e}function nl(){var e=(0,i.Z)([""]);return nl=function(){return e},e}function nh(){var e=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  flex: 1;\n  background: transparent;\n  border: none;\n  box-shadow: none;\n  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n    flex: none;\n  }\n\n  .MuiPaper-root .MuiPaper-root {\n    box-shadow: none;\n  }\n\n  .ChildWrapper {\n    padding: 16px;\n  }\n"]);return nh=function(){return e},e}function nu(){var e=(0,i.Z)(["\n  flex: 1;\n  height: 100%;\n  background-color: transparent !important;\n  overflow-y: scroll;\n"]);return nu=function(){return e},e}var np=(0,r.ZP)(o.Z).withConfig({displayName:"MiraLayout__Box",componentId:"sc-86049c4e-0"})(c.ZP),nf=r.ZP.div.withConfig({displayName:"MiraLayout__Root",componentId:"sc-86049c4e-1"})(nc(),function(e){return e.theme.COLOUR.muiLight},function(e){return e.sm?"block":"flex"},function(e){return e.sm?"calc(100% - 64px)":"100%"},function(e){return e.theme.THEME_TYPOGRAPHY.newFont}),nv=r.ZP.div.withConfig({displayName:"MiraLayout__AppContent",componentId:"sc-86049c4e-2"})(nl()),nm=(0,r.ZP)(np).withConfig({displayName:"MiraLayout__MainContent",componentId:"sc-86049c4e-3"})(nh()),nb=(0,r.ZP)(np).withConfig({displayName:"MiraLayout__ChildrenWrapContainer",componentId:"sc-86049c4e-4"})(nu()),nx=function(e){var n=e.children,t=(0,e2.s)(),i=(0,d.Z)("(max-width: 600px)"),r=(0,l.x)().user;return(0,a.jsxs)(s.Z,{theme:nr.Q.muiTheme,children:[(0,a.jsx)(nd,{}),(0,a.jsxs)(nf,{className:"root safe--area",sm:i||t,children:[(0,a.jsx)(ni,{}),(0,a.jsx)(nv,{className:"AppContent",children:(0,a.jsxs)(nm,{children:[(0,a.jsx)(nb,{className:"ChildWrapper",children:n}),na.C1.isMobile&&(0,a.jsx)(u.d,{user:r})]})})]}),(0,a.jsx)(h.T,{user:r})]})}}}]);