"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3789,7337,5042,3863],{87109:function(n,e,t){t.d(e,{Z:function(){return R}});var i,r=t(63366),o=t(87462),a=t(67294),s=t(63961),u=t(58510),l=t(98216),d=t(15861),c=t(47167),m=t(74423),p=t(90948),f=t(1977),h=t(8027);function b(n){return(0,h.ZP)("MuiInputAdornment",n)}let v=(0,f.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var g=t(71657),y=t(85893);let x=["children","className","component","disablePointerEvents","disableTypography","position","variant"],I=(n,e)=>{let{ownerState:t}=n;return[e.root,e[`position${(0,l.Z)(t.position)}`],!0===t.disablePointerEvents&&e.disablePointerEvents,e[t.variant]]},Z=n=>{let{classes:e,disablePointerEvents:t,hiddenLabel:i,position:r,size:o,variant:a}=n,s={root:["root",t&&"disablePointerEvents",r&&`position${(0,l.Z)(r)}`,a,i&&"hiddenLabel",o&&`size${(0,l.Z)(o)}`]};return(0,u.Z)(s,b,e)},_=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:I})(({theme:n,ownerState:e})=>(0,o.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active},"filled"===e.variant&&{[`&.${v.positionStart}&:not(.${v.hiddenLabel})`]:{marginTop:16}},"start"===e.position&&{marginRight:8},"end"===e.position&&{marginLeft:8},!0===e.disablePointerEvents&&{pointerEvents:"none"})),$=a.forwardRef(function(n,e){let t=(0,g.Z)({props:n,name:"MuiInputAdornment"}),{children:u,className:l,component:p="div",disablePointerEvents:f=!1,disableTypography:h=!1,position:b,variant:v}=t,I=(0,r.Z)(t,x),$=(0,m.Z)()||{},R=v;v&&$.variant,$&&!R&&(R=$.variant);let S=(0,o.Z)({},t,{hiddenLabel:$.hiddenLabel,size:$.size,disablePointerEvents:f,position:b,variant:R}),j=Z(S);return(0,y.jsx)(c.Z.Provider,{value:null,children:(0,y.jsx)(_,(0,o.Z)({as:p,ownerState:S,className:(0,s.Z)(j.root,l),ref:e},I,{children:"string"!=typeof u||h?(0,y.jsxs)(a.Fragment,{children:["start"===b?i||(i=(0,y.jsx)("span",{className:"notranslate",children:"â€‹"})):null,u]}):(0,y.jsx)(d.Z,{color:"text.secondary",children:u})}))})});var R=$},50135:function(n,e,t){t.d(e,{Z:function(){return j}});var i=t(87462),r=t(63366),o=t(67294),a=t(63961),s=t(58510),u=t(89326),l=t(90948),d=t(71657),c=t(79332),m=t(6135),p=t(57709),f=t(47312),h=t(94054),b=t(56815),v=t(18360),g=t(1977),y=t(8027);function x(n){return(0,y.ZP)("MuiTextField",n)}(0,g.Z)("MuiTextField",["root"]);var I=t(85893);let Z=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],_={standard:c.Z,filled:m.Z,outlined:p.Z},$=n=>{let{classes:e}=n;return(0,s.Z)({root:["root"]},x,e)},R=(0,l.ZP)(h.Z,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),S=o.forwardRef(function(n,e){let t=(0,d.Z)({props:n,name:"MuiTextField"}),{autoComplete:o,autoFocus:s=!1,children:l,className:c,color:m="primary",defaultValue:p,disabled:h=!1,error:g=!1,FormHelperTextProps:y,fullWidth:x=!1,helperText:S,id:j,InputLabelProps:A,inputProps:q,InputProps:U,inputRef:F,label:L,maxRows:w,minRows:P,multiline:T=!1,name:J,onBlur:C,onChange:M,onFocus:E,placeholder:N,required:D=!1,rows:O,select:k=!1,SelectProps:W,type:V,value:z,variant:H="outlined"}=t,Q=(0,r.Z)(t,Z),B=(0,i.Z)({},t,{autoFocus:s,color:m,disabled:h,error:g,fullWidth:x,multiline:T,required:D,select:k,variant:H}),G=$(B),Y={};"outlined"===H&&(A&&void 0!==A.shrink&&(Y.notched=A.shrink),Y.label=L),k&&(W&&W.native||(Y.id=void 0),Y["aria-describedby"]=void 0);let K=(0,u.Z)(j),X=S&&K?`${K}-helper-text`:void 0,nn=L&&K?`${K}-label`:void 0,ne=_[H],nt=(0,I.jsx)(ne,(0,i.Z)({"aria-describedby":X,autoComplete:o,autoFocus:s,defaultValue:p,fullWidth:x,multiline:T,name:J,rows:O,maxRows:w,minRows:P,type:V,value:z,id:K,inputRef:F,onBlur:C,onChange:M,onFocus:E,placeholder:N,inputProps:q},Y,U));return(0,I.jsxs)(R,(0,i.Z)({className:(0,a.Z)(G.root,c),disabled:h,error:g,fullWidth:x,ref:e,required:D,color:m,variant:H,ownerState:B},Q,{children:[null!=L&&""!==L&&(0,I.jsx)(f.Z,(0,i.Z)({htmlFor:K,id:nn},A,{children:L})),k?(0,I.jsx)(v.Z,(0,i.Z)({"aria-describedby":X,id:K,labelId:nn,value:z,input:nt},W,{children:l})):nt,S&&(0,I.jsx)(b.Z,(0,i.Z)({id:X},y,{children:S}))]}))});var j=S},41796:function(n,e,t){t.d(e,{$n:function(){return m},Fq:function(){return d},_j:function(){return c},mi:function(){return l}});var i=t(78758),r=t(92358);function o(n,e=0,t=1){return(0,r.Z)(n,e,t)}function a(n){if(n.type)return n;if("#"===n.charAt(0))return a(function(n){n=n.slice(1);let e=RegExp(`.{1,${n.length>=6?2:1}}`,"g"),t=n.match(e);return t&&1===t[0].length&&(t=t.map(n=>n+n)),t?`rgb${4===t.length?"a":""}(${t.map((n,e)=>e<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}(n));let e=n.indexOf("("),t=n.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(t))throw Error((0,i.Z)(9,n));let r=n.substring(e+1,n.length-1),o;if("color"===t){if(o=(r=r.split(" ")).shift(),4===r.length&&"/"===r[3].charAt(0)&&(r[3]=r[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o))throw Error((0,i.Z)(10,o))}else r=r.split(",");return r=r.map(n=>parseFloat(n)),{type:t,values:r,colorSpace:o}}function s(n){let{type:e,colorSpace:t}=n,{values:i}=n;return -1!==e.indexOf("rgb")?i=i.map((n,e)=>e<3?parseInt(n,10):n):-1!==e.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),`${e}(${i=-1!==e.indexOf("color")?`${t} ${i.join(" ")}`:`${i.join(", ")}`})`}function u(n){let e="hsl"===(n=a(n)).type||"hsla"===n.type?a(function(n){n=a(n);let{values:e}=n,t=e[0],i=e[1]/100,r=e[2]/100,o=i*Math.min(r,1-r),u=(n,e=(n+t/30)%12)=>r-o*Math.max(Math.min(e-3,9-e,1),-1),l="rgb",d=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===n.type&&(l+="a",d.push(e[3])),s({type:l,values:d})}(n)).values:n.values;return Number((.2126*(e=e.map(e=>("color"!==n.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)))[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function l(n,e){let t=u(n),i=u(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function d(n,e){return n=a(n),e=o(e),("rgb"===n.type||"hsl"===n.type)&&(n.type+="a"),"color"===n.type?n.values[3]=`/${e}`:n.values[3]=e,s(n)}function c(n,e){if(n=a(n),e=o(e),-1!==n.type.indexOf("hsl"))n.values[2]*=1-e;else if(-1!==n.type.indexOf("rgb")||-1!==n.type.indexOf("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return s(n)}function m(n,e){if(n=a(n),e=o(e),-1!==n.type.indexOf("hsl"))n.values[2]+=(100-n.values[2])*e;else if(-1!==n.type.indexOf("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(-1!==n.type.indexOf("color"))for(let i=0;i<3;i+=1)n.values[i]+=(1-n.values[i])*e;return s(n)}},36343:function(n,e,t){t.r(e);var i=t(85893),r=t(88462),o=function(n){var e=n.defaultFilters,t=n.supplierId;return(0,i.jsx)(r.e,{defaultFilters:e,supplierId:t,hideCreateWorkOrder:!0})};e.default=o},85488:function(n,e,t){t.d(e,{H_:function(){return v},Vw:function(){return I},aL:function(){return f},pf:function(){return h},sW:function(){return x},wd:function(){return b},xY:function(){return g},yT:function(){return y}});var i=t(7297),r=t(75063),o=t(66312);function a(){var n=(0,i.Z)(["\n  fragment JobFields on Job {\n    access\n    issueReportedDescription\n    adminId\n    costCategory\n    createdAt\n    description\n    id\n    meta\n    pricing\n    reference\n    scheduledAt\n    status\n    supplierLabourAmount\n    supplierMaterialsAmount\n    timing\n    timingEnd\n    timingNormalHours\n    timingStart\n    title\n    type\n    siteVisitStart\n    siteVisitEnd\n    siteVisitWeekends\n    amount\n    number\n    quoted\n    timingStatus\n    correctDuration\n    correctStart\n    correctEnd\n  }\n"]);return a=function(){return n},n}function s(){var n=(0,i.Z)(["\n  fragment JobQuoteFields on Job {\n    quoted\n    quoteNumber\n    quoteDue\n    quoteDueSupplier\n    quoteCharge\n  }\n"]);return s=function(){return n},n}function u(){var n=(0,i.Z)(["\n  fragment JobAdminFields on Job {\n    supplierId\n    supplierUserId\n  }\n"]);return u=function(){return n},n}function l(){var n=(0,i.Z)(["\n  fragment JobSupplierFields on Job {\n    supplierId\n    supplierUserId\n  }\n"]);return l=function(){return n},n}function d(){var n=(0,i.Z)(["\n  mutation UpdateJob(\n    $id: Int!\n    $changes: Job_set_input\n    $timing: [JobTiming_insert_input!]!\n    $_append: Job_append_input = {}\n  ) {\n    update_Job_by_pk(pk_columns: { id: $id }, _set: $changes, _append: $_append) {\n      id\n    }\n    insert_JobTiming(objects: $timing) {\n      returning {\n        id\n        status\n        createdAt\n      }\n    }\n  }\n"]);return d=function(){return n},n}function c(){var n=(0,i.Z)(["\n  mutation InsertJobTiming($timing: [JobTiming_insert_input!]!) {\n    insert_JobTiming(objects: $timing) {\n      returning {\n        id\n        status\n        createdAt\n      }\n    }\n  }\n"]);return c=function(){return n},n}function m(){var n=(0,i.Z)(['\n  query GetJobHistory(\n    $jobId: Int\n    $locationId: Int!\n    $limit: Int\n    $offset: Int\n    $serviceId: Int\n    $startDate: timestamptz!\n  ) {\n    jobs: Job(\n      limit: $limit\n      offset: $offset\n      order_by: { createdAt: desc }\n      where: {\n        createdAt: { _gte: $startDate }\n        id: { _neq: $jobId }\n        locationId: { _eq: $locationId }\n        serviceId: { _eq: $serviceId }\n        status: { _nin: ["pending", "raised", "offered", "accepted", "inProgress"] }\n      }\n    ) {\n      id\n      title\n      status\n      scheduledAt\n      createdAt\n      meta\n      service: Service {\n        id\n        name\n      }\n      shortJobDesc: Taxonomy(where: { Taxonomy: { type: { _eq: "jobTags" } } }) {\n        id\n        taxonomyId\n        comments\n        taxonomy: Taxonomy {\n          name\n        }\n      }\n    }\n    meta: Job_aggregate(\n      where: {\n        createdAt: { _gte: $startDate }\n        id: { _neq: $jobId }\n        locationId: { _eq: $locationId }\n        serviceId: { _eq: $serviceId }\n        status: { _nin: ["pending", "raised", "offered", "accepted", "inProgress"] }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']);return m=function(){return n},n}function p(){var n=(0,i.Z)(['\n  query GetJob($jobId: Int!) {\n    job: Job_by_pk(id: $jobId) {\n      access\n      costCategory\n      customerSpendThreshold\n      description\n      supplierLabourAmount\n      supplierMaterialsAmount\n      quoteDue\n      quoteNumber\n      id\n      number\n      meta\n      paymentMethod\n      reference\n      status\n      title\n      type\n      quoted\n      invoices: Invoices(order_by: { createdAt: desc }) {\n        id\n        invoiceNumber\n      }\n      quotations: SupplierQuotes {\n        id\n        quoteNumber\n        status\n        lineItems: SupplierQuoteLineItems {\n          id\n          description\n          item\n          qty\n          qtyUnit\n          quoteId\n          total\n          type\n          unitRate\n          supplierTotal\n        }\n        supplier: Supplier {\n          id\n          type\n          name\n          accountUsers: Account_Users {\n            user: User {\n              id\n              fullName\n              nameFirst\n              nameLast\n              phone\n              email\n              devices: UserDevices(where: { status: { _eq: "active" } }) {\n                id\n                playerId\n              }\n            }\n          }\n        }\n      }\n      admin: Admin {\n        id\n        name\n      }\n      service: Service {\n        id\n        name\n      }\n      manager: Manager {\n        id\n        nameFirst\n        nameLast\n      }\n      customer: Customer {\n        id\n        name\n        website\n        slas: SLAs(where: { entity: { _eq: "Account" } }) {\n          id\n          entity\n          entityId\n          onSite\n          onSiteUnit\n          jobReport\n          jobReportUnit\n          completion\n          completionUnit\n          notes\n          inUse\n          normalRate\n          oohRate\n          premiumRate\n          minimumInterval\n          minimumLength\n          slaId\n          sla: SLA {\n            id\n            name\n            notes\n            normalRate\n            oohRate\n            premiumRate\n            onSite\n            onSiteUnit\n            jobReport\n            jobReportUnit\n            completion\n            completionUnit\n            minimumInterval\n            minimumLength\n          }\n        }\n      }\n      customerUser: CustomerUser {\n        id\n        nameFirst\n        nameLast\n        fullName\n        email\n        phone\n      }\n      supplier: Supplier {\n        id\n        name\n        contactUsers: Account_Users(where: { isContact: { _eq: true } }) {\n          id\n          role\n          position\n          isContact\n          lastSignInAt\n          userId\n          user: User {\n            id\n            fullName\n            nameFirst\n            nameLast\n            email\n            phone\n          }\n        }\n      }\n      supplierUser: SupplierUser {\n        id\n        fullName\n        nameFirst\n        nameLast\n        email\n        phone\n      }\n      location: Location {\n        id\n        name\n        addresses: Addresses(where: { entity: { _eq: "Location" } }) {\n          ...AddressEntityFields\n          address: Address {\n            ...AddressFields\n            country: Country {\n              id\n              name\n            }\n          }\n        }\n        slas: SLAs(where: { entity: { _eq: "Location" } }) {\n          id\n          entity\n          entityId\n          onSite\n          onSiteUnit\n          jobReport\n          jobReportUnit\n          completion\n          completionUnit\n          notes\n          inUse\n          normalRate\n          oohRate\n          premiumRate\n          minimumInterval\n          minimumLength\n          slaId\n          sla: SLA {\n            id\n            name\n            notes\n            normalRate\n            oohRate\n            premiumRate\n            onSite\n            onSiteUnit\n            jobReport\n            jobReportUnit\n            completion\n            completionUnit\n            minimumInterval\n            minimumLength\n          }\n        }\n      }\n      sla: SLA {\n        id\n        name\n        notes\n        normalRate\n        oohRate\n        premiumRate\n        onSite\n        onSiteUnit\n        jobReport\n        jobReportUnit\n        completion\n        completionUnit\n        minimumInterval\n        minimumLength\n      }\n      costCategoryTaxonomy: CostCategory {\n        id\n        name\n      }\n      shortJobDesc: Taxonomy(where: { Taxonomy: { type: { _eq: "jobTags" } } }) {\n        id\n        taxonomyId\n        comments\n        taxonomy: Taxonomy {\n          name\n        }\n      }\n    }\n  }\n  ',"\n  ","\n"]);return p=function(){return n},n}var f=(0,r.Ps)(a()),h=(0,r.Ps)(s()),b=(0,r.Ps)(u()),v=(0,r.Ps)(l()),g=(0,r.Ps)(d()),y=(0,r.Ps)(c()),x=(0,r.Ps)(m()),I=(0,r.Ps)(p(),o.WW,o.MR)},97768:function(n,e,t){t.d(e,{x:function(){return i}});var i=[{text:"Reactive",value:"reactive",context:"#2EE6CA"},{text:"Planned Maintenance",value:"ppm",context:"#D67EFF"},{text:"Quote",value:"quote",context:"#7D7"},{text:"Compliance",value:"cppm",context:"#CC7429"}]}}]);