"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8344],{53485:function(e,n,t){t.d(n,{s:function(){return d}});var o=t(26042),r=t(85893),i=t(67294),s=t(45697),l=t(27434),a=t(86532),u=t(38895),c=t(22797),d=function(e){var n=e.title,t=e.children,s=e.accordionSx,l=e.accordionSummarySx,d=e.accordionDetailsSx,p=e.expandIcon,x=e.headerAdornment,m=void 0===x?null:x,v=e.disabled,f=void 0!==v&&v,h=e.id,b=void 0===h?"".concat(n.toLowerCase(),"-details"):h,j=(0,i.useState)(!f),g=j[0],Z=j[1];return(0,i.useEffect)(function(){f||Z(!0)},[f]),(0,r.jsxs)(a.Z,{sx:(0,o.Z)({borderTop:"none!important",boxShadow:"none",marginBottom:"15px",opacity:f?.5:1},s),expanded:g,onClick:f?function(){}:function(e){e.stopPropagation(),Z(function(e){return!e})},children:[(0,r.jsxs)(u.Z,{sx:(0,o.Z)({backgroundColor:"#F2F2F2",borderRadius:"4px"},l),expandIcon:(0,r.jsx)(p,{}),id:b,children:[m&&(0,r.jsx)(m,{}),n]}),(0,r.jsx)(c.Z,{onClick:function(e){return e.stopPropagation()},sx:(0,o.Z)({},d),children:t})]})};d.propTypes={title:s.string,children:s.object,accordionSx:s.object,accordionDetailsSx:s.object,accordionSummarySx:s.object,expandIcon:s.object,id:s.string},d.defaultProps={accordionSx:{},accordionSummarySx:{},accordionDetailsSx:{},expandIcon:l.Z}},54049:function(e,n,t){t.d(n,{b:function(){return r}});var o=t(26042),r=function(e,n){if(null===(t=e.meta)||void 0===t?void 0:null===(r=t.customerVATInvoice)||void 0===r?void 0:null===(i=r.rateInfo)||void 0===i?void 0:i.selectedSla)return e.meta.customerVATInvoice.rateInfo.selectedSla;var t,r,i,s,l,a,u,c=(0,o.Z)({},e.sla);c.entity="Job";var d=(0,o.Z)({},null===(s=e.location)||void 0===s?void 0:null===(l=s.slas)||void 0===l?void 0:l.find(function(e){return e.slaId===(null==c?void 0:c.id)&&e.inUse}));(null==d?void 0:d.sla)&&(d.entity="Property",d.name=d.sla.name);var p=(0,o.Z)({},null===(a=e.customer)||void 0===a?void 0:null===(u=a.slas)||void 0===u?void 0:u.find(function(e){return e.slaId===(null==c?void 0:c.id)&&e.inUse}));return(null==p?void 0:p.sla)&&(p.entity="Customer",p.name=p.sla.name),(0,o.Z)({},c,p,d)}},45416:function(e,n,t){t.d(n,{D:function(){return m}});var o=t(7297),r=t(85893),i=t(45697),s=t(10367),l=t(51466),a=t(79033),u=t(13077),c=t(22713),d=t(54305),p=t(64872);function x(){var e=(0,o.Z)(["\n  display: flex;\n  color: ",";\n  cursor: ",";\n"]);return x=function(){return e},e}var m=function(e){var n=e.id,t=e.invoiceNumber,o=e.number,i=e.numberPrefix,s=e.numberSuffix,x=e.openCanvas,m=e.isQuote,f=e.shortJobDesc,h=e.status,b=e.style,j=e.type,g=e.toggleShow,Z=(0,p.a)(),C=function(e){e.stopPropagation(),Z.show({content:(0,r.jsx)(c.g,{jobId:n,toggleShow:function(){Z.close(),g&&g()},numberPrefix:i,numberSuffix:s}),submit:!1,title:m?"Quote Details":"Job Details",xs3:"100vw",sm:"100vw",sm2:"100vw",sm3:"40vw",md2:"40vw",lg:"40vw",lg2:"40vw"})};return(0,r.jsxs)("div",{style:b,children:[(0,r.jsxs)(v,{onClick:function(e){return x&&C(e)},openCanvas:x,children:[h&&(0,u.B)({value:h,withTooltip:!0}),"".concat((0,a.y)(j)," ").concat("quote"!==j&&m?"Q":""),(0,d.p)({id:n,number:o,invoiceNumber:t,numberPrefix:i,numberSuffix:s})]}),f&&(0,r.jsx)(l.Z,{size:"xs",children:f})]})},v=s.ZP.a.withConfig({displayName:"renderJobId__StyledLink",componentId:"sc-aacbde07-0"})(x(),function(e){var n=e.openCanvas,t=e.theme;return n&&t.COLOUR&&t.COLOUR.secondary},function(e){return e.openCanvas&&"pointer"});m.propTypes={id:i.number.isRequired,invoiceNumber:(0,i.oneOfType)([i.number,i.string]),openCanvas:i.bool,status:i.string,style:i.object,type:i.string.isRequired,number:i.string,numberPrefix:i.string,numberSuffix:i.string,toggleShow:i.func},m.defaultProps={openCanvas:!1,numberPrefix:"",numberSuffix:""}},22713:function(e,n,t){t.d(n,{g:function(){return G},h:function(){return ev}});var o=t(29815),r=t(85893),i=t(67294),s=t(45697),l=t.n(s),a=t(6388),u=t(33223),c=t(11163),d=t(85113),p=t(69661),x=t(15861),m=t(34193),v=t(51233),f=function(e){var n=e.avatar,t=e.entity;return(0,r.jsxs)(v.Z,{direction:"row",alignItems:"center",sx:{margin:"1.3em 0em"},spacing:4,children:[(0,r.jsx)(p.Z,{sx:{width:"55px",height:"55px"},content:(null==t?void 0:t.name)||"test",context:"primary",src:n}),(0,r.jsxs)(v.Z,{direction:"row",alignItems:"center",sx:{color:"#000"},children:[(0,r.jsx)(m.Z,{sx:{marginRight:"5px",width:"14px",height:"14px"}}),(0,r.jsx)(x.Z,{variant:"h6",sx:{height:"24px"},children:null==t?void 0:t.name})]})]})},h=t(84808),b=t(98456),j=t(2845),g=t(30381),Z=t.n(g),C=t(5616),y=t(86886),S=t(90948),R=t(12547),O=t(54049),U=t(75759),w=t(45416),P=t(53485),I=(0,S.ZP)(C.Z)({margin:"5px 0px"}),q=function(e){var n,t,o,i,s,l,a,u=e.isQuotes,c=e.job,d=e.numberPrefix,p=e.numberSuffix,m=e.showOrder,f=(0,O.b)(c),h=(0,j.x)().hasRole;return(0,r.jsx)(P.s,{title:"Details",children:(0,r.jsxs)(y.ZP,{container:!0,children:[(0,r.jsxs)(y.ZP,{item:!0,xs:8,md:6,lg:6,rowSpacing:6,children:[m&&(0,r.jsxs)(I,{children:[(0,r.jsx)(x.Z,{children:"Order"}),(0,r.jsx)(R.r,{sx:{color:"#2196F3"},href:"/dashboard/issues/view?id=".concat(c.number),children:(0,r.jsx)(w.D,{id:c.id,number:c.number,numberPrefix:d,numberSuffix:p,type:c.type})})]}),c.tenantUser&&(0,r.jsxs)(I,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Tenant"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:c.tenantUser.fullName})]}),c.reference&&(0,r.jsxs)(I,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Reference"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:c.reference})]}),(0,r.jsxs)(I,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:u?"Description":"Short Job Description"}),(0,r.jsx)(x.Z,{variant:"subtitle1",sx:{maxWidth:"14rem"},children:(null==c?void 0:null===(n=c.shortJobDesc)||void 0===n?void 0:n.length)>0&&(null===(t=null==c?void 0:c.shortJobDesc[0])||void 0===t?void 0:t.taxonomy.name)||c.title})]}),(0,r.jsxs)(I,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Status"}),(0,r.jsx)(U.B,{value:c.status})]}),u&&(0,r.jsxs)(I,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Quote due date"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:Z()(c.quoteDue).format("YYYY-MM-DD")})]}),u&&!h("customer")&&(0,r.jsxs)(v.Z,{rowGap:.5,children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Supplier(s)"}),null===(o=c.quotations)||void 0===o?void 0:o.map(function(e){var n=e.supplier;return(0,r.jsx)(R.r,{href:"/dashboard/suppliers/view?id=".concat(null==n?void 0:n.id),color:"secondary",noWrap:!h("admin"),children:null==n?void 0:n.name})})]})]}),(0,r.jsxs)(y.ZP,{item:!0,xs:8,md:6,lg:6,rowSpacing:6,children:[u&&!h("customer")&&(0,r.jsxs)(I,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:h("admin")?"Required quotes":"Quotation"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:c.quotations.length})]}),u&&!h("customer")&&(0,r.jsxs)(I,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:h("admin")?"Quotes received":"Received"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:"".concat((c.quotations||[]).reduce(function(e,n){return"supplierQuoteComplete"===n.status?e+1:e},0),"/").concat((null===(i=c.quotations)||void 0===i?void 0:i.length)||0)})]}),!u&&(0,r.jsxs)(I,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Cost Category"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:null===(s=c.costCategoryTaxonomy)||void 0===s?void 0:s.name})]}),!u&&(0,r.jsxs)(I,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Service"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:null===(l=c.service)||void 0===l?void 0:l.name})]}),"ppm"!==c.type&&(0,r.jsxs)(I,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Priority"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:"".concat((null==f?void 0:f.name)||"Not Specified "," (").concat((null==f?void 0:f.entity)||"Default",")")})]}),(0,r.jsxs)(I,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Assigned To"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:c.manager?"".concat(c.manager.nameFirst," ").concat(c.manager.nameLast," "):"Unassigned"})]}),(null===(a=c.compliances)||void 0===a?void 0:a.length)>0&&(0,r.jsxs)(I,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Compliance"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:c.compliances[0].compliance.name})]})]})]})})};q.propTypes={isQuotes:s.bool,job:s.object,showOrder:s.bool},q.defaultProps={showOrder:!0};var Q=t(75832),L=t(18586),T=(0,S.ZP)(C.Z)({margin:"5px 0px"}),A=function(e){var n,t,o=e.job,i=(0,L.q)().hasUserModule,s=(0,(0,j.x)().hasRole)("customer_user"),l=i("finances");return(0,r.jsx)(P.s,{title:"Customer",children:(0,r.jsxs)(y.ZP,{container:!0,children:[(0,r.jsxs)(y.ZP,{item:!0,xs:8,md:6,lg:6,rowSpacing:6,children:[(0,r.jsxs)(T,{children:[(0,r.jsx)(x.Z,{children:"Name"}),(0,r.jsx)(R.r,{sx:{color:"#2196F3"},href:"/dashboard/customers/view?id=".concat(o.customer.id),children:o.customer.name})]}),o.customerUser&&(0,r.jsxs)(T,{children:[(0,r.jsx)(x.Z,{children:"Contact"}),(0,r.jsx)(R.r,{sx:{color:"#2196F3"},href:"/dashboard/users/view?id=".concat(o.customerUser.id),children:o.customerUser.fullName})]}),(!s||l)&&(0,r.jsxs)(T,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Spend Threshold"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:(0,Q.T)(o.customerSpendThreshold)})]})]}),(0,r.jsxs)(y.ZP,{item:!0,xs:8,md:6,lg:6,rowSpacing:6,children:[(0,r.jsxs)(T,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Email"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:null===(n=o.customerUser)||void 0===n?void 0:n.email})]}),(0,r.jsxs)(T,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Phone"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:null===(t=o.customerUser)||void 0===t?void 0:t.phone})]})]})]})})};A.propTypes={job:s.object.isRequired};var _=(0,S.ZP)(C.Z)({margin:"5px 0px"}),k=function(e){var n,t,o,i,s,l,a,u,c,d,p=e.job,m=null===(n=p.supplier)||void 0===n?void 0:null===(t=n.contactUsers)||void 0===t?void 0:t[0],v=(null===(o=p.supplierUser)||void 0===o?void 0:o.id)&&(null==m?void 0:m.user)&&(null===(i=p.supplierUser)||void 0===i?void 0:i.id)!==(null==m?void 0:null===(s=m.user)||void 0===s?void 0:s.id);return(0,r.jsx)(P.s,{title:"Supplier",children:(0,r.jsxs)(y.ZP,{container:!0,children:[(0,r.jsxs)(y.ZP,{item:!0,xs:8,md:6,lg:6,rowSpacing:6,children:[(0,r.jsxs)(_,{children:[(0,r.jsx)(x.Z,{children:"Name"}),(0,r.jsx)(R.r,{sx:{color:"#2196F3"},href:"/dashboard/suppliers/view?id=".concat(p.supplier.id),children:p.supplier.name})]}),m&&(0,r.jsxs)(_,{children:[(0,r.jsx)(x.Z,{children:v?"Contact":"Contact / Operative"}),(0,r.jsx)(R.r,{sx:{color:"#2196F3"},href:"/dashboard/users/view?id=".concat(m.user.id),children:m.user.fullName})]}),p.supplierUser&&v&&(0,r.jsxs)(_,{children:[(0,r.jsx)(x.Z,{children:"Operative"}),(0,r.jsx)(R.r,{sx:{color:"#2196F3"},href:"/dashboard/users/view?id=".concat(p.supplierUser.id),children:p.supplierUser.fullName})]})]}),(0,r.jsxs)(y.ZP,{item:!0,xs:8,md:6,lg:6,rowSpacing:6,children:[(0,r.jsxs)(_,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:v?"Contact email":"Email"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:null==m?void 0:null===(l=m.user)||void 0===l?void 0:l.email})]}),(0,r.jsxs)(_,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:v?"Contact phone":"Phone"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:null!==(d=null==m?void 0:null===(a=m.user)||void 0===a?void 0:a.phone)&&void 0!==d?d:"N/A"})]}),p.supplierUser&&v&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(_,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Operative email"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:null===(u=p.supplierUser)||void 0===u?void 0:u.email})]}),(0,r.jsxs)(_,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Operative phone"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:null===(c=p.supplierUser)||void 0===c?void 0:c.phone})]})]})]})]})})};k.propTypes={job:s.object};var D=(0,S.ZP)(C.Z)({margin:"5px 0px"}),N=function(e){var n=e.address,t=e.location,o=e.sublocation,i=(0,j.x)().hasRole;return(0,r.jsx)(P.s,{title:"Address",children:(0,r.jsxs)(y.ZP,{container:!0,children:[(0,r.jsxs)(y.ZP,{item:!0,xs:8,md:6,lg:6,rowSpacing:6,children:[(0,r.jsxs)(D,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Property"}),(0,r.jsx)(R.r,{href:"/dashboard/properties/view?id=".concat(t.id,"&tab=details"),noWrap:i("supplier"),color:"secondary",children:t.name}),"\xa0",o&&(0,r.jsxs)(R.r,{href:"/dashboard/properties/view?id=".concat(t.id,"&tab=sublocations"),noWrap:i("supplier"),color:"secondary",children:["(",o.name,")"]})]}),(0,r.jsxs)(D,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Name"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:n.name||"N/A"})]})]}),(0,r.jsxs)(y.ZP,{item:!0,xs:8,md:6,lg:6,rowSpacing:6,children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Address"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:n.addressLine1}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:n.addressLine2}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:n.addressLine3}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:n.city}),i(["admin","customer"])&&(0,r.jsx)(x.Z,{variant:"subtitle1",children:n.county}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:n.postCode})]})]})})};N.propTypes={address:s.object};var J=t(83985),F=t(4243),$=(0,S.ZP)(C.Z)({margin:"5px 0px"}),M=function(e){var n,t=e.isQuote,o=e.job,i=o.shortJobDesc&&o.shortJobDesc.length?o.shortJobDesc[0].taxonomy.name:"",s=null===(n=o.answers)||void 0===n?void 0:n.map(function(e){var n,t=e.id,o=e.taxonomyId;return{id:t,taxonomyId:o,comments:e.comments,name:e.taxonomy.name}});return(0,r.jsxs)(P.s,{title:"Issue Reported - Client",children:[(0,r.jsxs)($,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Short Job Description"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:i||"N/A"})]}),(0,r.jsxs)($,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:t?"Description":"Job Description"}),(0,r.jsx)(J.O,{sx:{fontSize:"1rem"},children:o.description||"N/A"})]}),(0,r.jsx)(F.y,{answers:s})]})};M.propTypes={job:s.object,isQuote:s.bool};var W=t(22244),V=(0,S.ZP)(C.Z)({margin:"5px 0px"}),z=function(e){var n=e.quotation,t=(0,L.q)().hasUserModule,o=(0,j.x)().hasRole,i=o("supplier"),s=o("customer"),l=o("customer_user"),a=t("finances"),u=W.E6.find(function(e){return e.value===n.status})||{text:"-",context:"info"},c=(0,Q.T)(null==n?void 0:n.lineItems.filter(function(e){return"Labour"===e.type}).reduce(function(e,n){return e+n.supplierTotal},0)),d=(0,Q.T)(null==n?void 0:n.lineItems.filter(function(e){return"Materials"===e.type}).reduce(function(e,n){return e+n.supplierTotal},0)),p=(0,Q.T)(null==n?void 0:n.lineItems.reduce(function(e,n){return e+n.supplierTotal},0)),m=(0,Q.T)(null==n?void 0:n.lineItems.reduce(function(e,n){return e+n.total*n.qty},0));return(0,r.jsx)(P.s,{title:"Quotation ".concat((null==n?void 0:n.quoteNumber)||""),children:(0,r.jsxs)(y.ZP,{container:!0,children:[(0,r.jsxs)(y.ZP,{item:!0,xs:8,md:6,lg:6,rowSpacing:6,children:[(0,r.jsxs)(V,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Status"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:u.text})]}),!s&&(0,r.jsxs)(V,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Labour Total"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:c})]}),!s&&(0,r.jsxs)(V,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Materials Total"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:d})]})]}),(0,r.jsxs)(y.ZP,{item:!0,xs:8,md:6,lg:6,rowSpacing:6,children:[!s&&(0,r.jsxs)(V,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Supplier Total"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:p})]}),!i&&(!l||a)&&(0,r.jsxs)(V,{children:[(0,r.jsx)(x.Z,{variant:"subtitle2",children:"Customer Total"}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:m})]})]})]})})};z.propTypes={quotation:s.object};var E=function(e){var n,t=e.jobId,s=e.toggleShow,l=e.numberPrefix,p=e.numberSuffix,x=(0,L.q)().hasUserModule,m=(0,j.x)().hasRole,v=(0,c.useRouter)(),g=m("customer_user"),Z=x("finances"),C=x("quotes");(0,i.useEffect)(function(){var e=function(){s()};return v.events.on("routeChangeComplete",e),function(){v.events.off("routeChangeComplete",e)}},[v.events,s]);var y=(0,a.aM)(u.Vw,{variables:{jobId:t}}),S=y.loading,R=y.data,O=(void 0===R?{job:{}}:R).job,U=O.quoted;if(S)return(0,r.jsx)(h.Z,{sx:{zIndex:1e5},open:!0,children:(0,r.jsx)(b.Z,{color:"secondary"})});var w,P,I=(null==O?void 0:null===(n=O.quotations)||void 0===n?void 0:n.length)?(0,o.Z)(O.quotations).sort(function(e,n){return e.id-n.id}):[],Q=(0,d.WE)(null==O?void 0:O.location,"registered");return(0,r.jsxs)(r.Fragment,{children:[O.customer&&(0,r.jsx)(f,{editable:!1,entity:{id:O.customer.id,name:O.customer.name,website:O.customer.website},entityName:"Account"}),(0,r.jsx)(q,{isQuotes:U,job:O,numberPrefix:l,numberSuffix:p}),Q&&(0,r.jsx)(N,{address:Q.address,location:null==O?void 0:O.location,sublocation:null==O?void 0:O.sublocation}),m(["admin","customer"])&&(0,r.jsx)(A,{job:O}),m(["admin"])&&O.supplier&&(0,r.jsx)(k,{job:O}),!!I.length&&U&&(!g||C)&&(!g||Z)&&(P=(0,o.Z)(I),m("customer")&&(P=P.filter(function(e){var n=e.status;return"supplierQuoteSent"===n||"quotationAccepted"===n||"quotationRejected"===n})),P).map(function(e){return(0,r.jsx)(z,{quotation:e})}),(0,r.jsx)(M,{isQuote:U,job:O})]})};E.propTypes={jobId:s.number.isRequired,toggleShow:s.func.isRequired,numberPrefix:s.string,numberSuffix:s.string},E.defaultProps={numberPrefix:"",numberSuffix:""};var G=E,H=t(47568),B=t(828),Y=t(97582),K=t(42283),X=t(92321),ee=t(50319),en=t(74231),et=t(79665),eo=t(39641),er=t(46901),ei=t(11057),es=t(64666),el=t(31425),ea=t(6514),eu=t(58951),ec=t(37645),ed=t(62551),ep=[{label:"Accepted",value:"accepted",color:"white.main",bgcolor:"success.main"},{label:"In Progress",value:"inProgress",color:"white.main",bgcolor:"primary.main"}],ex=en.Ry({status:en.Z_().oneOf(ep.map(function(e){return e.value})).required()}),em=function(e){var n,t=e.jobId,o=e.completed,s=e.close,l=(0,B.Z)((0,ed.d)(),2),a=l[0],c=l[1],d=(0,K.cI)({defaultValues:{status:"accepted"},resolver:(0,et.S)(ex)}),p=d.control,x=d.errors,m=d.handleSubmit,v=(0,eo.D)(),f=(0,B.Z)((0,ee.D)(u.Nl,{refetchQueries:["GetJob"],onCompleted:function(){v.show({content:"Success: Job was roll backed",severity:"success"}),s()},onError:function(e){v.show({content:"Error: ".concat(e.message),severity:"error"})}}),1)[0],h=(n=(0,H.Z)(function(e){return(0,Y.__generator)(this,function(n){return c({content:function(n){var o=n.onClose;return(0,r.jsx)(ef,{onClose:o,onApprove:function(){f({variables:{jobId:t,status:e.status}})}})}}),[2]})}),function(e){return n.apply(this,arguments)}),b=(0,i.useMemo)(function(){return ep.filter(function(e){return"inProgress"!==e.value||o})},[o]);return(0,r.jsxs)(r.Fragment,{children:[a,(0,r.jsxs)("form",{id:"offCanvasForm",onSubmit:m(h),children:[(0,r.jsx)(er.Z,{severity:"warning",color:"info",variant:"filled",sx:{mb:2},children:"Where possible, information such as added media, follow on jobs and remedial quotes will be saved along with the original work order details. However, please note that some information will be lost in reverting a job to a prior status."}),(0,r.jsx)(K.Qr,{control:p,name:"status",render:function(e){var n,t=e.value,o=e.onChange;return(0,r.jsx)(X.P,{formControl:{color:"secondary",variant:"standard",error:x.status,helperText:null===(n=x.status)||void 0===n?void 0:n.message},selectProps:{fullWidth:!0},inputComponent:"chip",selectComponent:"chip",label:"Status:",value:t,onChange:o,options:b})}})]})]})};em.defaultProps={close:function(){}},em.propTypes={jobId:l().number.isRequired,completed:l().bool.isRequired,close:l().func};var ev=em;function ef(e){var n=e.onClose,t=e.onApprove,o=function(){t()},i=function(){n()};return(0,r.jsxs)(es.Z,{open:!0,onClose:i,children:[(0,r.jsx)(ec.Z,{children:"Roll back?"}),(0,r.jsx)(ea.Z,{children:(0,r.jsx)(eu.Z,{children:"Rolling the job back will revert the job back to its immediately prior status. Please note some information may be lost by doing so."})}),(0,r.jsxs)(el.Z,{children:[(0,r.jsx)(ei.Z,{onClick:i,color:"danger",variant:"contained",children:"Cancel"}),(0,r.jsx)(ei.Z,{onClick:o,color:"secondary",variant:"contained",autoFocus:!0,children:"Ok"})]})]})}},33223:function(e,n,t){t.d(n,{Nl:function(){return h},Vw:function(){return f},xY:function(){return v}});var o=t(7297),r=t(75063),i=t(66312);function s(){var e=(0,o.Z)(["\n  fragment JobFields on Job {\n    access\n    adminId\n    costCategory\n    createdAt\n    description\n    id\n    meta\n    pricing\n    reference\n    scheduledAt\n    status\n    supplierLabourAmount\n    supplierMaterialsAmount\n    timing\n    timingEnd\n    timingNormalHours\n    timingStart\n    title\n    type\n    siteVisitStart\n    siteVisitEnd\n    siteVisitWeekends\n    amount\n    number\n    quoted\n    timingStatus\n    correctDuration\n    correctStart\n    correctEnd\n  }\n"]);return s=function(){return e},e}function l(){var e=(0,o.Z)(["\n  fragment JobQuoteFields on Job {\n    quoted\n    quoteNumber\n    quoteDue\n    quoteCharge\n  }\n"]);return l=function(){return e},e}function a(){var e=(0,o.Z)(["\n  fragment JobAdminFields on Job {\n    supplierId\n    supplierUserId\n  }\n"]);return a=function(){return e},e}function u(){var e=(0,o.Z)(["\n  fragment JobSupplierFields on Job {\n    supplierId\n    supplierUserId\n  }\n"]);return u=function(){return e},e}function c(){var e=(0,o.Z)(["\n  mutation UpdateJob(\n    $id: Int!\n    $changes: Job_set_input\n    $timing: [JobTiming_insert_input!]!\n    $_append: Job_append_input = {}\n  ) {\n    update_Job_by_pk(pk_columns: { id: $id }, _set: $changes, _append: $_append) {\n      id\n    }\n    insert_JobTiming(objects: $timing) {\n      returning {\n        id\n        status\n        createdAt\n      }\n    }\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,o.Z)(["\n  mutation InsertJobTiming($timing: [JobTiming_insert_input!]!) {\n    insert_JobTiming(objects: $timing) {\n      returning {\n        id\n        status\n        createdAt\n      }\n    }\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,o.Z)(['\n  query GetJobHistory(\n    $jobId: Int\n    $locationId: Int!\n    $limit: Int\n    $offset: Int\n    $serviceId: Int\n    $startDate: timestamptz!\n  ) {\n    jobs: Job(\n      limit: $limit\n      offset: $offset\n      order_by: { createdAt: desc }\n      where: {\n        createdAt: { _gte: $startDate }\n        id: { _neq: $jobId }\n        locationId: { _eq: $locationId }\n        serviceId: { _eq: $serviceId }\n        status: { _nin: ["pending", "raised", "offered", "accepted", "inProgress"] }\n      }\n    ) {\n      id\n      title\n      status\n      scheduledAt\n      createdAt\n      meta\n      service: Service {\n        id\n        name\n      }\n      shortJobDesc: Taxonomy(where: { Taxonomy: { type: { _eq: "jobTags" } } }) {\n        id\n        taxonomyId\n        comments\n        taxonomy: Taxonomy {\n          name\n        }\n      }\n    }\n    meta: Job_aggregate(\n      where: {\n        createdAt: { _gte: $startDate }\n        id: { _neq: $jobId }\n        locationId: { _eq: $locationId }\n        serviceId: { _eq: $serviceId }\n        status: { _nin: ["pending", "raised", "offered", "accepted", "inProgress"] }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']);return p=function(){return e},e}function x(){var e=(0,o.Z)(['\n  query GetJob($jobId: Int!) {\n    job: Job_by_pk(id: $jobId) {\n      access\n      costCategory\n      customerSpendThreshold\n      description\n      supplierLabourAmount\n      supplierMaterialsAmount\n      quoteDue\n      quoteNumber\n      id\n      number\n      meta\n      paymentMethod\n      reference\n      status\n      title\n      type\n      quoted\n      sublocation: Sublocation {\n        name\n      }\n      invoices: Invoices(order_by: { createdAt: desc }) {\n        id\n        invoiceNumber\n      }\n      quotations: SupplierQuotes {\n        id\n        quoteNumber\n        status\n        lineItems: SupplierQuoteLineItems {\n          id\n          description\n          item\n          qty\n          qtyUnit\n          quoteId\n          total\n          type\n          unitRate\n          supplierTotal\n        }\n        supplier: Supplier {\n          id\n          type\n          name\n          accountUsers: Account_Users {\n            user: User {\n              id\n              fullName\n              nameFirst\n              nameLast\n              phone\n              email\n              devices: UserDevices(where: { status: { _eq: "active" } }) {\n                id\n                playerId\n              }\n            }\n          }\n        }\n      }\n      admin: Admin {\n        id\n        name\n      }\n      service: Service {\n        id\n        name\n      }\n      manager: Manager {\n        id\n        nameFirst\n        nameLast\n      }\n      customer: Customer {\n        id\n        name\n        website\n        slas: SLAs(where: { entity: { _eq: "Account" } }) {\n          id\n          entity\n          entityId\n          onSite\n          onSiteUnit\n          jobReport\n          jobReportUnit\n          completion\n          completionUnit\n          notes\n          inUse\n          normalRate\n          oohRate\n          premiumRate\n          minimumInterval\n          minimumLength\n          slaId\n          sla: SLA {\n            id\n            name\n            notes\n            normalRate\n            oohRate\n            premiumRate\n            onSite\n            onSiteUnit\n            jobReport\n            jobReportUnit\n            completion\n            completionUnit\n            minimumInterval\n            minimumLength\n          }\n        }\n      }\n      customerUser: CustomerUser {\n        id\n        nameFirst\n        nameLast\n        fullName\n        email\n        phone\n      }\n      supplier: Supplier {\n        id\n        name\n        contactUsers: Account_Users(where: { isContact: { _eq: true } }) {\n          id\n          role\n          position\n          isContact\n          lastSignInAt\n          userId\n          user: User {\n            id\n            fullName\n            nameFirst\n            nameLast\n            email\n            phone\n          }\n        }\n      }\n      supplierUser: SupplierUser {\n        id\n        fullName\n        nameFirst\n        nameLast\n        email\n        phone\n      }\n      location: Location {\n        id\n        name\n        addresses: Addresses(where: { entity: { _eq: "Location" } }) {\n          ...AddressEntityFields\n          address: Address {\n            ...AddressFields\n            country: Country {\n              id\n              name\n            }\n          }\n        }\n        slas: SLAs(where: { entity: { _eq: "Location" } }) {\n          id\n          entity\n          entityId\n          onSite\n          onSiteUnit\n          jobReport\n          jobReportUnit\n          completion\n          completionUnit\n          notes\n          inUse\n          normalRate\n          oohRate\n          premiumRate\n          minimumInterval\n          minimumLength\n          slaId\n          sla: SLA {\n            id\n            name\n            notes\n            normalRate\n            oohRate\n            premiumRate\n            onSite\n            onSiteUnit\n            jobReport\n            jobReportUnit\n            completion\n            completionUnit\n            minimumInterval\n            minimumLength\n          }\n        }\n      }\n      sla: SLA {\n        id\n        name\n        notes\n        normalRate\n        oohRate\n        premiumRate\n        onSite\n        onSiteUnit\n        jobReport\n        jobReportUnit\n        completion\n        completionUnit\n        minimumInterval\n        minimumLength\n      }\n      costCategoryTaxonomy: CostCategory {\n        id\n        name\n      }\n      shortJobDesc: Taxonomy(where: { Taxonomy: { type: { _eq: "jobTags" } } }) {\n        id\n        taxonomyId\n        comments\n        taxonomy: Taxonomy {\n          name\n        }\n      }\n    }\n  }\n  ',"\n  ","\n"]);return x=function(){return e},e}function m(){var e=(0,o.Z)(["\n  mutation RollbackToStatus($jobId: Int!, $status: String!) {\n    rollbackToStatus(jobId: $jobId, status: $status) {\n      data\n      success\n    }\n  }\n"]);return m=function(){return e},e}(0,r.Ps)(s()),(0,r.Ps)(l()),(0,r.Ps)(a()),(0,r.Ps)(u());var v=(0,r.Ps)(c());(0,r.Ps)(d()),(0,r.Ps)(p());var f=(0,r.Ps)(x(),i.WW,i.MR),h=(0,r.Ps)(m())},75759:function(e,n,t){t.d(n,{B:function(){return v}});var o=t(40872),r=t(26042),i=t(69396),s=t(99534),l=t(29815),a=t(85893),u=t(45697),c=t.n(u),d=t(87918),p=t(11383),x=t(2845),m=t(22244),v=function(e){var n=(0,o.Z)({},e),t=n.value,u=(0,s.Z)(n,["value"]),c=(0,p.b)(t),v=(0,x.x)().hasRole,f=(0,l.Z)(m.iz).concat((0,l.Z)(m.yW),(0,l.Z)(m.l8)).find(function(e){return e.value===t})||{statusText:""},h=f.text,b=f.customerText,j=f.supplierText,g=v("admin")?h:v("supplier")?j||h:v("customer")&&b||h;return(0,a.jsx)(d.Z,(0,i.Z)((0,r.Z)({},u),{label:g,color:c,size:"small"}))};v.propTypes={value:c().string.isRequired}},54305:function(e,n,t){t.d(n,{p:function(){return o}});var o=function(e){var n=e.id,t=e.number,o=e.invoiceNumber,r=e.numberPrefix,i=e.numberSuffix,s=n?"".concat(r," ").concat(t||n," ").concat(i):"";return o?"".concat(s," / ").concat(o):s}},13077:function(e,n,t){t.d(n,{B:function(){return m}});var o=t(7297),r=t(29815),i=t(85893),s=t(45697),l=t(10367),a=t(41564),u=t(51466),c=t(22244),d=t(11383),p=t(2845);function x(){var e=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n"]);return x=function(){return e},e}var m=function(e){var n=e.size,t=e.value,o=e.withTooltip,s=e.textColor,l=(0,d.t)(t),x=(0,p.x)().hasRole,m=(0,r.Z)(c.iz).concat((0,r.Z)(c.yW),(0,r.Z)(c.l8)).find(function(e){return e.value===t})||{statusText:""},f=m.text,h=m.customerText,b=m.supplierText,j=x("admin")?f:x("supplier")?b||f:x("customer")&&h||f;return o?(0,i.jsx)(a.Z,{content:j,context:"black",children:(0,i.jsx)(v,{children:(0,i.jsx)("svg",{height:"16",width:"16",children:(0,i.jsx)("circle",{cx:"8",cy:"8",r:"6",fill:l})})})}):(0,i.jsxs)(v,{children:[(0,i.jsx)("svg",{height:"16",width:"16",children:(0,i.jsx)("circle",{cx:"8",cy:"8",r:"6",fill:l})}),(0,i.jsx)(u.Z,{size:n,context:s,children:j})]})},v=l.ZP.span.withConfig({displayName:"status__StyledLabel",componentId:"sc-1b41308d-0"})(x());m.propTypes={size:s.string,value:s.string.isRequired,withTooltip:s.bool},m.defaultProps={size:"sm",withTooltip:!1}},12547:function(e,n,t){t.d(n,{r:function(){return d}});var o=t(26042),r=t(69396),i=t(85893),s=t(45697),l=t.n(s),a=t(41664),u=t.n(a),c=t(23795),d=function(e){var n=e.children,t=e.href,s=e.noWrap,l=e.target,a=e.sx,d=void 0===a?{}:a;return s?(0,i.jsx)(i.Fragment,{children:n}):t?(0,i.jsx)(u(),{href:t,target:l,passHref:!0,children:(0,i.jsx)(c.Z,(0,r.Z)((0,o.Z)({sx:d},e),{children:n}))}):(0,i.jsx)(c.Z,(0,r.Z)((0,o.Z)({sx:d},e),{children:n}))};d.defaultProps={onClick:function(e){e.stopPropagation()}},d.propTypes={onClick:l().func,href:l().string,noWrap:l().bool,color:l().string}},92321:function(e,n,t){t.d(n,{P:function(){return C}});var o=t(26042),r=t(69396),i=t(85893),s=t(67294),l=t(10166),a=t(45697),u=t.n(a),c=t(94054),d=t(47312),p=t(18972),x=t(18360),m=t(56815),v=t(51233),f=t(15861),h=t(5616),b=t(87918),j=t(69368),g={text:function(e){var n=e.option,t=e.multiple,o=e.index;return t&&o>0?", ".concat(n.label):n.label},textWithIcon:function(e){var n=e.option;return(0,i.jsxs)(v.Z,{direction:"row",alignItems:"center",spacing:1,children:[n.icon,(0,i.jsxs)(f.Z,{children:[" ",n.label]})]})},chip:function(e){var n=e.chipProps,t=e.option;return(0,s.createElement)(b.Z,(0,r.Z)((0,o.Z)({},n),{key:t.value,label:t.label,icon:t.icon,sx:{color:t.color,bgcolor:t.bgcolor}}))}},Z={text:function(e){return e.option.label},textWithIcon:function(e){var n=e.option;return(0,i.jsxs)(v.Z,{direction:"row",alignItems:"center",spacing:1,children:[n.icon,(0,i.jsxs)(f.Z,{children:[" ",n.label]})]})},chip:function(e){var n=e.chipProps,t=e.option;return(0,s.createElement)(b.Z,(0,r.Z)((0,o.Z)({},n),{key:t.value,label:t.label,icon:t.icon,sx:{color:t.color,bgcolor:t.bgcolor}}))},checkbox:function(e){var n=e.option,t=e.value;return(0,i.jsxs)(v.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,i.jsx)(j.Z,{color:"secondary",sx:{height:"10px"},checked:t.indexOf(n.value)>-1}),(0,i.jsxs)(f.Z,{children:[" ",n.label]})]})}},C=function(e){var n=e.label,t=e.value,s=e.onChange,l=e.leftSideLabel,a=e.options,u=e.inputComponent,c=e.selectComponent,d=e.withoutSelectIcon,v=e.formControl,b=e.chipProps,j=e.selectProps,C=function(e){return a.find(function(n){return n.value===e})};return(0,i.jsxs)(y,(0,r.Z)((0,o.Z)({},v),{leftSideLabel:l,withoutSelectIcon:d,children:[n&&l&&(0,i.jsx)(f.Z,{children:n}),n&&!l&&(0,i.jsx)(S,{shrink:""!==t&&void 0!==t,children:n}),(0,i.jsx)(x.Z,(0,r.Z)((0,o.Z)({displayEmpty:!0},j),{value:t,onChange:s,inputProps:{shrink:!0},renderValue:function(){if(Array.isArray(t))return(0,i.jsx)(h.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.map(function(e,n){var t=C(e);return t?g[u]({chipProps:b,option:t,multiple:!0,index:n}):""})});var e=C(t);return e?(0,i.jsx)(h.Z,{children:g[u]({chipProps:b,option:e})}):""},children:a.map(function(e){return(0,i.jsx)(p.Z,{value:e.value,children:Z[c]({chipProps:b,option:e,value:t})},e.value)})})),(null==v?void 0:v.helperText)&&(0,i.jsx)(m.Z,{children:v.helperText})]}))};C.defaultProps={label:"",onChange:function(){},leftSideLabel:!1,options:[],inputComponent:"text",selectComponent:"text",withoutSelectIcon:!1,formControl:{error:!1,helperText:""},chipProps:{size:"small"},selectProps:{}},C.propTypes={label:u().string,value:u().oneOfType([u().string,u().array]),onChange:u().func,leftSideLabel:u().bool,options:u().arrayOf(u().shape({label:u().string.isRequired,value:u().string.isRequired,color:u().string,bgcolor:u().string,icon:u().node}).isRequired),inputComponent:u().oneOf(["text","textWithIcon","chip"]),selectComponent:u().oneOf(["text","textWithIcon","chip","checkbox"]),withoutSelectIcon:u().bool,formControl:u().object,chipProps:u().object,selectProps:u().object};var y=(0,l.Z)(c.Z)(function(e){e.theme;var n=e.leftSideLabel,t=e.withoutSelectIcon;return{"&.MuiFormControl-root":(0,o.Z)({display:"flex",flexDirection:"column",alignItems:"flex-start"},n&&{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px"}),"& .MuiSelect-icon":(0,o.Z)({},t&&{display:"none"})}}),S=(0,l.Z)(d.Z)(function(e){return{"&.MuiFormLabel-root.MuiInputLabel-root.Mui-focused":{color:e.theme.palette.secondary.main}}})},4243:function(e,n,t){t.d(n,{y:function(){return u}});var o=t(85893),r=t(45697),i=t.n(r),s=t(5616),l=t(67720),a=t(15861),u=function(e){var n=e.answers;return(0,o.jsxs)(o.Fragment,{children:[n&&n.length>0&&(0,o.jsx)(l.Z,{children:"Questions"}),n&&n.map(function(e){var n,t,r,i=e.meta;return(null==i?void 0:i.input)==="media"?null:(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(a.Z,{variant:"subtitle2",children:(null===(n=e.taxonomy)||void 0===n?void 0:n.name)||e.name}),(0,o.jsx)(a.Z,{children:e.comments||(null===(t=e.taxonomy_entity)||void 0===t?void 0:null===(r=t[0])||void 0===r?void 0:r.comments)})]},e.id||e.taxonomyId)}),n&&n.length>0&&(0,o.jsx)(l.Z,{})]})};u.propTypes={answers:i().array}},83985:function(e,n,t){t.d(n,{O:function(){return p}});var o=t(26042),r=t(69396),i=t(99534),s=t(85893),l=t(67294),a=t(12547),u=t(45697),c=t.n(u),d=t(15861),p=function(e){var n=e.maxLength,t=e.children,u=e.href,c=e.fontSize,p=(0,i.Z)(e,["maxLength","children","href","fontSize"]),x=(0,l.useState)(!1),m=x[0],v=x[1],f=function(e){e.stopPropagation(),v(!m)},h=(null==t?void 0:t.length)>n?"".concat(t.slice(0,n),"..."):t,b=m?t:h,j=u?(0,s.jsx)(a.r,{color:"secondary",href:u,children:b}):b;return(0,s.jsxs)(d.Z,(0,r.Z)((0,o.Z)({fontSize:c},p),{children:[j,!m&&(null==t?void 0:t.length)>n&&(0,s.jsx)(d.Z,{underline:"none",fontSize:c,sx:{cursor:"pointer",display:"inline-block",fontWeight:600,color:"rgba(0, 0, 0, 0.5)"},onClick:f,children:"more"}),m&&t.length>n&&(0,s.jsx)(d.Z,{underline:"none",fontSize:c,sx:{cursor:"pointer",display:"inline-block",fontWeight:600,color:"rgba(0, 0, 0, 0.5)"},onClick:f,children:" | less"})]}))};p.defaultProps={maxLength:100,children:""},p.propTypes={maxLength:c().number,children:c().node}},75832:function(e,n,t){t.d(n,{T:function(){return o}});function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GBP";return new Intl.NumberFormat(["en-GB"],{currency:n,currencyDisplay:"symbol",style:"currency"}).format(e)}},11383:function(e,n,t){t.d(n,{b:function(){return i},t:function(){return r}});var o=t(40656),r=function(e){switch(e){case"raised":case"pending":default:return o.Q.COLOUR.info;case"offered":return o.Q.COLOUR.warning;case"accepted":return o.Q.COLOUR.success;case"inProgress":return o.Q.COLOUR.primary;case"completed":return o.Q.COLOUR.muiLightGray;case"reportSent":return o.Q.COLOUR.muiGray;case"invoiceSent":return o.Q.COLOUR.secondary;case"customerPaid":case"supplierPaid":return o.Q.COLOUR.help;case"closed":return o.Q.COLOUR.black;case"quoteOffered":case"quoteReceived":case"quoteNew":return o.Q.COLOUR.muiLightViolet}},i=function(e){switch(e){case"raised":case"pending":default:return"info";case"offered":return"warning";case"accepted":return"success";case"inProgress":return"primary";case"completed":return"muiLightGray";case"reportSent":return"muiGray";case"invoiceSent":return"secondary";case"customerPaid":case"supplierPaid":return"help";case"closed":case"quoteClosed":return"black";case"quoteOffered":case"quoteReceived":case"quoteNew":return"muiLightViolet"}}},79033:function(e,n,t){t.d(n,{y:function(){return o}});var o=function(e){switch(e){case"ppm":return"PM";case"quote":return"Q";case"reactive":return"J";case"cppm":return"C";default:return""}}},62551:function(e,n,t){t.d(n,{d:function(){return s}});var o=t(85893),r=t(11994),i=t(67294);function s(){var e=(0,i.useState)(null),n=e[0],t=e[1],s=(0,i.useCallback)(function(){t(null)},[]),l=(0,i.useMemo)(function(){if(null===n)return null;var e=n.content,t=n.keepMounted;return(0,o.jsx)(r.Z,{open:!0,keepMounted:t,onClose:s,children:e})},[n,s]),a=(0,i.useCallback)(function(e){var n=e.content,o=e.keepMounted;t({keepMounted:void 0===o||o,content:n({onClose:s})})},[s]);return[l,a]}},22244:function(e,n,t){t.d(n,{AK:function(){return a},DJ:function(){return d},E6:function(){return r},cj:function(){return l},hD:function(){return c},iz:function(){return i},l8:function(){return u},yW:function(){return s}});var o=t(40656),r=[{text:"Quotation Requested",value:"supplierQuoteRequested",context:"info"},{text:"Quotation Completed",value:"supplierQuoteComplete",context:"help"},{text:"Draft Quotation",value:"supplierQuoteDraft",context:"info"},{text:"Awaiting threshold approval",value:"waitingThresholdApproval",context:"info"},{text:"Quotation Refused",value:"supplierQuoteRefused",context:"danger"},{text:"Quotation Sent",value:"supplierQuoteSent",context:"success"},{text:"Quotation Accepted",value:"quotationAccepted",context:"success"},{text:"Quotation Rejected",value:"quotationRejected",context:"danger"},{text:"Quotation Updated",value:"supplierQuoteUpdated",context:"success"}],i=[{text:"New Quote",value:"quoteNew",customerText:"Quote issued",supplierText:null},{text:"Sent to Supplier(s)",value:"quoteOffered",customerText:"Quote issued",supplierText:"Quote offered"},{text:"Received from Supplier(s)",value:"quoteReceived",customerText:"Final review",supplierText:"Quote submitted"},{text:"Sent to Customer",value:"quoteSent",customerText:"Awaiting approval",supplierText:"Awaiting approval"},{text:"Quote Accepted",value:"quoteAccepted",customerText:"Quote accepted",supplierText:"Quote accepted"},{text:"Quote Rejected",value:"quoteRejected",customerText:"Quote rejected",supplierText:"Quote rejected"},{text:"Canceled",value:"quoteCancelled",customerText:"Cancelled",supplierText:null},{text:"Closed",value:"quoteClosed",customerText:"Closed",supplierText:"Closed"}],s=[{text:"Pending",value:"pending",colour:o.Q.COLOUR.info},{text:"Raised",value:"raised",colour:o.Q.COLOUR.info},{text:"Offered",value:"offered",colour:o.Q.COLOUR.warning},{text:"Accepted",value:"accepted",colour:o.Q.COLOUR.success},{text:"In Progress",value:"inProgress",colour:o.Q.COLOUR.primary},{text:"Completed",value:"completed",colour:o.Q.COLOUR.muiLightGray},{text:"Awaiting threshold approval",value:"waitingThresholdApproval",colour:o.Q.COLOUR.info},{text:"Report Sent",value:"reportSent",colour:o.Q.COLOUR.muiGray},{text:"Invoice Sent",value:"invoiceSent",colour:o.Q.COLOUR.secondary},{text:"Customer Paid",value:"customerPaid",colour:o.Q.COLOUR.help},{text:"Supplier Paid",value:"supplierPaid",colour:o.Q.COLOUR.help},{text:"Canceled",value:"canceled",colour:o.Q.COLOUR.black},{text:"Closed",value:"closed",colour:o.Q.COLOUR.black},{text:"On Hold",value:"onHold",colour:o.Q.COLOUR.black},{text:"Continued",value:"continued",colour:o.Q.COLOUR.primary},{text:"Paused",value:"paused",colour:o.Q.COLOUR.black}],l=[{label:"Pending",value:"pending"},{label:"Raised",value:"raised"},{label:"Offered",value:"offered"},{label:"Accepted",value:"accepted"},{label:"In Progress",value:"inProgress"},{label:"Completed",value:"completed"},{label:"Awaiting threshold approval",value:"waitingThresholdApproval"},{label:"Report Sent",value:"reportSent"},{label:"Invoice Sent",value:"invoiceSent"},{label:"Customer Paid",value:"customerPaid"},{label:"Supplier Paid",value:"supplierPaid"},{label:"Quote",value:"quote"},{label:"Site Visit",value:"siteVisit"},{label:"Canceled",value:"canceled"},{label:"Closed",value:"closed"},{label:"On Hold",value:"onHold"},{label:"Continued",value:"continued"},{label:"Paused",value:"paused"}],a=[{text:"Uplift Draft",value:"upliftDraft",context:"info"},{text:"Supplier Uplift Requested",value:"supplierUpliftRequested",context:"secondary"},{text:"Uplift Requested Send to Customer",value:"upliftRequestSendCustomer",context:"secondary"},{text:"Uplift Approved",value:"customerUpliftApproved",context:"success"},{text:"Uplift Rejected",value:"customerUpliftRejected",context:"danger"}],u=[{text:"Offered",value:"offered",context:"info"},{text:"Raised",value:"raised",context:"info"},{text:"Pending",value:"pending",context:"info"},{text:"Accepted",value:"accepted",context:"info"},{text:"Uplift Requested by Supplier",value:"supplierUpliftRequested",context:"info"},{text:"Uplift Draft",value:"upliftDraft",context:"info"},{text:"Uplift Requested Send Customer",value:"upliftRequestSendCustomer",context:"info"},{text:"Uplift Requested Approved",value:"customerUpliftApproved",context:"success"},{text:"In Dispute",value:"inDispute",context:"info"},{text:"Resumed",value:"resumed",context:"Danger"},{text:"Quote Sent",value:"quoteSent",context:"info"},{text:"Quote Offered",value:"quoteOffered",context:"info"},{text:"Report Sent Supplier",value:"reportSentSupplier",context:"info"},{text:"Dispute Resolved",value:"disputeResolved",context:"info"},{text:"Validated",value:"validated",context:"success"},{text:"Un Validated",value:"unvalidated",context:"success"},{text:"Paused",value:"paused",context:"info"},{text:"TimingChanged",value:"timingChanged",context:"info"},{text:"Customer Paid",value:"customerPaid",context:"info"},{text:"In Progress",value:"inProgress",context:"info"},{text:"PPM Invoice Created",value:"ppmInvoiceCreated",context:"success"},{text:"Late Arrival",value:"lateArrival",context:"info"},{text:"Pricing Changed",value:"pricingChanged",context:"info"},{text:"Report Sent",value:"reportSent",context:"info"},{text:"Invoice Sent Supplier",value:"invoiceSentSupplier",context:"info"},{text:"Invoice Sent",value:"invoiceSent",context:"info"},{text:"Invoice Sent Customer",value:"invoiceSentCustomer",context:"info"},{text:"Quote Accepted",value:"quoteAccepted",context:"info"},{text:"On Hold",value:"onHold",context:"info"},{text:"Continued",value:"continued",context:"info"},{text:"Quote Received",value:"quoteReceived",context:"info"},{text:"Quote New",value:"quoteNew",context:"info"},{text:"Closed",value:"closed",context:"danger"},{text:"Re posted",value:"reposted",context:"info"},{text:"Supplier Paid",value:"supplierPaid",context:"info"},{text:"Rejected",value:"rejected",context:"info"},{text:"Completed",value:"completed",context:"info"},{text:"Canceled",value:"canceled",context:"danger"}],c=[{value:"complete",text:"Complete"},{value:"returnVisitByAnother",text:"Return Visit By Another"},{value:"returnVisit",text:"Return Visit"},{value:"completeCertificate",text:"Complete Certificate"},{value:"couldNotDo",text:"Could Not Do"}],d=[{text:"Not yet offered",value:"pending",colour:o.Q.COLOUR.muiGray},{text:"Not yet offered",value:"raised",colour:o.Q.COLOUR.muiGray},{text:"Offered",value:"offered",colour:o.Q.COLOUR.warning},{text:"Not yet started",value:"accepted",colour:o.Q.COLOUR.white},{text:"In Progress",value:"inProgress",colour:o.Q.COLOUR.primary},{text:"Completed",value:"completed",colour:o.Q.COLOUR.secondary},{text:"Requires approval",value:"waitingThresholdApproval",colour:o.Q.COLOUR.info},{text:"Completed",value:"reportSent",colour:o.Q.COLOUR.secondary},{text:"Completed",value:"invoiceSent",colour:o.Q.COLOUR.secondary},{text:"Completed",value:"customerPaid",colour:o.Q.COLOUR.secondary},{text:"Completed",value:"supplierPaid",colour:o.Q.COLOUR.secondary},{text:"Quote",value:"quote",colour:o.Q.COLOUR.white},{text:"Not yet started",value:"siteVisit",colour:o.Q.COLOUR.white},{text:"Closed",value:"canceled",colour:o.Q.COLOUR.black},{text:"Closed",value:"closed",colour:o.Q.COLOUR.black},{text:"On Hold",value:"onHold",colour:o.Q.COLOUR.help},{text:"In Progress",value:"continued",colour:o.Q.COLOUR.primary},{text:"Closed",value:"paused",colour:o.Q.COLOUR.black},{text:"Not yet offered",value:"quoteNew",colour:o.Q.COLOUR.muiGray},{text:"Offered",value:"quoteOffered",colour:o.Q.COLOUR.warning},{text:"Completed",value:"quoteReceived",colour:o.Q.COLOUR.secondary},{text:"Requires approval",value:"quoteSent",colour:o.Q.COLOUR.info},{text:"Not yet started",value:"quoteAccepted",colour:o.Q.COLOUR.white},{text:"Closed",value:"quoteRejected",colour:o.Q.COLOUR.black},{text:"Closed",value:"quoteCancelled",colour:o.Q.COLOUR.black},{text:"Closed",value:"quoteClosed",colour:o.Q.COLOUR.black},{text:"Not yet started",value:"ppmNew",colour:o.Q.COLOUR.white}]}}]);