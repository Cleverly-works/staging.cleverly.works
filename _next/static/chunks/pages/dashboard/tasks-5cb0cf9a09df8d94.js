(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5916],{61510:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/tasks",function(){return t(11374)}])},12547:function(e,n,t){"use strict";t.d(n,{r:function(){return d}});var r=t(26042),i=t(69396),o=t(85893),s=t(45697),a=t.n(s),l=t(41664),c=t.n(l),u=t(23795),d=function(e){var n=e.children,t=e.href,s=e.noWrap,a=e.target,l=e.sx,d=void 0===l?{}:l;return s?(0,o.jsx)(o.Fragment,{children:n}):t?(0,o.jsx)(c(),{href:t,target:a,passHref:!0,children:(0,o.jsx)(u.Z,(0,i.Z)((0,r.Z)({sx:d},e),{children:n}))}):(0,o.jsx)(u.Z,(0,i.Z)((0,r.Z)({sx:d},e),{children:n}))};d.defaultProps={onClick:function(e){e.stopPropagation()}},d.propTypes={onClick:a().func,href:a().string,noWrap:a().bool,color:a().string}},93884:function(e,n,t){"use strict";t.d(n,{C:function(){return h}});var r=t(26042),i=t(69396),o=t(85893);t(67294);var s=t(45697),a=t(90948),l=t(15861),c=t(51233),u=t(11057),d=t(61730),p=(0,a.ZP)("img")({width:"300px",height:"250px"}),h=function(e){var n=e.imageSrc,t=e.sx,s=e.imageSx,a=e.title,h=e.titleSx,f=e.subtitleFirstLine,x=e.subtitleFirstLineSx,m=e.subtitleSecondLine,g=e.subtitleSecondLineSx,v=e.buttonText,Z=e.onAction,j=(0,d.Z)("(max-width: 400px)");return(0,o.jsxs)(c.Z,{sx:(0,i.Z)((0,r.Z)({},t),{width:"100%",height:"100%"}),justifyContent:"center",alignItems:"center",spacing:2,color:"#757575",children:[(0,o.jsx)(p,{src:n,sx:(0,i.Z)((0,r.Z)({},s),{width:j?"250px":"300px"})}),(0,o.jsx)(l.Z,{typography:"h5",sx:(0,r.Z)({},h),children:a}),(0,o.jsxs)(c.Z,{alignItems:"center",sx:{padding:"0px 10px",textAlign:"center"},children:[(0,o.jsx)(l.Z,{sx:(0,r.Z)({},x),children:f}),(0,o.jsx)(l.Z,{sx:(0,r.Z)({},g),children:m})]}),v&&Z&&(0,o.jsx)(u.Z,{variant:"contained",color:"secondary",onClick:Z,children:v})]})};h.propTypes={imageSrc:s.string,title:s.string,subtitleFirstLine:s.string,subtitleSecondLine:s.string,onAction:s.func,sx:s.object,imageSx:s.object,titleSx:s.object,subtitleFirstLineSx:s.object,subtitleSecondLineSx:s.object},h.defaultProps={title:"",subtitleFirstLine:"",subtitleSecondLine:"",sx:{},imageSx:{},titleSx:{},subtitleFirstLineSx:{},subtitleSecondLineSx:{},onAction:null}},66321:function(e,n,t){"use strict";t.d(n,{E:function(){return m}});var r=t(26042),i=t(69396),o=t(85893),s=t(45697),a=t.n(s),l=t(94054),c=t(50480),u=t(56815),d=t(40476),p=t(79717),h=t(36872),f=t(51233),x=t(15861),m=function(e){var n=e.label,t=e.options,s=e.error,a=e.helperText,m=e.stackProps,v=e.formControlProps,Z=e.labelLeft,j=function(e){var n=e.children;return(0,o.jsx)(o.Fragment,{children:n})};return(0,o.jsxs)(l.Z,(0,i.Z)((0,r.Z)({sx:{m:3},error:s,variant:"standard"},void 0===v?{}:v),{children:[(0,o.jsxs)(f.Z,(0,i.Z)((0,r.Z)({},Z&&g),{children:[n&&(0,o.jsx)(d.Z,{id:"radio-group",color:"secondary",children:n}),(0,o.jsx)(p.Z,(0,i.Z)((0,r.Z)({},e),{"aria-labelledby":"radio-group",children:(0,o.jsx)(f.Z,(0,i.Z)((0,r.Z)({},void 0===m?{}:m),{children:t.map(function(e){var n=e.value,t=e.label,r=e.icon,i=e.ParentComponent;return(0,o.jsx)(void 0===i?j:i,{children:(0,o.jsx)(c.Z,{value:n,control:(0,o.jsx)(h.Z,{color:"secondary"}),label:(0,o.jsxs)(f.Z,{direction:"row",alignItems:"center",spacing:1,children:[r,(0,o.jsx)(x.Z,{children:t})]})})})})}))}))]})),(0,o.jsx)(u.Z,{children:a})]}))};m.defaultProps={options:[],error:!1,helperText:"",stackProps:{},formControlProps:{},labelLeft:!1},m.propTypes={label:a().string,options:a().arrayOf(a().shape({label:a().string.isRequired,value:a().any.isRequired,ParentComponent:a().elementType})).isRequired,error:a().bool,helperText:a().string,stackProps:a().object,formControlProps:a().object,labelLeft:a().bool};var g={direction:"row",alignItems:"center",flexWrap:"wrap",spacing:1}},92321:function(e,n,t){"use strict";t.d(n,{P:function(){return y}});var r=t(26042),i=t(69396),o=t(85893),s=t(67294),a=t(10166),l=t(45697),c=t.n(l),u=t(94054),d=t(47312),p=t(18972),h=t(18360),f=t(56815),x=t(51233),m=t(15861),g=t(5616),v=t(87918),Z=t(69368),j={text:function(e){var n=e.option,t=e.multiple,r=e.index;return t&&r>0?", ".concat(n.label):n.label},textWithIcon:function(e){var n=e.option;return(0,o.jsxs)(x.Z,{direction:"row",alignItems:"center",spacing:1,children:[n.icon,(0,o.jsxs)(m.Z,{children:[" ",n.label]})]})},chip:function(e){var n=e.chipProps,t=e.option;return(0,s.createElement)(v.Z,(0,i.Z)((0,r.Z)({},n),{key:t.value,label:t.label,icon:t.icon,sx:{color:t.color,bgcolor:t.bgcolor}}))}},b={text:function(e){return e.option.label},textWithIcon:function(e){var n=e.option;return(0,o.jsxs)(x.Z,{direction:"row",alignItems:"center",spacing:1,children:[n.icon,(0,o.jsxs)(m.Z,{children:[" ",n.label]})]})},chip:function(e){var n=e.chipProps,t=e.option;return(0,s.createElement)(v.Z,(0,i.Z)((0,r.Z)({},n),{key:t.value,label:t.label,icon:t.icon,sx:{color:t.color,bgcolor:t.bgcolor}}))},checkbox:function(e){var n=e.option,t=e.value;return(0,o.jsxs)(x.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,o.jsx)(Z.Z,{color:"secondary",sx:{height:"10px"},checked:t.indexOf(n.value)>-1}),(0,o.jsxs)(m.Z,{children:[" ",n.label]})]})}},y=function(e){var n=e.label,t=e.value,s=e.onChange,a=e.leftSideLabel,l=e.options,c=e.inputComponent,u=e.selectComponent,d=e.withoutSelectIcon,x=e.formControl,v=e.chipProps,Z=e.selectProps,y=function(e){return l.find(function(n){return n.value===e})};return(0,o.jsxs)(w,(0,i.Z)((0,r.Z)({},x),{leftSideLabel:a,withoutSelectIcon:d,children:[n&&a&&(0,o.jsx)(m.Z,{children:n}),n&&!a&&(0,o.jsx)(C,{shrink:""!==t&&void 0!==t,children:n}),(0,o.jsx)(h.Z,(0,i.Z)((0,r.Z)({displayEmpty:!0},Z),{value:t,onChange:s,inputProps:{shrink:!0},renderValue:function(){if(Array.isArray(t))return(0,o.jsx)(g.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.map(function(e,n){var t=y(e);return t?j[c]({chipProps:v,option:t,multiple:!0,index:n}):""})});var e=y(t);return e?(0,o.jsx)(g.Z,{children:j[c]({chipProps:v,option:e})}):""},children:l.map(function(e){return(0,o.jsx)(p.Z,{value:e.value,children:b[u]({chipProps:v,option:e,value:t})},e.value)})})),(null==x?void 0:x.helperText)&&(0,o.jsx)(f.Z,{children:x.helperText})]}))};y.defaultProps={label:"",onChange:function(){},leftSideLabel:!1,options:[],inputComponent:"text",selectComponent:"text",withoutSelectIcon:!1,formControl:{error:!1,helperText:""},chipProps:{size:"small"},selectProps:{}},y.propTypes={label:c().string,value:c().oneOfType([c().string,c().array]),onChange:c().func,leftSideLabel:c().bool,options:c().arrayOf(c().shape({label:c().string.isRequired,value:c().string.isRequired,color:c().string,bgcolor:c().string,icon:c().node}).isRequired),inputComponent:c().oneOf(["text","textWithIcon","chip"]),selectComponent:c().oneOf(["text","textWithIcon","chip","checkbox"]),withoutSelectIcon:c().bool,formControl:c().object,chipProps:c().object,selectProps:c().object};var w=(0,a.Z)(u.Z)(function(e){e.theme;var n=e.leftSideLabel,t=e.withoutSelectIcon;return{"&.MuiFormControl-root":(0,r.Z)({display:"flex",flexDirection:"column",alignItems:"flex-start"},n&&{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px"}),"& .MuiSelect-icon":(0,r.Z)({},t&&{display:"none"})}}),C=(0,a.Z)(d.Z)(function(e){return{"&.MuiFormLabel-root.MuiInputLabel-root.Mui-focused":{color:e.theme.palette.secondary.main}}})},79033:function(e,n,t){"use strict";t.d(n,{y:function(){return r}});var r=function(e){switch(e){case"ppm":return"PM";case"quote":return"Q";case"reactive":return"J";case"cppm":return"C";default:return""}}},62551:function(e,n,t){"use strict";t.d(n,{d:function(){return s}});var r=t(85893),i=t(11994),o=t(67294);function s(){var e=(0,o.useState)(null),n=e[0],t=e[1],s=(0,o.useCallback)(function(){t(null)},[]),a=(0,o.useMemo)(function(){if(null===n)return null;var e=n.content,t=n.keepMounted;return(0,r.jsx)(i.Z,{open:!0,keepMounted:t,onClose:s,children:e})},[n,s]),l=(0,o.useCallback)(function(e){var n=e.content,r=e.keepMounted;t({keepMounted:void 0===r||r,content:n({onClose:s})})},[s]);return[a,l]}},11374:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return el}});var r=t(85893),i=t(26042),o=t(828),s=t(67294),a=t(30381),l=t.n(a),c=t(45697),u=t.n(c),d=t(81261),p=t(11057),h=t(2869),f=t(90629),x=t(51233),m=t(15861),g=t(6388),v=t(50319),Z=t(7297),j=t(75063);function b(){var e=(0,Z.Z)(['\n  query GetTasksTable(\n    $where: Task_bool_exp\n    $limit: Int! = 50\n    $offset: Int\n    $orderBy: Task_order_by!\n  ) {\n    tasks: Task(where: $where, limit: $limit, offset: $offset, order_by: [$orderBy]) {\n      id\n      archived\n      status\n      priority\n      statusLog\n      meta\n      relatedLinks\n      title\n      content\n      dueDate\n      createdAt\n      updatedAt\n      adminId\n      userId\n      assignedAccountId\n      assignedUser: AssignedUser {\n        id\n        fullName\n      }\n      tags: Taxonomy(\n        where: {\n          entity: { _eq: "Task" }\n          Taxonomy: { status: { _eq: "active" }, type: { _eq: "tags" } }\n        }\n      ) {\n        id\n        tag: Taxonomy {\n          id\n          name\n          meta\n        }\n      }\n      jobId\n    }\n    meta: Task_aggregate(where: $where) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']);return b=function(){return e},e}function y(){var e=(0,Z.Z)(["\n  mutation TaskPartialUpdate($id: Int!, $object: Task_set_input!) {\n    update_Task_by_pk(pk_columns: { id: $id }, _set: $object) {\n      id\n      status\n      priority\n    }\n  }\n"]);return y=function(){return e},e}function w(){var e=(0,Z.Z)(['\n  query GetTagsForTask($taskId: Int!, $q: String!, $limit: Int = 50, $offset: Int = 0) {\n    tags: Taxonomy(\n      where: {\n        name: { _ilike: $q }\n        status: { _eq: "active" }\n        type: { _eq: "tags" }\n        _not: { Taxonomy_Entities: { entity: { _eq: "Task" }, entityId: { _eq: $taskId } } }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      id\n      name\n      meta\n    }\n  }\n']);return w=function(){return e},e}var C=(0,j.Ps)(b()),k=(0,j.Ps)(y());(0,j.Ps)(w());var P=t(15033),T=t(92321),S=t(5336),I=t(48381),_=t(69396),D=t(86886),M=t(11994),F=t(50135),q=t(61730),L=t(23776),A=t(87918),Y=t(18972),$=t(50480),W=t(69368),O=t(59938),N=t(42283),E=t(73359),R=t(10166),U=t(2845),G=t(33754),Q=t(97092),B=t(57179),V=t(4972),X=t(48580),H=function(e){var n=e.open,t=e.setOpen,a=e.initialFilters,l=e.filters,c=e.setFilters,u=(0,U.x)().user,d=(0,q.Z)("(max-width: 400px)")?4:0,h=(0,s.useState)(""),f=h[0],g=h[1],v=(0,o.Z)((0,O.X)("form_data_".concat(a.filterType),a),2),Z=v[0],j=v[1],b=(0,N.cI)({defaultValues:Z}),y=b.control,w=b.handleSubmit,C=b.register,k=b.reset,P=(0,b.watch)(),T=(0,o.Z)((0,E.t)(V.A5,{variables:{accountId:u.adminId,q:""!==f?"%".concat(f,"%"):null}}),2),S=T[0],I=T[1],M=I.loading,R=I.data,H=(void 0===R?{items:[]}:R).items;(0,s.useEffect)(function(){n&&k(Z)},[n]),(0,s.useEffect)(function(){j((0,_.Z)((0,i.Z)({},P),{filterType:a.filterType}))},[l]);var K=function(e){try{var n,r,o,s,a,l,d,p={status:(null===(n=e.status)||void 0===n?void 0:n.length)>0?null===(r=e.status)||void 0===r?void 0:r.map(function(e){return e.value}):null,assignedUserId:e.assignedToMe?u.id:null===(o=e.assignedUser)||void 0===o?void 0:o.value,priority:(null===(s=e.priority)||void 0===s?void 0:s.length)?null===(a=e.priority)||void 0===a?void 0:a.map(function(e){return e.value}):null,dueDate:e.dueDate,archived:e.archived,tags:(null===(l=e.tags)||void 0===l?void 0:l.length)>0?null===(d=e.tags)||void 0===d?void 0:d.map(function(e){return e.value}):null,q:e.search?"%".concat(e.search,"%"):null};c(function(e){return(0,i.Z)({},e,p)})}finally{t(!1)}},ee=function(){c(a),k(a),t(!1)};return(0,r.jsx)(z,{keepMounted:!0,open:n,onClose:function(){return t(!1)},children:(0,r.jsx)("form",{onSubmit:w(K),children:(0,r.jsx)(J,{children:(0,r.jsxs)(D.ZP,{container:!0,rowGap:4,children:[(0,r.jsx)(D.ZP,{container:!0,children:(0,r.jsx)(D.ZP,{item:!0,xs:12,children:(0,r.jsx)(F.Z,{fullWidth:!0,variant:"standard",color:"secondary",label:"Search...",name:"search",inputRef:C})})}),(0,r.jsxs)(D.ZP,{container:!0,columnSpacing:4,rowGap:d,children:[(0,r.jsx)(D.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(N.Qr,{control:y,name:"status",render:function(e){var n=e.value,t=e.onChange;return(0,r.jsx)(L.Z,{multiple:!0,limitTags:1,color:"secondary",options:Q.jb,value:n||[],onChange:function(e,n){t(n)},renderOption:function(e,n){return(0,r.jsx)(Y.Z,(0,_.Z)((0,i.Z)({},e),{children:(0,r.jsx)(A.Z,{size:"small",label:n.label,icon:n.icon,sx:{color:n.color,bgcolor:n.bgcolor}})}))},renderTags:function(e,n){return e.map(function(e,t){return(0,r.jsx)(A.Z,(0,i.Z)({size:"small",label:e.label,icon:e.icon,sx:{color:e.color,bgcolor:e.bgcolor}},n({index:t})))})},renderInput:function(e){return(0,r.jsx)(F.Z,(0,_.Z)((0,i.Z)({},e),{variant:"standard",color:"secondary",label:"Select status"}))}})}})}),(0,r.jsx)(D.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(N.Qr,{name:"assignedUser",control:y,render:function(e){var n=e.value,t=e.onChange;return(0,r.jsx)(X.q,{value:n,onChange:function(e,n){return t(n)},onOpen:function(){return S()},loading:M,options:H,setSearch:g,isOptionEqualToValue:function(e,n){return e.value===n.value},textFieldProps:{color:"secondary",variant:"standard",label:"Assigned to"}})}})})]}),(0,r.jsxs)(D.ZP,{container:!0,columnSpacing:4,rowGap:d,children:[(0,r.jsx)(D.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(N.Qr,{control:y,name:"priority",render:function(e){var n=e.value,t=e.onChange;return(0,r.jsx)(L.Z,{multiple:!0,limitTags:1,color:"secondary",options:Q.FX,value:n||[],onChange:function(e,n){t(n)},renderOption:function(e,n,t){return(0,r.jsx)(Y.Z,(0,_.Z)((0,i.Z)({},e),{children:(0,r.jsxs)(x.Z,{direction:"row",alignItems:"center",spacing:1,children:[n.icon,(0,r.jsxs)(m.Z,{children:[" ",n.label]})]})}))},renderTags:function(e){return e.map(function(e){return(0,r.jsxs)(x.Z,{direction:"row",alignItems:"center",spacing:1,mr:1,children:[e.icon,(0,r.jsxs)(m.Z,{children:[" ",e.label]})]})})},renderInput:function(e){return(0,r.jsx)(F.Z,(0,_.Z)((0,i.Z)({},e),{variant:"standard",color:"secondary",label:"Select priority"}))}})}})}),(0,r.jsx)(D.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(N.Qr,{control:y,name:"dueDate",defaultValue:null,render:function(e){return(0,r.jsx)(G.M,(0,_.Z)((0,i.Z)({},e),{label:"Due date",inputFormat:"Do MMM YYYY",renderInput:function(e){return(0,r.jsx)(F.Z,(0,_.Z)((0,i.Z)({},e),{fullWidth:!0,color:"secondary",variant:"standard"}))}}))}})})]}),(0,r.jsx)(D.ZP,{container:!0,columnSpacing:4,rowGap:d,children:(0,r.jsx)(D.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(B.r,{control:y})})}),(0,r.jsxs)(D.ZP,{container:!0,columnSpacing:4,rowGap:d,children:[(0,r.jsx)(D.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(N.Qr,{name:"assignedToMe",control:y,render:function(e){var n=e.value,t=e.onChange;return(0,r.jsx)($.Z,{control:(0,r.jsx)(W.Z,{color:"secondary",checked:n,onChange:function(e){return t(e.target.checked)}}),label:"Assigned to me"})}})}),(0,r.jsx)(D.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(N.Qr,{name:"archived",control:y,render:function(e){var n=e.value,t=e.onChange;return(0,r.jsx)($.Z,{control:(0,r.jsx)(W.Z,{color:"secondary",checked:n,onChange:function(e){return t(e.target.checked)}}),label:"Show archived tasks"})}})})]}),(0,r.jsx)(D.ZP,{container:!0,item:!0,xs:12,children:(0,r.jsxs)(x.Z,{width:"100%",direction:"row",justifyContent:"flex-end",spacing:2,children:[(0,r.jsx)(p.Z,{variant:"contained",color:"danger",onClick:function(){return ee()},children:"Cancel"}),(0,r.jsx)(p.Z,{variant:"contained",color:"secondary",type:"submit",children:"Search"})]})})]})})})})};H.defaultProps={open:!1,setOpen:function(){},initialFilters:{},filters:{},setFilters:function(){}},H.propTypes={open:u().bool,setOpen:u().func,initialFilters:u().object,filters:u().object,setFilters:u().func};var z=(0,R.Z)(M.Z)(function(){return{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}}),J=(0,R.Z)(f.Z)(function(){return{padding:"24px",maxWidth:"700px",maxHeight:"100vh",overflowY:"scroll"}}),K=t(93859),ee=t(24062),en=t(20705),et=t(64872),er=function(e){var n=e.q,t=e.archived,r=e.status,o=e.priority,s=e.dueDate,a=e.assignedUserId,l=e.tags,c=e.limit,u=e.offset,d=e.orderBy;return{where:(0,i.Z)({_or:[{title:{_ilike:n}},{content:{_ilike:n}}],archived:{_eq:t},status:r?{_in:r}:{_nin:[Q.cj.DONE]},priority:{_in:o},dueDate:{_eq:s},assignedUserId:{_eq:a}},l&&l.length>0&&{Taxonomy:{Taxonomy:{id:{_in:l}}}}),limit:c,offset:u,orderBy:d}},ei=t(93884),eo=function(e){var n=e.initialFilters,t=(0,et.a)(),a=(0,s.useState)(!1),c=a[0],u=a[1],Z=(0,s.useState)((0,i.Z)({},n)),j=Z[0],b=Z[1],y=(0,en.x)({filters:j}),w=y.initialData,_=y.ref,D=er(w),M=(0,g.aM)(C,{variables:D}),F=M.data,q=void 0===F?{tasks:[],meta:{aggregate:{totalCount:0}}}:F,L=q.tasks,A=q.meta,Y=M.loading,$=M.refetch,W=(0,o.Z)((0,v.D)(k,{refetchQueries:["GetTasksTable"]}),1)[0],O=(0,s.useCallback)(function(e){e.stopPropagation(),t.show({content:(0,r.jsx)(K.G,{close:t.close}),title:"Create Task",xs3:"100vw",sm:"100vw",sm2:"80vw",sm3:"70vw",md2:"60vw",lg:"50vw",lg2:"40vw"})},[t]),N=(0,s.useCallback)(function(e){t.show({content:(0,r.jsx)(ee.J,{id:e.id,close:t.close}),title:"Task Details",xs3:"100vw",sm:"100vw",sm2:"100vw",sm3:"100vw",md2:"100vw",lg:"90vw",lg2:"80vw"})},[t]),E=(0,s.useCallback)(function(e){return function(n){n.stopPropagation(),W({variables:{id:e.id,object:{priority:n.target.value}}})}},[W]),R=(0,s.useCallback)(function(e){return function(n){n.stopPropagation(),W({variables:{id:e.id,object:{status:n.target.value}}})}},[W]),U=(0,s.useCallback)(function(e,n){W({variables:{id:e.id,object:{archived:n}}})},[W]),G=(0,s.useMemo)(function(){return[{minWidth:120,field:"priority",headerName:"Priority",sortable:!0,renderCell:function(e){var n=e.row;return(0,r.jsx)(T.P,{selectProps:{input:(0,r.jsx)(h.ZP,{})},withoutSelectIcon:!0,inputComponent:"textWithIcon",selectComponent:"textWithIcon",options:Q.FX,value:n.priority,onChange:E(n)})}},{minWidth:200,flex:1,field:"title",headerName:"Task",sortable:!1,renderCell:function(e){var n=e.row;return(0,r.jsxs)(x.Z,{direction:"row",alignItems:"center",children:[(0,r.jsx)(m.Z,{mr:1,children:n.title}),(0,r.jsx)(I.K,{row:n,entity:"Task",refetchQueries:["GetTasksTable"]})]})}},{minWidth:160,field:"createdAt",headerName:"Created date",sortable:!0,renderCell:function(e){var n=e.row;return l()(n.createdAt).format("YYYY-MM-DD")}},{minWidth:160,field:"dueDate",headerName:"Due date",sortable:!0,renderCell:function(e){var n=e.row;return l()(n.dueDate).isSame(l()(),"day")?(0,r.jsx)(m.Z,{sx:{color:"info.main"},children:l()(n.dueDate).format("YYYY-MM-DD")}):l()(n.dueDate).isBefore(l()(),"day")?(0,r.jsx)(m.Z,{sx:{color:"danger.main"},children:l()(n.dueDate).format("YYYY-MM-DD")}):(0,r.jsx)(m.Z,{children:l()(n.dueDate).format("YYYY-MM-DD")})}},{minWidth:120,field:"assignedTo",headerName:"Assigned to",sortable:!0,sortName:'{"AssignedUser": {"nameFirst": "ORDER"}}'},{minWidth:120,field:"status",headerName:"Status",sortable:!0,renderCell:function(e){var n=e.row;return(0,r.jsx)(T.P,{selectProps:{input:(0,r.jsx)(h.ZP,{})},withoutSelectIcon:!0,inputComponent:"chip",selectComponent:"chip",options:Q.jb,value:n.status,onChange:R(n)})}},{width:50,field:"actions",headerName:"Actions",sortable:!1,renderCell:function(e){var n=e.row;return(0,r.jsx)(S.C,{row:n,actionsData:function(e){var n=[];return n.push({icon:"info",onClick:function(n){n.stopPropagation(),N(e)},tooltip:"Info"}),e.archived?n.push({icon:"unarchive",onClick:function(n){n.stopPropagation(),U(e,!1)},tooltip:"Unarchive"}):n.push({icon:"archive",onClick:function(n){n.stopPropagation(),U(e,!0)},tooltip:"Archive"}),n}})}}]},[E,U,R,N]),B=(0,s.useMemo)(function(){return L.map(function(e){return{id:e.id,archived:e.archived,priority:e.priority,title:e.title,createdAt:e.createdAt,dueDate:e.dueDate,assignedTo:e.assignedUser.fullName,status:e.status,tags:e.tags}})},[L]),V=(0,s.useMemo)(function(){return{title:"No tasks to do!",subtitleFirstLine:"Congratulations! You don't have any tasks to complete.",subtitleSecondLine:"To create task for you or someone else, click the button below.",buttonText:"Create a task",onAction:O}},[O]);return(0,r.jsxs)(x.Z,{width:"100%",spacing:2,sx:{height:"calc(100% - 58px)"},children:[(0,r.jsxs)(x.Z,{width:"100%",direction:"row",justifyContent:"space-between",children:[(0,r.jsx)(p.Z,{variant:"contained",startIcon:(0,r.jsx)(d.Z,{}),onClick:function(){return u(!0)},children:"Filters"}),(0,r.jsx)(x.Z,{direction:"row",spacing:2,children:(0,r.jsx)(p.Z,{variant:"contained",color:"secondary",onClick:O,children:"Create Task"})})]}),(0,r.jsxs)(f.Z,{sx:{paddingTop:"16px",paddingBottom:"16px",height:"100%"},children:[(0,r.jsx)(x.Z,{direction:"row",justifyContent:"space-between",children:(0,r.jsx)(m.Z,{ml:2,variant:"h5",sx:{fontWeight:600},children:"Tasks"})}),(0,r.jsx)(H,{initialFilters:n,filters:j,setFilters:b,open:c,setOpen:u}),B.length?(0,r.jsx)(P.i,{autoHeight:!1,ref:_,columns:G,rows:B,meta:A,refetch:$,onRowClick:N,containerHeight:"calc(100% - 32px)",columnVisibilityModel:{}}):!Y&&(0,r.jsx)(ei.C,(0,i.Z)({imageSrc:"/static/icons/no_tasks_found.svg"},V))]})]})};eo.defaultProps={initialFilters:{}},eo.propTypes={initialFilters:u().shape({archived:u().bool}).isRequired};var es=t(58849),ea=function(){return(0,r.jsx)(eo,{initialFilters:{archived:!1,filterType:"task_table"}})};ea.getLayout=function(e){return(0,r.jsx)(es.Z,{children:e})};var el=ea}},function(e){e.O(0,[3662,630,2283,212,8890,619,2583,4135,8579,6043,1838,4244,3911,1417,3776,2329,8500,778,4046,1023,7454,1870,2797,1047,8062,6313,597,3754,1050,4030,5373,7895,8849,6733,7554,6096,8372,9573,9774,2888,179],function(){return e(e.s=61510)}),_N_E=e.O()}]);