(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5230],{46842:function(e,t,n){"use strict";var i=n(85677),r=n(97582);/*!
FullCalendar v5.9.0
Docs & License: https://fullcalendar.io/
(c) 2021 Adam Shaw
*/ i.vc.touchMouseIgnoreWait=500;var o=0,a=0,s=!1,l=function(){function e(e){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(e){var n;if(!t.shouldIgnoreMouse()&&(n=e,0===n.button&&!n.ctrlKey)&&t.tryStart(e)){var i=t.createEventFromMouse(e,!0);t.emitter.trigger("pointerdown",i),t.initScrollWatch(i),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(e){var n=t.createEventFromMouse(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleMouseUp=function(e){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(e)),t.cleanup()},this.handleTouchStart=function(e){if(t.tryStart(e)){t.isTouchDragging=!0;var n=t.createEventFromTouch(e,!0);t.emitter.trigger("pointerdown",n),t.initScrollWatch(n);var i=e.target;t.shouldIgnoreMove||i.addEventListener("touchmove",t.handleTouchMove),i.addEventListener("touchend",t.handleTouchEnd),i.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(e){var n=t.createEventFromTouch(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleTouchEnd=function(e){if(t.isDragging){var n=e.target;n.removeEventListener("touchmove",t.handleTouchMove),n.removeEventListener("touchend",t.handleTouchEnd),n.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(e)),t.cleanup(),t.isTouchDragging=!1,o+=1,setTimeout(function(){o-=1},i.vc.touchMouseIgnoreWait)}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(e){if(!t.shouldIgnoreMove){var n=window.pageXOffset-t.prevScrollX+t.prevPageX,i=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:e,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:n,pageY:i,deltaX:n-t.origPageX,deltaY:i-t.origPageY})}},this.containerEl=e,this.emitter=new i.Q5$,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),1===(a+=1)&&window.addEventListener("touchmove",c,{passive:!1})}return e.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),(a-=1)||window.removeEventListener("touchmove",c,{passive:!1})},e.prototype.tryStart=function(e){var t=this.querySubjectEl(e),n=e.target;return!!(t&&(!this.handleSelector||(0,i.x_n)(n,this.handleSelector)))&&(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0)},e.prototype.cleanup=function(){s=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},e.prototype.querySubjectEl=function(e){return this.selector?(0,i.x_n)(e.target,this.selector):this.containerEl},e.prototype.shouldIgnoreMouse=function(){return o||this.isTouchDragging},e.prototype.cancelTouchScroll=function(){this.isDragging&&(s=!0)},e.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},e.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},e.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},e.prototype.createEventFromMouse=function(e,t){var n=0,i=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:i}},e.prototype.createEventFromTouch=function(e,t){var n,i,r=e.touches,o=0,a=0;return r&&r.length?(n=r[0].pageX,i=r[0].pageY):(n=e.pageX,i=e.pageY),t?(this.origPageX=n,this.origPageY=i):(o=n-this.origPageX,a=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:o,deltaY:a}},e}();function c(e){s&&e.preventDefault()}var d=function(){function e(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return e.prototype.start=function(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},e.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},e.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},e.prototype.stop=function(e,t){var n=this,i=function(){n.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},e.prototype.doRevertAnimation=function(e,t){var n=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",(0,i.bg6)(n,{left:r.left,top:r.top}),(0,i.ONu)(n,function(){n.style.transition="",e()})},e.prototype.cleanup=function(){this.mirrorEl&&((0,i.bXf)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},e.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&(0,i.bg6)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},e.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),(0,i.bg6)(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},e}(),u=function(e){function t(t,n){var i=e.call(this)||this;return i.handleScroll=function(){i.scrollTop=i.scrollController.getScrollTop(),i.scrollLeft=i.scrollController.getScrollLeft(),i.handleScrollChange()},i.scrollController=t,i.doesListening=n,i.scrollTop=i.origScrollTop=t.getScrollTop(),i.scrollLeft=i.origScrollLeft=t.getScrollLeft(),i.scrollWidth=t.getScrollWidth(),i.scrollHeight=t.getScrollHeight(),i.clientWidth=t.getClientWidth(),i.clientHeight=t.getClientHeight(),i.clientRect=i.computeClientRect(),i.doesListening&&i.getEventTarget().addEventListener("scroll",i.handleScroll),i}return(0,r.__extends)(t,e),t.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},t.prototype.getScrollTop=function(){return this.scrollTop},t.prototype.getScrollLeft=function(){return this.scrollLeft},t.prototype.setScrollTop=function(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())},t.prototype.setScrollLeft=function(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())},t.prototype.getClientWidth=function(){return this.clientWidth},t.prototype.getClientHeight=function(){return this.clientHeight},t.prototype.getScrollWidth=function(){return this.scrollWidth},t.prototype.getScrollHeight=function(){return this.scrollHeight},t.prototype.handleScrollChange=function(){},t}(i.Qgo),p=function(e){function t(t,n){return e.call(this,new i.A9I(t),n)||this}return(0,r.__extends)(t,e),t.prototype.getEventTarget=function(){return this.scrollController.el},t.prototype.computeClientRect=function(){return(0,i.skW)(this.scrollController.el)},t}(u),h=function(e){function t(t){return e.call(this,new i.Obu,t)||this}return(0,r.__extends)(t,e),t.prototype.getEventTarget=function(){return window},t.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},t.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},t}(u),g="function"==typeof performance?performance.now:Date.now,f=function(){function e(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var n=g();e.handleSide(t,(n-e.msSinceRequest)/1e3),e.requestAnimation(n)}else e.isAnimating=!1}}}return e.prototype.start=function(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},e.prototype.handleMove=function(e,t){if(this.isEnabled){var n=e-window.pageXOffset,i=t-window.pageYOffset,r=null===this.pointerScreenY?0:i-this.pointerScreenY,o=null===this.pointerScreenX?0:n-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(g()))}},e.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy();this.scrollCaches=null}},e.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},e.prototype.handleSide=function(e,t){var n=e.scrollCache,i=this.edgeThreshold,r=i-e.distance,o=r*r/(i*i)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+o*a)}},e.prototype.computeBestEdge=function(e,t){for(var n=this.edgeThreshold,i=null,r=0,o=this.scrollCaches;r<o.length;r++){var a=o[r],s=a.clientRect,l=e-s.left,c=s.right-e,d=t-s.top,u=s.bottom-t;l>=0&&c>=0&&d>=0&&u>=0&&(d<=n&&this.everMovedUp&&a.canScrollUp()&&(!i||i.distance>d)&&(i={scrollCache:a,name:"top",distance:d}),u<=n&&this.everMovedDown&&a.canScrollDown()&&(!i||i.distance>u)&&(i={scrollCache:a,name:"bottom",distance:u}),l<=n&&this.everMovedLeft&&a.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:a,name:"left",distance:l}),c<=n&&this.everMovedRight&&a.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:a,name:"right",distance:c}))}return i},e.prototype.buildCaches=function(e){return this.queryScrollEls(e).map(function(e){return e===window?new h(!1):new p(e,!1)})},e.prototype.queryScrollEls=function(e){for(var t=[],n=0,r=this.scrollQuery;n<r.length;n++){var o=r[n];"object"==typeof o?t.push(o):t.push.apply(t,Array.prototype.slice.call((0,i.xSu)(e).querySelectorAll(o)))}return t},e}(),m=function(e){function t(t,n){var r=e.call(this,t)||this;r.containerEl=t,r.delay=null,r.minDistance=0,r.touchScrollAllowed=!0,r.mirrorNeedsRevert=!1,r.isInteracting=!1,r.isDragging=!1,r.isDelayEnded=!1,r.isDistanceSurpassed=!1,r.delayTimeoutId=null,r.onPointerDown=function(e){r.isDragging||(r.isInteracting=!0,r.isDelayEnded=!1,r.isDistanceSurpassed=!1,(0,i.ZSf)(document.body),(0,i.ipI)(document.body),e.isTouch||e.origEvent.preventDefault(),r.emitter.trigger("pointerdown",e),!r.isInteracting||r.pointer.shouldIgnoreMove||(r.mirror.setIsVisible(!1),r.mirror.start(e.subjectEl,e.pageX,e.pageY),r.startDelay(e),r.minDistance||r.handleDistanceSurpassed(e)))},r.onPointerMove=function(e){if(r.isInteracting){if(r.emitter.trigger("pointermove",e),!r.isDistanceSurpassed){var t=r.minDistance,n=e.deltaX,i=e.deltaY;n*n+i*i>=t*t&&r.handleDistanceSurpassed(e)}r.isDragging&&("scroll"!==e.origEvent.type&&(r.mirror.handleMove(e.pageX,e.pageY),r.autoScroller.handleMove(e.pageX,e.pageY)),r.emitter.trigger("dragmove",e))}},r.onPointerUp=function(e){r.isInteracting&&(r.isInteracting=!1,(0,i.sGN)(document.body),(0,i.N0T)(document.body),r.emitter.trigger("pointerup",e),r.isDragging&&(r.autoScroller.stop(),r.tryStopDrag(e)),r.delayTimeoutId&&(clearTimeout(r.delayTimeoutId),r.delayTimeoutId=null))};var o=r.pointer=new l(t);return o.emitter.on("pointerdown",r.onPointerDown),o.emitter.on("pointermove",r.onPointerMove),o.emitter.on("pointerup",r.onPointerUp),n&&(o.selector=n),r.mirror=new d,r.autoScroller=new f,r}return(0,r.__extends)(t,e),t.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},t.prototype.startDelay=function(e){var t=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){t.delayTimeoutId=null,t.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)},t.prototype.handleDelayEnd=function(e){this.isDelayEnded=!0,this.tryStartDrag(e)},t.prototype.handleDistanceSurpassed=function(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)},t.prototype.tryStartDrag=function(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())},t.prototype.tryStopDrag=function(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))},t.prototype.stopDrag=function(e){this.isDragging=!1,this.emitter.trigger("dragend",e)},t.prototype.setIgnoreMove=function(e){this.pointer.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){this.mirror.setIsVisible(e)},t.prototype.setMirrorNeedsRevert=function(e){this.mirrorNeedsRevert=e},t.prototype.setAutoScrollEnabled=function(e){this.autoScroller.isEnabled=e},t}(i.KDF),v=function(){function e(e){this.origRect=(0,i.AYo)(e),this.scrollCaches=(0,i.U4g)(e).map(function(e){return new p(e,!0)})}return e.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy()},e.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,n=this.scrollCaches;t<n.length;t++){var i=n[t];e+=i.origScrollLeft-i.getScrollLeft()}return e},e.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,n=this.scrollCaches;t<n.length;t++){var i=n[t];e+=i.origScrollTop-i.getScrollTop()}return e},e.prototype.isWithinClipping=function(e,t){for(var n={left:e,top:t},r=0,o=this.scrollCaches;r<o.length;r++){var a=o[r];if(!y(a.getEventTarget())&&!(0,i.BKI)(n,a.clientRect))return!1}return!0},e}();function y(e){var t=e.tagName;return"HTML"===t||"BODY"===t}var x=function(){function e(e,t){var n=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(e){var t=n.dragging;n.initialHit=null,n.movingHit=null,n.finalHit=null,n.prepareHits(),n.processFirstCoord(e),n.initialHit||!n.requireInitial?(t.setIgnoreMove(!1),n.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=function(e){n.emitter.trigger("dragstart",e),n.handleMove(e,!0)},this.handleDragMove=function(e){n.emitter.trigger("dragmove",e),n.handleMove(e)},this.handlePointerUp=function(e){n.releaseHits(),n.emitter.trigger("pointerup",e)},this.handleDragEnd=function(e){n.movingHit&&n.emitter.trigger("hitupdate",null,!0,e),n.finalHit=n.movingHit,n.movingHit=null,n.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new i.Q5$}return e.prototype.processFirstCoord=function(e){var t,n={left:e.pageX,top:e.pageY},r=n,o=e.subjectEl;o instanceof HTMLElement&&(t=(0,i.AYo)(o),r=(0,i.Jq9)(r,t));var a=this.initialHit=this.queryHitForOffset(r.left,r.top);if(a){if(this.useSubjectCenter&&t){var s=(0,i.VEA)(t,a.rect);s&&(r=(0,i.iFU)(s))}this.coordAdjust=(0,i.vrY)(r,n)}else this.coordAdjust={left:0,top:0}},e.prototype.handleMove=function(e,t){var n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!b(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))},e.prototype.prepareHits=function(){this.offsetTrackers=(0,i._aR)(this.droppableStore,function(e){return e.component.prepareHits(),new v(e.el)})},e.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},e.prototype.queryHitForOffset=function(e,t){var n=this.droppableStore,r=this.offsetTrackers,o=null;for(var a in n){var s=n[a].component,l=r[a];if(l&&l.isWithinClipping(e,t)){var c=l.computeLeft(),d=l.computeTop(),u=e-c,p=t-d,h=l.origRect,g=h.right-h.left,f=h.bottom-h.top;if(u>=0&&u<g&&p>=0&&p<f){var m=s.queryHit(u,p,g,f);m&&(0,i.urV)(m.dateProfile.activeRange,m.dateSpan.range)&&(!o||m.layer>o.layer)&&(m.componentId=a,m.context=s.context,m.rect.left+=c,m.rect.right+=c,m.rect.top+=d,m.rect.bottom+=d,o=m)}}}return o},e}();function b(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&(0,i.omy)(e.dateSpan,t.dateSpan)}function S(e,t){for(var n,i,o={},a=0,s=t.pluginHooks.datePointTransforms;a<s.length;a++){var l=s[a];(0,r.__assign)(o,l(e,t))}return(0,r.__assign)(o,(n=e,i=t.dateEnv,{date:i.toDate(n.range.start),dateStr:i.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay})),o}var E=function(e){function t(t){var n=e.call(this,t)||this;n.handlePointerDown=function(e){var t=n.dragging,i=e.origEvent.target;t.setIgnoreMove(!n.component.isValidDateDownEl(i))},n.handleDragEnd=function(e){var t=n.component;if(!n.dragging.pointer.wasTouchScroll){var i=n.hitDragging,o=i.initialHit,a=i.finalHit;if(o&&a&&b(o,a)){var s=t.context,l=(0,r.__assign)((0,r.__assign)({},S(o.dateSpan,s)),{dayEl:o.dayEl,jsEvent:e.origEvent,view:s.viewApi||s.calendarApi.view});s.emitter.trigger("dateClick",l)}}},n.dragging=new m(t.el),n.dragging.autoScroller.isEnabled=!1;var o=n.hitDragging=new x(n.dragging,(0,i.Rac)(t));return o.emitter.on("pointerdown",n.handlePointerDown),o.emitter.on("dragend",n.handleDragEnd),n}return(0,r.__extends)(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(i.U4m),C=function(e){function t(t){var n=e.call(this,t)||this;n.dragSelection=null,n.handlePointerDown=function(e){var t,i,r,o=n.component,a=n.dragging,s=o.context.options.selectable&&o.isValidDateDownEl(e.origEvent.target);a.setIgnoreMove(!s),a.delay=e.isTouch?(t=o,i=t.context.options,r=i.selectLongPressDelay,null==r&&(r=i.longPressDelay),r):null},n.handleDragStart=function(e){n.component.context.calendarApi.unselect(e)},n.handleHitUpdate=function(e,t){var o=n.component.context,a=null,s=!1;if(e){var l=n.hitDragging.initialHit;e.componentId===l.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(l,e)||(a=function(e,t,n){var o=e.dateSpan,a=t.dateSpan,s=[o.range.start,o.range.end,a.range.start,a.range.end,];s.sort(i.z6t);for(var l={},c=0;c<n.length;c++){var d=(0,n[c])(e,t);if(!1===d)return null;d&&(0,r.__assign)(l,d)}return l.range={start:s[0],end:s[3]},l.allDay=o.allDay,l}(l,e,o.pluginHooks.dateSelectionTransformers)),a&&(0,i.g4F)(a,e.dateProfile,o)||(s=!0,a=null)}a?o.dispatch({type:"SELECT_DATES",selection:a}):t||o.dispatch({type:"UNSELECT_DATES"}),s?(0,i.deF)():(0,i._OJ)(),t||(n.dragSelection=a)},n.handlePointerUp=function(e){n.dragSelection&&((0,i.HpC)(n.dragSelection,e,n.component.context),n.dragSelection=null)};var o=t.component.context.options,a=n.dragging=new m(t.el);a.touchScrollAllowed=!1,a.minDistance=o.selectMinDistance||0,a.autoScroller.isEnabled=o.dragScroll;var s=n.hitDragging=new x(n.dragging,(0,i.Rac)(t));return s.emitter.on("pointerdown",n.handlePointerDown),s.emitter.on("dragstart",n.handleDragStart),s.emitter.on("hitupdate",n.handleHitUpdate),s.emitter.on("pointerup",n.handlePointerUp),n}return(0,r.__extends)(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(i.U4m),w=function(e){function t(n){var o=e.call(this,n)||this;o.subjectEl=null,o.subjectSeg=null,o.isDragging=!1,o.eventRange=null,o.relevantEvents=null,o.receivingContext=null,o.validMutation=null,o.mutatedRelevantEvents=null,o.handlePointerDown=function(e){var t=e.origEvent.target,n=o.component,r=o.dragging,a=r.mirror,s=n.context.options,l=n.context;o.subjectEl=e.subjectEl;var c,d,u,p=o.subjectSeg=(0,i.BJe)(e.subjectEl),h=(o.eventRange=p.eventRange).instance.instanceId;o.relevantEvents=(0,i.SOE)(l.getCurrentData().eventStore,h),r.minDistance=e.isTouch?0:s.eventDragMinDistance,r.delay=e.isTouch&&h!==n.props.eventSelection?(c=n,d=c.context.options,u=d.eventLongPressDelay,null==u&&(u=d.longPressDelay),u):null,s.fixedMirrorParent?a.parentNode=s.fixedMirrorParent:a.parentNode=(0,i.x_n)(t,".fc"),a.revertDuration=s.dragRevertDuration;var g=n.isValidSegDownEl(t)&&!(0,i.x_n)(t,".fc-event-resizer");r.setIgnoreMove(!g),o.isDragging=g&&e.subjectEl.classList.contains("fc-event-draggable")},o.handleDragStart=function(e){var t=o.component.context,n=o.eventRange,r=n.instance.instanceId;e.isTouch?r!==o.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:r}):t.dispatch({type:"UNSELECT_EVENT"}),o.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:o.subjectEl,event:new i.voO(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},o.handleHitUpdate=function(e,t){if(o.isDragging){var n=o.relevantEvents,r=o.hitDragging.initialHit,a=o.component.context,s=null,l=null,c=null,d=!1,u={affectedEvents:n,mutatedEvents:(0,i.ifx)(),isEvent:!0};if(e){var p=(s=e.context).options;a===s||p.editable&&p.droppable?(l=function(e,t,n){var r=e.dateSpan,o=t.dateSpan,a=r.range.start,s=o.range.start,l={};r.allDay!==o.allDay&&(l.allDay=o.allDay,l.hasEnd=t.context.options.allDayMaintainDuration,o.allDay&&(a=(0,i.b7Q)(a)));var c=(0,i.Pe9)(a,s,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);c.milliseconds&&(l.allDay=!1);for(var d={datesDelta:c,standardProps:l},u=0;u<n.length;u++)(0,n[u])(d,e,t);return d}(r,e,s.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(c=(0,i.rfG)(n,s.getCurrentData().eventUiBases,l,s),u.mutatedEvents=c,(0,i.WoG)(u,e.dateProfile,s)||(d=!0,l=null,c=null,u.mutatedEvents=(0,i.ifx)())):s=null}o.displayDrag(s,u),d?(0,i.deF)():(0,i._OJ)(),t||(a===s&&b(r,e)&&(l=null),o.dragging.setMirrorNeedsRevert(!l),o.dragging.setMirrorIsVisible(!e||!(0,i.xSu)(o.subjectEl).querySelector(".fc-event-mirror")),o.receivingContext=s,o.validMutation=l,o.mutatedRelevantEvents=c)}},o.handlePointerUp=function(){o.isDragging||o.cleanup()},o.handleDragEnd=function(e){if(o.isDragging){var t=o.component.context,n=t.viewApi,a=o.receivingContext,s=o.validMutation,l=o.eventRange.def,c=o.eventRange.instance,d=new i.voO(t,l,c),u=o.relevantEvents,p=o.mutatedRelevantEvents,h=o.hitDragging.finalHit;if(o.clearDrag(),t.emitter.trigger("eventDragStop",{el:o.subjectEl,event:d,jsEvent:e.origEvent,view:n}),s){if(a===t){var g=new i.voO(t,p.defs[l.defId],c?p.instances[c.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:p});for(var f={oldEvent:d,event:g,relatedEvents:(0,i.vuT)(p,t,c),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:u})}},m={},v=0,y=t.getCurrentData().pluginHooks.eventDropTransformers;v<y.length;v++){var x=y[v];(0,r.__assign)(m,x(s,t))}t.emitter.trigger("eventDrop",(0,r.__assign)((0,r.__assign)((0,r.__assign)({},f),m),{el:e.subjectEl,delta:s.datesDelta,jsEvent:e.origEvent,view:n})),t.emitter.trigger("eventChange",f)}else if(a){var b={event:d,relatedEvents:(0,i.vuT)(u,t,c),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:u})}};t.emitter.trigger("eventLeave",(0,r.__assign)((0,r.__assign)({},b),{draggedEl:e.subjectEl,view:n})),t.dispatch({type:"REMOVE_EVENTS",eventStore:u}),t.emitter.trigger("eventRemove",b);var E=p.defs[l.defId],C=p.instances[c.instanceId],w=new i.voO(a,E,C);a.dispatch({type:"MERGE_EVENTS",eventStore:p});var I={event:w,relatedEvents:(0,i.vuT)(p,a,C),revert:function(){a.dispatch({type:"REMOVE_EVENTS",eventStore:p})}};a.emitter.trigger("eventAdd",I),e.isTouch&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:c.instanceId}),a.emitter.trigger("drop",(0,r.__assign)((0,r.__assign)({},S(h.dateSpan,a)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:h.context.viewApi})),a.emitter.trigger("eventReceive",(0,r.__assign)((0,r.__assign)({},I),{draggedEl:e.subjectEl,view:h.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}o.cleanup()};var a=o.component.context.options,s=o.dragging=new m(n.el);s.pointer.selector=t.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=a.dragScroll;var l=o.hitDragging=new x(o.dragging,i.T6u);return l.useSubjectCenter=n.useEventCenter,l.emitter.on("pointerdown",o.handlePointerDown),l.emitter.on("dragstart",o.handleDragStart),l.emitter.on("hitupdate",o.handleHitUpdate),l.emitter.on("pointerup",o.handlePointerUp),l.emitter.on("dragend",o.handleDragEnd),o}return(0,r.__extends)(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.displayDrag=function(e,t){var n=this.component.context,r=this.receivingContext;r&&r!==e&&(r===n?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:(0,i.ifx)(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},t.prototype.clearDrag=function(){var e=this.component.context,t=this.receivingContext;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})},t.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},t.SELECTOR=".fc-event-draggable, .fc-event-resizable",t}(i.U4m),I=function(e){function t(t){var n=e.call(this,t)||this;n.draggingSegEl=null,n.draggingSeg=null,n.eventRange=null,n.relevantEvents=null,n.validMutation=null,n.mutatedRelevantEvents=null,n.handlePointerDown=function(e){var t=n.component,r=n.querySegEl(e),o=(0,i.BJe)(r),a=n.eventRange=o.eventRange;n.dragging.minDistance=t.context.options.eventDragMinDistance,n.dragging.setIgnoreMove(!n.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&n.component.props.eventSelection!==a.instance.instanceId)},n.handleDragStart=function(e){var t=n.component.context,r=n.eventRange;n.relevantEvents=(0,i.SOE)(t.getCurrentData().eventStore,n.eventRange.instance.instanceId);var o=n.querySegEl(e);n.draggingSegEl=o,n.draggingSeg=(0,i.BJe)(o),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:o,event:new i.voO(t,r.def,r.instance),jsEvent:e.origEvent,view:t.viewApi})},n.handleHitUpdate=function(e,t,r){var o=n.component.context,a=n.relevantEvents,s=n.hitDragging.initialHit,l=n.eventRange.instance,c=null,d=null,u=!1,p={affectedEvents:a,mutatedEvents:(0,i.ifx)(),isEvent:!0};e&&(e.componentId===s.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(s,e)||(c=function(e,t,n,r){var o=e.context.dateEnv,a=e.dateSpan.range.start,s=t.dateSpan.range.start,l=(0,i.Pe9)(a,s,o,e.largeUnit);if(n){if(o.add(r.start,l)<r.end)return{startDelta:l}}else if(o.add(r.end,l)>r.start)return{endDelta:l};return null}(s,e,r.subjectEl.classList.contains("fc-event-resizer-start"),l.range))),c&&(d=(0,i.rfG)(a,o.getCurrentData().eventUiBases,c,o),p.mutatedEvents=d,(0,i.WoG)(p,e.dateProfile,o)||(u=!0,c=null,d=null,p.mutatedEvents=null)),d?o.dispatch({type:"SET_EVENT_RESIZE",state:p}):o.dispatch({type:"UNSET_EVENT_RESIZE"}),u?(0,i.deF)():(0,i._OJ)(),t||(c&&b(s,e)&&(c=null),n.validMutation=c,n.mutatedRelevantEvents=d)},n.handleDragEnd=function(e){var t=n.component.context,o=n.eventRange.def,a=n.eventRange.instance,s=new i.voO(t,o,a),l=n.relevantEvents,c=n.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:n.draggingSegEl,event:s,jsEvent:e.origEvent,view:t.viewApi}),n.validMutation){var d=new i.voO(t,c.defs[o.defId],a?c.instances[a.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:c});var u={oldEvent:s,event:d,relatedEvents:(0,i.vuT)(c,t,a),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:l})}};t.emitter.trigger("eventResize",(0,r.__assign)((0,r.__assign)({},u),{el:n.draggingSegEl,startDelta:n.validMutation.startDelta||(0,i.Pvs)(0),endDelta:n.validMutation.endDelta||(0,i.Pvs)(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",u)}else t.emitter.trigger("_noEventResize");n.draggingSeg=null,n.relevantEvents=null,n.validMutation=null};var o=t.component,a=n.dragging=new m(t.el);a.pointer.selector=".fc-event-resizer",a.touchScrollAllowed=!1,a.autoScroller.isEnabled=o.context.options.dragScroll;var s=n.hitDragging=new x(n.dragging,(0,i.Rac)(t));return s.emitter.on("pointerdown",n.handlePointerDown),s.emitter.on("dragstart",n.handleDragStart),s.emitter.on("hitupdate",n.handleHitUpdate),s.emitter.on("dragend",n.handleDragEnd),n}return(0,r.__extends)(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.querySegEl=function(e){return(0,i.x_n)(e.subjectEl,".fc-event")},t}(i.U4m),D=function(){function e(e){var t=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(e){e.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(e){var n=t.context.options.unselectCancel,r=(0,i._zt)(e.origEvent);t.matchesCancel=!!(0,i.x_n)(r,n),t.matchesEvent=!!(0,i.x_n)(r,w.SELECTOR)},this.onDocumentPointerUp=function(e){var n=t.context,i=t.documentPointer,r=n.getCurrentData();if(!i.wasTouchScroll){if(r.dateSelection&&!t.isRecentPointerDateSelect){var o=n.options.unselectAuto;!o||o&&t.matchesCancel||n.calendarApi.unselect(e)}r.eventSelection&&!t.matchesEvent&&n.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var n=this.documentPointer=new l(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return e.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},e}(),R={fixedMirrorParent:i.yRu},_={dateClick:i.yRu,eventDragStart:i.yRu,eventDragStop:i.yRu,eventDrop:i.yRu,eventResizeStart:i.yRu,eventResizeStop:i.yRu,eventResize:i.yRu,drop:i.yRu,eventReceive:i.yRu,eventLeave:i.yRu},T=function(){function e(e,t){var n=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(e){n.dragMeta=n.buildDragMeta(e.subjectEl)},this.handleHitUpdate=function(e,t,o){var a=n.hitDragging.dragging,s=null,l=null,c=!1,d={affectedEvents:(0,i.ifx)(),mutatedEvents:(0,i.ifx)(),isEvent:n.dragMeta.create};e&&(s=e.context,n.canDropElOnCalendar(o.subjectEl,s)&&(l=function(e,t,n){for(var o=(0,r.__assign)({},t.leftoverProps),a=0,s=n.pluginHooks.externalDefTransforms;a<s.length;a++){var l=s[a];(0,r.__assign)(o,l(e,t))}var c=(0,i.Boe)(o,n),d=c.refined,u=c.extra,p=(0,i.mTn)(d,u,t.sourceId,e.allDay,n.options.forceEventDuration||Boolean(t.duration),n),h=e.range.start;e.allDay&&t.startTime&&(h=n.dateEnv.add(h,t.startTime));var g=t.duration?n.dateEnv.add(h,t.duration):(0,i.$Td)(e.allDay,h,n),f=(0,i.$N4)(p.defId,{start:h,end:g});return{def:p,instance:f}}(e.dateSpan,n.dragMeta,s),d.mutatedEvents=(0,i.rod)(l),(c=!(0,i.WoG)(d,e.dateProfile,s))&&(d.mutatedEvents=(0,i.ifx)(),l=null))),n.displayDrag(s,d),a.setMirrorIsVisible(t||!l||!document.querySelector(".fc-event-mirror")),c?(0,i.deF)():(0,i._OJ)(),t||(a.setMirrorNeedsRevert(!l),n.receivingContext=s,n.droppableEvent=l)},this.handleDragEnd=function(e){var t=n.receivingContext,o=n.droppableEvent;if(n.clearDrag(),t&&o){var a=n.hitDragging.finalHit,s=a.context.viewApi,l=n.dragMeta;if(t.emitter.trigger("drop",(0,r.__assign)((0,r.__assign)({},S(a.dateSpan,t)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:s})),l.create){var c=(0,i.rod)(o);t.dispatch({type:"MERGE_EVENTS",eventStore:c}),e.isTouch&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:o.instance.instanceId}),t.emitter.trigger("eventReceive",{event:new i.voO(t,o.def,o.instance),relatedEvents:[],revert:function(){t.dispatch({type:"REMOVE_EVENTS",eventStore:c})},draggedEl:e.subjectEl,view:s})}}n.receivingContext=null,n.droppableEvent=null};var o=this.hitDragging=new x(e,i.T6u);o.requireInitial=!1,o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}return e.prototype.buildDragMeta=function(e){var t,n,r,o,a,s;return"object"==typeof this.suppliedDragMeta?(0,i.WOi)(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?(0,i.WOi)(this.suppliedDragMeta(e)):(t=e,a=(n=t,r="event",o=i.vc.dataAttrPrefix,n.getAttribute("data-"+(o?o+"-":"")+r)||""),s=a?JSON.parse(a):{create:!1},(0,i.WOi)(s))},e.prototype.displayDrag=function(e,t){var n=this.receivingContext;n&&n!==e&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},e.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.canDropElOnCalendar=function(e,t){var n=t.options.dropAccept;return"function"==typeof n?n.call(t.calendarApi,e):"string"!=typeof n||!n||Boolean((0,i.App)(e,n))},e}();i.vc.dataAttrPrefix="",!function(){function e(e,t){var n=this;void 0===t&&(t={}),this.handlePointerDown=function(e){var t=n.dragging,r=n.settings,o=r.minDistance,a=r.longPressDelay;t.minDistance=null!=o?o:e.isTouch?0:i.kgr.eventDragMinDistance,t.delay=e.isTouch?null!=a?a:i.kgr.longPressDelay:0},this.handleDragStart=function(e){e.isTouch&&n.dragging.delay&&e.subjectEl.classList.contains("fc-event")&&n.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=t;var r=this.dragging=new m(e);r.touchScrollAllowed=!1,null!=t.itemSelector&&(r.pointer.selector=t.itemSelector),null!=t.appendTo&&(r.mirror.parentNode=t.appendTo),r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),new T(r,t.eventData)}return e.prototype.destroy=function(){this.dragging.destroy()},e}();var j=function(e){function t(t){var n=e.call(this,t)||this;n.shouldIgnoreMove=!1,n.mirrorSelector="",n.currentMirrorEl=null,n.handlePointerDown=function(e){n.emitter.trigger("pointerdown",e),n.shouldIgnoreMove||n.emitter.trigger("dragstart",e)},n.handlePointerMove=function(e){n.shouldIgnoreMove||n.emitter.trigger("dragmove",e)},n.handlePointerUp=function(e){n.emitter.trigger("pointerup",e),n.shouldIgnoreMove||n.emitter.trigger("dragend",e)};var i=n.pointer=new l(t);return i.emitter.on("pointerdown",n.handlePointerDown),i.emitter.on("pointermove",n.handlePointerMove),i.emitter.on("pointerup",n.handlePointerUp),n}return(0,r.__extends)(t,e),t.prototype.destroy=function(){this.pointer.destroy()},t.prototype.setIgnoreMove=function(e){this.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){if(e)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var t=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;t&&(this.currentMirrorEl=t,t.style.visibility="hidden")}},t}(i.KDF);!function(){function e(e,t){var n=document;e===document||e instanceof Element?(n=e,t=t||{}):t=e||{};var i=this.dragging=new j(n);"string"==typeof t.itemSelector?i.pointer.selector=t.itemSelector:n===document&&(i.pointer.selector="[data-event]"),"string"==typeof t.mirrorSelector&&(i.mirrorSelector=t.mirrorSelector),new T(i,t.eventData)}return e.prototype.destroy=function(){this.dragging.destroy()},e}();var P=(0,i.rxu)({componentInteractions:[E,C,w,I],calendarInteractions:[D],elementDraggingImpl:m,optionRefiners:R,listenerRefiners:_});t.ZP=P},38812:function(e,t,n){"use strict";n.d(t,{ZPm:function(){return s}});var i=n(97582),r=n(67294),o=n(73935);("undefined"!=typeof globalThis?globalThis:window).FullCalendarVDom={Component:r.Component,createElement:r.createElement,render:o.render,createRef:r.createRef,Fragment:r.Fragment,createContext:r.createContext,createPortal:o.createPortal,flushToDom:function(){},unmountComponentAtNode:o.unmountComponentAtNode};var a=n(85677),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._calendarApi=new a.zeW,t}return(0,i.__extends)(t,e),t.prototype.render=function(){return r.createElement(a.n1v,{optionOverrides:this.props,calendarApi:this._calendarApi},function(e){return r.createElement(a.Tdg,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},function(t,n,o,s){return r.createElement("div",{className:t.join(" "),style:{height:n}},r.createElement(a.BdM,(0,i.__assign)({isHeightAuto:o,forPrint:s},e)))})})},t.prototype.getApi=function(){return this._calendarApi},t}(r.Component)},90244:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)([(0,o.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,o.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime")},39418:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zM7 10h5v5H7z"}),"Today")},39474:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var i=n(63366),r=n(87462),o=n(67294),a=n(63961),s=n(58510),l=n(2101),c=n(98216),d=n(90948),u=n(71657),p=n(1977),h=n(8027);function g(e){return(0,h.ZP)("MuiButtonGroup",e)}let f=(0,p.Z)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]);var m=n(34510),v=n(93326),y=n(85893);let x=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],b=(e,t)=>{let{ownerState:n}=e;return[{[`& .${f.grouped}`]:t.grouped},{[`& .${f.grouped}`]:t[`grouped${(0,c.Z)(n.orientation)}`]},{[`& .${f.grouped}`]:t[`grouped${(0,c.Z)(n.variant)}`]},{[`& .${f.grouped}`]:t[`grouped${(0,c.Z)(n.variant)}${(0,c.Z)(n.orientation)}`]},{[`& .${f.grouped}`]:t[`grouped${(0,c.Z)(n.variant)}${(0,c.Z)(n.color)}`]},{[`& .${f.firstButton}`]:t.firstButton},{[`& .${f.lastButton}`]:t.lastButton},{[`& .${f.middleButton}`]:t.middleButton},t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]},S=e=>{let{classes:t,color:n,disabled:i,disableElevation:r,fullWidth:o,orientation:a,variant:l}=e,d={root:["root",l,"vertical"===a&&"vertical",o&&"fullWidth",r&&"disableElevation"],grouped:["grouped",`grouped${(0,c.Z)(a)}`,`grouped${(0,c.Z)(l)}`,`grouped${(0,c.Z)(l)}${(0,c.Z)(a)}`,`grouped${(0,c.Z)(l)}${(0,c.Z)(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,s.Z)(d,g,t)},E=(0,d.ZP)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:b})(({theme:e,ownerState:t})=>(0,r.Z)({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},"vertical"===t.orientation&&{flexDirection:"column"},{[`& .${f.grouped}`]:(0,r.Z)({minWidth:40,"&:hover":(0,r.Z)({},"contained"===t.variant&&{boxShadow:"none"})},"contained"===t.variant&&{boxShadow:"none"}),[`& .${f.firstButton},& .${f.middleButton}`]:(0,r.Z)({},"horizontal"===t.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===t.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===t.variant&&"horizontal"===t.orientation&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${"light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${f.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"vertical"===t.orientation&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${"light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${f.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"inherit"!==t.color&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:(0,l.Fq)(e.palette[t.color].main,.5)},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"transparent"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"transparent"},"contained"===t.variant&&"horizontal"===t.orientation&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${f.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"vertical"===t.orientation&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${f.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"inherit"!==t.color&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":(0,r.Z)({},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"currentColor"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"currentColor"})}),[`& .${f.lastButton},& .${f.middleButton}`]:(0,r.Z)({},"horizontal"===t.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===t.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===t.variant&&"horizontal"===t.orientation&&{marginLeft:-1},"outlined"===t.variant&&"vertical"===t.orientation&&{marginTop:-1})})),C=o.forwardRef(function(e,t){var n;let s=(0,u.Z)({props:e,name:"MuiButtonGroup"}),{children:l,className:c,color:d="primary",component:p="div",disabled:h=!1,disableElevation:g=!1,disableFocusRipple:f=!1,disableRipple:b=!1,fullWidth:C=!1,orientation:w="horizontal",size:I="medium",variant:D="outlined"}=s,R=(0,i.Z)(s,x),_=(0,r.Z)({},s,{color:d,component:p,disabled:h,disableElevation:g,disableFocusRipple:f,disableRipple:b,fullWidth:C,orientation:w,size:I,variant:D}),T=S(_),j=o.useMemo(()=>({className:T.grouped,color:d,disabled:h,disableElevation:g,disableFocusRipple:f,disableRipple:b,fullWidth:C,size:I,variant:D}),[d,h,g,f,b,C,I,D,T.grouped]),P=o.Children.toArray(l).filter(e=>o.isValidElement(e)),q=P.length,A=e=>{let t=0===e,n=e===q-1;return t&&n?"":t?T.firstButton:n?T.lastButton:T.middleButton};return(0,y.jsx)(E,(0,r.Z)({as:p,role:"group",className:(0,a.Z)(T.root,c),ref:t,ownerState:_},R,{children:(0,y.jsx)(m.Z.Provider,{value:j,children:P.map((e,t)=>(0,y.jsx)(v.Z.Provider,{value:A(t),children:e},t))})}))});var w=C},6848:function(e,t,n){"use strict";n.d(t,{w:function(){return _}});var i=n(87462),r=n(63366),o=n(67294),a=n(21542),s=n(20752),l=n(90948),c=n(71657),d=n(58510),u=n(86010),p=n(67542),h=n(90186),g=n(8027),f=n(1977);function m(e){return(0,g.ZP)("MuiPickerStaticWrapper",e)}(0,f.Z)("MuiPickerStaticWrapper",["root","content"]);var v=n(20609),y=n(85893);let x=["displayStaticWrapperAs","onAccept","onClear","onCancel","onDismiss","onSetToday","open","children","components","componentsProps","className"],b=e=>{let{classes:t}=e;return(0,d.Z)({root:["root"],content:["content"]},m,t)},S=(0,l.ZP)("div",{name:"MuiPickerStaticWrapper",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column"}),E=(0,l.ZP)("div",{name:"MuiPickerStaticWrapper",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e})=>({overflow:"hidden",minWidth:p.Pl,display:"flex",flexDirection:"column",backgroundColor:e.palette.background.paper}));function C(e){var t;let n=(0,c.Z)({props:e,name:"MuiPickerStaticWrapper"}),{displayStaticWrapperAs:a,onAccept:s,onClear:l,onCancel:d,onSetToday:p,children:g,components:f,componentsProps:m,className:C}=n,w=(0,r.Z)(n,x),I=b(n),D=null!=(t=null==f?void 0:f.ActionBar)?t:v.Z,R=(null==f?void 0:f.PaperContent)||o.Fragment;return(0,y.jsx)(h.E.Provider,{value:a,children:(0,y.jsxs)(S,(0,i.Z)({className:(0,u.default)(I.root,C)},w,{children:[(0,y.jsx)(E,{className:I.content,children:(0,y.jsx)(R,(0,i.Z)({},null==m?void 0:m.paperContent,{children:g}))}),(0,y.jsx)(D,(0,i.Z)({onAccept:s,onClear:l,onCancel:d,onSetToday:p,actions:"desktop"===a?[]:["cancel","accept"]},null==m?void 0:m.actionBar))]}))})}var w=n(16787),I=n(68913),D=n(9598);let R=["ToolbarComponent","value","onChange","displayStaticWrapperAs","components","componentsProps","className"],_=o.forwardRef(function(e,t){let n=(0,a.ns)(e,"MuiStaticDatePicker"),{ToolbarComponent:o=s.p,displayStaticWrapperAs:l="mobile",components:c,componentsProps:d,className:u}=n,p=(0,r.Z)(n,R),{pickerProps:h,inputProps:g,wrapperProps:f}=(0,D.u)(n,a.C4),m=null!==(0,I.$)(n),v=(0,i.Z)({},g,p,{ref:t,validationError:m,components:c});return(0,y.jsx)(C,(0,i.Z)({displayStaticWrapperAs:l,components:c,componentsProps:d,className:u},f,{children:(0,y.jsx)(w.z,(0,i.Z)({},h,{toolbarTitle:n.label||n.toolbarTitle,ToolbarComponent:o,DateInputProps:v,components:c,componentsProps:d},p))}))})},23233:function(e,t){"use strict";t.Z={camelize:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,"")},decamelize:function(e){return e.split(/(?=[A-Z])/).join(" ")}}},75708:function(e,t,n){var i,r;"undefined"!=typeof self&&self,r=function(e,t){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n.n(r),a=n(2),s=n.n(a),l="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,c=Object(r.forwardRef)(function(e,t){var n=Object(r.useRef)(),a=Object(r.useRef)();return l(function(){function t(){var t=e.highcharts||s.a,i=e.constructorType||"chart";t?t[i]?e.options?a.current=t[i](n.current,e.options,e.callback?e.callback:void 0):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(a.current){if(!1!==e.allowChartUpdate){if(!e.immutable&&a.current){var i,r;(i=a.current).update.apply(i,[e.options].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(r=e.updateArgs||[!0,!0])||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}()))}else t()}}else t()}),l(function(){return function(){a.current&&(a.current.destroy(),a.current=null)}},[]),Object(r.useImperativeHandle)(t,function(){return{get chart(){return a.current},container:n}},[]),o.a.createElement("div",i({},e.containerProps,{ref:n}))});t.default=Object(r.memo)(c)},function(t,n){t.exports=e},function(e,n){e.exports=t}])},e.exports=r(n(67294),n(78840))},18393:function(e,t,n){"use strict";var i,r,o;o=function(e){function t(e,t,n,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,n))}t(e=e?e._modules:{},"Extensions/FullScreen.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Renderer/HTML/AST.js"],e["Core/Utilities.js"]],function(e,t,n,i){var r=i.addEvent;return i=function(){function e(e){this.chart=e,this.isOpen=!1,e=e.renderTo,this.browserProps||("function"==typeof e.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:e.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:e.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:e.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return e.prototype.close=function(){var e=this.chart,t=e.options.chart;this.isOpen&&this.browserProps&&e.container.ownerDocument instanceof Document&&e.container.ownerDocument[this.browserProps.exitFullscreen](),this.unbindFullscreenEvent&&(this.unbindFullscreenEvent=this.unbindFullscreenEvent()),e.setSize(this.origWidth,this.origHeight,!1),this.origHeight=this.origWidth=void 0,t.width=this.origWidthOption,t.height=this.origHeightOption,this.origHeightOption=this.origWidthOption=void 0,this.isOpen=!1,this.setButtonText()},e.prototype.open=function(){var e=this,t=e.chart,n=t.options.chart;if(n&&(e.origWidthOption=n.width,e.origHeightOption=n.height),e.origWidth=t.chartWidth,e.origHeight=t.chartHeight,e.browserProps){var i=r(t.container.ownerDocument,e.browserProps.fullscreenChange,function(){e.isOpen?(e.isOpen=!1,e.close()):(t.setSize(null,null,!1),e.isOpen=!0,e.setButtonText())}),o=r(t,"destroy",i);e.unbindFullscreenEvent=function(){i(),o()},(n=t.renderTo[e.browserProps.requestFullscreen]())&&n.catch(function(){alert("Full screen is not supported inside a frame.")})}},e.prototype.setButtonText=function(){var e=this.chart,t=e.exportDivElements,i=e.options.exporting,r=i&&i.buttons&&i.buttons.contextButton.menuItems;e=e.options.lang,i&&i.menuItemDefinitions&&e&&e.exitFullscreen&&e.viewFullscreen&&r&&t&&(t=t[r.indexOf("viewFullscreen")])&&n.setElementHTML(t,this.isOpen?e.exitFullscreen:i.menuItemDefinitions.viewFullscreen.text||e.viewFullscreen)},e.prototype.toggle=function(){this.isOpen?this.close():this.open()},e}(),t.Fullscreen=i,r(e,"beforeRender",function(){this.fullscreen=new t.Fullscreen(this)}),t.Fullscreen}),t(e,"Mixins/Navigation.js",[],function(){return{initUpdate:function(e){e.navigation||(e.navigation={updates:[],update:function(e,t){this.updates.forEach(function(n){n.update.call(n.context,e,t)})}})},addUpdate:function(e,t){t.navigation||this.initUpdate(t),t.navigation.updates.push({update:e,context:t})}}}),t(e,"Extensions/Exporting/ExportingDefaults.js",[e["Core/Globals.js"],e["Core/Color/Palette.js"]],function(e,t){return{exporting:{type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24,symbolFill:t.neutralColor60,symbolStroke:t.neutralColor60,symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"1px solid "+t.neutralColor40,background:t.backgroundColor,padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",color:t.neutralColor80,background:"none",fontSize:e.isTouchDevice?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:t.highlightColor80,color:t.backgroundColor}}}}),t(e,"Extensions/Exporting/ExportingSymbols.js",[],function(){var e;return function(e){function t(e,t,n,i){return[["M",e,t+2.5],["L",e+n,t+2.5],["M",e,t+i/2+.5],["L",e+n,t+i/2+.5],["M",e,t+i-1.5],["L",e+n,t+i-1.5]]}function n(e,t,n,i){return e=i/3-2,i=(i=[]).concat(this.circle(n-e,t,e,e),this.circle(n-e,t+e+4,e,e),this.circle(n-e,t+2*(e+4),e,e))}var i=[];e.compose=function(e){-1===i.indexOf(e)&&(i.push(e),(e=e.prototype.symbols).menu=t,e.menuball=n.bind(e))}}(e||(e={})),e}),t(e,"Core/HttpUtilities.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t){var n=e.doc,i=t.createElement,r=t.discardElement,o=t.merge,a=t.objectEach,s={ajax:function(e){var t=o(!0,{url:!1,type:"get",dataType:"json",success:!1,error:!1,data:!1,headers:{}},e);e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"};var n=new XMLHttpRequest;if(!t.url)return!1;n.open(t.type.toUpperCase(),t.url,!0),t.headers["Content-Type"]||n.setRequestHeader("Content-Type",e[t.dataType]||e.text),a(t.headers,function(e,t){n.setRequestHeader(t,e)}),n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status){var e=n.responseText;if("json"===t.dataType)try{e=JSON.parse(e)}catch(i){t.error&&t.error(n,i);return}return t.success&&t.success(e)}t.error&&t.error(n,n.responseText)}};try{t.data=JSON.stringify(t.data)}catch(i){}n.send(t.data||!0)},getJSON:function(e,t){s.ajax({url:e,success:t,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(e,t,s){var l=i("form",o({method:"post",action:e,enctype:"multipart/form-data"},s),{display:"none"},n.body);a(t,function(e,t){i("input",{type:"hidden",name:t,value:e},null,l)}),l.submit(),r(l)}};return s}),t(e,"Extensions/Exporting/Exporting.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Chart/Chart.js"],e["Mixins/Navigation.js"],e["Core/DefaultOptions.js"],e["Extensions/Exporting/ExportingDefaults.js"],e["Extensions/Exporting/ExportingSymbols.js"],e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Core/Color/Palette.js"],e["Core/Utilities.js"]],function(e,t,n,i,r,o,a,s,l,c){i=i.defaultOptions;var d,u=a.doc,p=a.win,h=c.addEvent,g=c.css,f=c.createElement,m=c.discardElement,v=c.extend,y=c.find,x=c.fireEvent,b=c.isObject,S=c.merge,E=c.objectEach,C=c.pick,w=c.removeEvent,I=c.uniqueKey;return function(i){function r(e){var t=this,n=t.renderer,i=S(t.options.navigation.buttonOptions,e),r=i.onclick,o=i.menuItems,a=i.symbolSize||12;if(t.btnCount||(t.btnCount=0),t.exportDivElements||(t.exportDivElements=[],t.exportSVGElements=[]),!1!==i.enabled&&i.theme){var s,c=i.theme,d=c.states,u=d&&d.hover;d=d&&d.select,t.styledMode||(c.fill=C(c.fill,l.backgroundColor),c.stroke=C(c.stroke,"none")),delete c.states,r?s=function(e){e&&e.stopPropagation(),r.call(t,e)}:o&&(s=function(e){e&&e.stopPropagation(),t.contextMenu(p.menuClassName,o,p.translateX,p.translateY,p.width,p.height,p),p.setState(2)}),i.text&&i.symbol?c.paddingLeft=C(c.paddingLeft,30):i.text||v(c,{width:i.width,height:i.height,padding:0}),t.styledMode||(c["stroke-linecap"]="round",c.fill=C(c.fill,l.backgroundColor),c.stroke=C(c.stroke,"none"));var p=n.button(i.text,0,0,s,c,u,d).addClass(e.className).attr({title:C(t.options.lang[i._titleKey||i.titleKey],"")});if(p.menuClassName=e.menuClassName||"highcharts-menu-"+t.btnCount++,i.symbol){var h=n.symbol(i.symbol,i.symbolX-a/2,i.symbolY-a/2,a,a,{width:a,height:a}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(p);t.styledMode||h.attr({stroke:i.symbolStroke,fill:i.symbolFill,"stroke-width":i.symbolStrokeWidth||1})}p.add(t.exportingGroup).align(v(i,{width:p.width,x:C(i.x,t.buttonOffset)}),!0,"spacingBox"),t.buttonOffset+=(p.width+i.buttonSpacing)*("right"===i.align?-1:1),t.exportSVGElements.push(p,h)}}function d(){if(this.printReverseInfo){var e=this.printReverseInfo,t=e.childNodes,n=e.origDisplay;e=e.resetParams,this.moveContainers(this.renderTo),[].forEach.call(t,function(e,t){1===e.nodeType&&(e.style.display=n[t]||"")}),this.isPrinting=!1,e&&this.setSize.apply(this,e),delete this.printReverseInfo,V=void 0,x(this,"afterPrint")}}function D(){var e=u.body,t=this.options.exporting.printMaxWidth,n={childNodes:e.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),x(this,"beforePrint"),t&&this.chartWidth>t&&(n.resetParams=[this.options.chart.width,void 0,!1],this.setSize(t,void 0,!1)),[].forEach.call(n.childNodes,function(e,t){1===e.nodeType&&(n.origDisplay[t]=e.style.display,e.style.display="none")}),this.moveContainers(e),this.printReverseInfo=n}function R(e){e.renderExporting(),h(e,"redraw",e.renderExporting),h(e,"destroy",e.destroyExport)}function _(t,n,i,r,o,a,s){var l=this,d=l.options.navigation,m=l.chartWidth,y=l.chartHeight,S="cache-"+t,E=Math.max(o,a),C=l[S];if(!C){l.exportContextMenu=l[S]=C=f("div",{className:t},{position:"absolute",zIndex:1e3,padding:E+"px",pointerEvents:"auto"},l.fixedDiv||l.container);var w=f("ul",{className:"highcharts-menu"},{listStyle:"none",margin:0,padding:0},C);l.styledMode||g(w,v({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},d.menuStyle)),C.hideMenu=function(){g(C,{display:"none"}),s&&s.setState(0),l.openMenu=!1,g(l.renderTo,{overflow:"hidden"}),g(l.container,{overflow:"hidden"}),c.clearTimeout(C.hideTimer),x(l,"exportMenuHidden")},l.exportEvents.push(h(C,"mouseleave",function(){C.hideTimer=p.setTimeout(C.hideMenu,500)}),h(C,"mouseenter",function(){c.clearTimeout(C.hideTimer)}),h(u,"mouseup",function(e){l.pointer.inClass(e.target,t)||C.hideMenu()}),h(C,"click",function(){l.openMenu&&C.hideMenu()})),n.forEach(function(t){if("string"==typeof t&&(t=l.options.exporting.menuItemDefinitions[t]),b(t,!0)){var n=void 0;t.separator?n=f("hr",void 0,void 0,w):("viewData"===t.textKey&&l.isDataTableVisible&&(t.textKey="hideData"),n=f("li",{className:"highcharts-menu-item",onclick:function(e){e&&e.stopPropagation(),C.hideMenu(),t.onclick&&t.onclick.apply(l,arguments)}},void 0,w),e.setElementHTML(n,t.text||l.options.lang[t.textKey]),l.styledMode||(n.onmouseover=function(){g(this,d.menuItemHoverStyle)},n.onmouseout=function(){g(this,d.menuItemStyle)},g(n,v({cursor:"pointer"},d.menuItemStyle)))),l.exportDivElements.push(n)}}),l.exportDivElements.push(w,C),l.exportMenuWidth=C.offsetWidth,l.exportMenuHeight=C.offsetHeight}n={display:"block"},i+l.exportMenuWidth>m?n.right=m-i-o-E+"px":n.left=i-E+"px",r+a+l.exportMenuHeight>y&&"top"!==s.alignOptions.verticalAlign?n.bottom=y-r-E+"px":n.top=r+a-E+"px",g(C,n),g(l.renderTo,{overflow:""}),g(l.container,{overflow:""}),l.openMenu=!0,x(l,"exportMenuShown")}function T(e){var t,n=e?e.target:this,i=n.exportSVGElements,r=n.exportDivElements;e=n.exportEvents,i&&(i.forEach(function(e,r){e&&(e.onclick=e.ontouchstart=null,n[t="cache-"+e.menuClassName]&&delete n[t],i[r]=e.destroy())}),i.length=0),n.exportingGroup&&(n.exportingGroup.destroy(),delete n.exportingGroup),r&&(r.forEach(function(e,t){e&&(c.clearTimeout(e.hideTimer),w(e,"mouseleave"),r[t]=e.onmouseout=e.onmouseover=e.ontouchstart=e.onclick=null,m(e))}),r.length=0),e&&(e.forEach(function(e){e()}),e.length=0)}function j(e,t){t=this.getSVGForExport(e,t),e=S(this.options.exporting,e),s.post(e.url,{filename:e.filename?e.filename.replace(/\//g,"-"):this.getFilename(),type:e.type,width:e.width||0,scale:e.scale,svg:t},e.formAttributes)}function P(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function q(){var e=this.userOptions.title&&this.userOptions.title.text,t=this.options.exporting.filename;return t?t.replace(/\//g,"-"):("string"==typeof e&&(t=e.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!t||5>t.length)&&(t="chart"),t)}function A(e){var n,i=S(this.options,e);i.plotOptions=S(this.userOptions.plotOptions,e&&e.plotOptions),i.time=S(this.userOptions.time,e&&e.time);var r=f("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},u.body),o=this.renderTo.style.width,a=this.renderTo.style.height;o=i.exporting.sourceWidth||i.chart.width||/px$/.test(o)&&parseInt(o,10)||(i.isGantt?800:600),a=i.exporting.sourceHeight||i.chart.height||/px$/.test(a)&&parseInt(a,10)||400,v(i.chart,{animation:!1,renderTo:r,forExport:!0,renderer:"SVGRenderer",width:o,height:a}),i.exporting.enabled=!1,delete i.data,i.series=[],this.series.forEach(function(e){(n=S(e.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:e.visible})).isInternal||i.series.push(n)});var s={};this.axes.forEach(function(e){e.userOptions.internalKey||(e.userOptions.internalKey=I()),e.options.isInternal||(s[e.coll]||(s[e.coll]=!0,i[e.coll]=[]),i[e.coll].push(S(e.userOptions,{visible:e.visible})))});var l=new t(i,this.callback);return e&&["xAxis","yAxis","series"].forEach(function(t){var n={};e[t]&&(n[t]=e[t],l.update(n))}),this.axes.forEach(function(e){var t=y(l.axes,function(t){return t.options.internalKey===e.userOptions.internalKey}),n=e.getExtremes(),i=n.userMin;n=n.userMax,t&&(void 0!==i&&i!==t.min||void 0!==n&&n!==t.max)&&t.setExtremes(i,n,!0,!1)}),a=l.getChartHTML(),x(this,"getSVG",{chartCopy:l}),a=this.sanitizeSVG(a,i),i=null,l.destroy(),m(r),a}function M(e,t){var n=this.options.exporting;return this.getSVG(S({chart:{borderRadius:0}},n.chartOptions,t,{exporting:{sourceWidth:e&&e.sourceWidth||n.sourceWidth,sourceHeight:e&&e.sourceHeight||n.sourceHeight}}))}function k(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function Z(){var e,t=i.inlineWhitelist,n={},r=u.createElement("iframe");g(r,{width:"1px",height:"1px",visibility:"hidden"}),u.body.appendChild(r);var o=r.contentWindow.document;o.open(),o.write('<svg xmlns="http://www.w3.org/2000/svg"></svg>'),o.close(),function i(r){function s(e,i){if(l=c=!1,t.length){for(d=t.length;d--&&!c;)c=t[d].test(i);l=!c}for("transform"===i&&"none"===e&&(l=!0),d=O.length;d--&&!l;)l=O[d].test(i)||"function"==typeof e;l||g[i]===e&&"svg"!==r.nodeName||n[r.nodeName][i]===e||(W&&-1===W.indexOf(i)?u+=k(i)+":"+e+";":e&&r.setAttribute(k(i),e))}var l,c,d,u="";if(1===r.nodeType&&-1===G.indexOf(r.nodeName)){var h=p.getComputedStyle(r,null),g="svg"===r.nodeName?{}:p.getComputedStyle(r.parentNode,null);if(!n[r.nodeName]){e=o.getElementsByTagName("svg")[0];var f=o.createElementNS(r.namespaceURI,r.nodeName);e.appendChild(f),n[r.nodeName]=S(p.getComputedStyle(f,null)),"text"===r.nodeName&&delete n.text.fill,e.removeChild(f)}if(a.isFirefox||a.isMS)for(var m in h)s(h[m],m);else E(h,s);u&&(h=r.getAttribute("style"),r.setAttribute("style",(h?h+";":"")+u)),"svg"===r.nodeName&&r.setAttribute("stroke-width","1px"),"text"!==r.nodeName&&[].forEach.call(r.children||r.childNodes,i)}}(this.container.querySelector("svg")),e.parentNode.removeChild(e),r.parentNode.removeChild(r)}function N(e){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(t){e.appendChild(t)})}function $(){var e=this;e.exporting={update:function(t,n){e.isDirtyExporting=!0,S(!0,e.options.exporting,t),C(n,!0)&&e.redraw()}},n.addUpdate(function(t,n){e.isDirtyExporting=!0,S(!0,e.options.navigation,t),C(n,!0)&&e.redraw()},e)}function z(){var e=this;e.isPrinting||(V=e,a.isSafari||e.beforePrint(),setTimeout(function(){p.focus(),p.print(),a.isSafari||setTimeout(function(){e.afterPrint()},1e3)},1))}function H(){var e=this,t=e.options.exporting,n=t.buttons,i=e.isDirtyExporting||!e.exportSVGElements;e.buttonOffset=0,e.isDirtyExporting&&e.destroyExport(),i&&!1!==t.enabled&&(e.exportEvents=[],e.exportingGroup=e.exportingGroup||e.renderer.g("exporting-group").attr({zIndex:3}).add(),E(n,function(t){e.addButton(t)}),e.isDirtyExporting=!1)}function F(e,t){var n=e.indexOf("</svg>")+6,i=e.substr(n);return e=e.substr(0,n),t&&t.exporting&&t.exporting.allowHTML&&i&&(i='<foreignObject x="0" y="0" width="'+t.chart.width+'" height="'+t.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+i.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",e=e.replace("</svg>",i+"</svg>")),e=e.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\xa0").replace(/&shy;/g,"\xad"),this.ieSanitizeSVG&&(e=this.ieSanitizeSVG(e)),e}var L=[],O=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/],W="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");i.inlineWhitelist=[];var V,G=["clipPath","defs","desc"];i.compose=function(e,t){o.compose(t),-1===L.indexOf(e)&&(L.push(e),(t=e.prototype).afterPrint=d,t.exportChart=j,t.inlineStyles=Z,t.print=z,t.sanitizeSVG=F,t.getChartHTML=P,t.getSVG=A,t.getSVGForExport=M,t.getFilename=q,t.moveContainers=N,t.beforePrint=D,t.contextMenu=_,t.addButton=r,t.destroyExport=T,t.renderExporting=H,t.callbacks.push(R),h(e,"init",$),a.isSafari&&a.win.matchMedia("print").addListener(function(e){V&&(e.matches?V.beforePrint():V.afterPrint())}))}}(d||(d={})),i.exporting=S(r.exporting,i.exporting),i.lang=S(r.lang,i.lang),i.navigation=S(r.navigation,i.navigation),d}),t(e,"masters/modules/exporting.src.js",[e["Core/Globals.js"],e["Extensions/Exporting/Exporting.js"],e["Core/HttpUtilities.js"]],function(e,t,n){e.HttpUtilities=n,e.ajax=n.ajax,e.getJSON=n.getJSON,e.post=n.post,t.compose(e.Chart,e.Renderer)})},e.exports?(o.default=o,e.exports=o):void 0!==(r=(function(e){return o(e),o.Highcharts=e,o}).apply(t,[n(78840)]))&&(e.exports=r)},44174:function(e){e.exports=function(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}},81119:function(e,t,n){var i=n(89881);e.exports=function(e,t,n,r){return i(e,function(e,i,o){t(r,e,n(e),o)}),r}},89881:function(e,t,n){var i=n(47816),r=n(99291)(i);e.exports=r},55189:function(e,t,n){var i=n(44174),r=n(81119),o=n(67206),a=n(1469);e.exports=function(e,t){return function(n,s){var l=a(n)?i:r,c=t?t():{};return l(n,e,o(s,2),c)}}},99291:function(e,t,n){var i=n(98612);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==r(s[a],a,s););return n}}},7739:function(e,t,n){var i=n(89465),r=n(55189),o=Object.prototype.hasOwnProperty,a=r(function(e,t,n){o.call(e,n)?e[n].push(t):i(e,n,[t])});e.exports=a},52977:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/suppliers/view",function(){return n(99393)}])},93829:function(e,t,n){"use strict";n.d(t,{m:function(){return m}});var i=n(85893),r=n(67294),o=n(6388),a=n(7297),s=n(75063);function l(){var e=(0,a.Z)(["\n  query GetJobsByMonth(\n    $adminId: Int\n    $customerId: Int\n    $endTime: timestamptz\n    $isFixed: Int\n    $isPlanned: Int\n    $locationId: Int\n    $managerId: Int\n    $postCodeAreaId: Int\n    $serviceId: Int\n    $slaId: Int\n    $startTime: timestamptz\n    $supplierId: Int\n  ) {\n    meta: getDashboard_Count_By_Month_aggregate(\n      args: {\n        adminId: $adminId\n        customerId: $customerId\n        endTime: $endTime\n        isFixed: $isFixed\n        isPlanned: $isPlanned\n        locationId: $locationId\n        managerId: $managerId\n        postCodeAreaId: $postCodeAreaId\n        serviceId: $serviceId\n        slaId: $slaId\n        startTime: $startTime\n        supplierId: $supplierId\n      }\n    ) {\n      aggregate {\n        sum {\n          count: count\n        }\n      }\n    }\n    jobsByMonth: getDashboard_Count_By_Month(\n      args: {\n        adminId: $adminId\n        customerId: $customerId\n        endTime: $endTime\n        isFixed: $isFixed\n        isPlanned: $isPlanned\n        locationId: $locationId\n        managerId: $managerId\n        postCodeAreaId: $postCodeAreaId\n        serviceId: $serviceId\n        slaId: $slaId\n        startTime: $startTime\n        supplierId: $supplierId\n      }\n      order_by: { strval_extra: asc }\n    ) {\n      count: count\n      month: strval_extra\n    }\n  }\n"]);return l=function(){return e},e}var c=(0,s.Ps)(l()),d=n(78840),u=n.n(d),p=n(75708),h=n.n(p),g=n(55572),f=n(74975),m=(0,r.forwardRef)(function(e,t){var r,a,s,l,d=e.filters,p=e.removeChart,m=(0,o.aM)(c,{variables:{adminId:d.adminId,customerId:d.customerId,endTime:d.endDate,isFixed:d.isFixed,isPlanned:d.isPlanned,locationId:d.locationId,managerId:d.managerId,postCodeAreaId:d.postCodeAreaId,serviceId:d.serviceId,slaId:d.slaId,startTime:d.startDate,supplierId:d.supplierId}}).data,v=void 0===m?{meta:{},jobsByMonth:[]}:m,y=v.meta,x=v.jobsByMonth,b=function(e){e.reflow()};return n(18393)(u()),(0,i.jsx)(g.J,{name:"JobsByMonth",removeChart:p,title:"Total bookings by Month (".concat(null===(r=y.aggregate)||void 0===r?void 0:r.sum.count,")"),children:(0,i.jsx)(h(),{callback:b,constructorType:"chart",Highcharts:u(),options:{chart:{type:"column"},title:{text:null},xAxis:{type:"category",title:null},yAxis:{min:0,title:{text:"Counts"}},tooltip:{headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:"{point.name}</span>: <b>{point.y}</b> "},series:[{name:"Month",data:(s=x,l=[],s.forEach(function(e){try{l.push({name:(0,f.Z)(new Date(e.month),"LLL yyyy"),y:e.count})}catch(t){}}),l),showInLegend:!1}]},ref:t})})})},50956:function(e,t,n){"use strict";n.d(t,{e:function(){return f}});var i=n(85893),r=n(67294),o=n(6388),a=n(7297),s=n(75063);function l(){var e=(0,a.Z)(["\n  query GetJobsByStatus(\n    $adminId: Int\n    $customerId: Int\n    $endTime: timestamptz\n    $isFixed: Int\n    $isPlanned: Int\n    $locationId: Int\n    $managerId: Int\n    $postCodeAreaId: Int\n    $serviceId: Int\n    $slaId: Int\n    $startTime: timestamptz\n    $supplierId: Int\n  ) {\n    jobsByStatus: getDashboard_Count_By_Status(\n      args: {\n        adminId: $adminId\n        customerId: $customerId\n        endTime: $endTime\n        isFixed: $isFixed\n        isPlanned: $isPlanned\n        locationId: $locationId\n        managerId: $managerId\n        postCodeAreaId: $postCodeAreaId\n        serviceId: $serviceId\n        slaId: $slaId\n        startTime: $startTime\n        supplierId: $supplierId\n      }\n      order_by: {}\n    ) {\n      statusname: name\n      count: count\n    }\n    meta: getDashboard_Count_By_Status_aggregate(\n      args: {\n        adminId: $adminId\n        customerId: $customerId\n        endTime: $endTime\n        isFixed: $isFixed\n        isPlanned: $isPlanned\n        locationId: $locationId\n        managerId: $managerId\n        postCodeAreaId: $postCodeAreaId\n        serviceId: $serviceId\n        slaId: $slaId\n        startTime: $startTime\n        supplierId: $supplierId\n      }\n      order_by: { count: desc }\n    ) {\n      aggregate {\n        sum {\n          count: count\n        }\n      }\n    }\n  }\n"]);return l=function(){return e},e}var c=(0,s.Ps)(l()),d=n(78840),u=n.n(d),p=n(75708),h=n.n(p),g=n(55572),f=(0,r.forwardRef)(function(e,t){var r,a,s=e.filters,l=e.removeChart,d=(0,o.aM)(c,{variables:{adminId:s.adminId,customerId:s.customerId,endTime:s.endDate,isFixed:s.isFixed,isPlanned:s.isPlanned,locationId:s.locationId,managerId:s.managerId,postCodeAreaId:s.postCodeAreaId,serviceId:s.serviceId,slaId:s.slaId,startTime:s.startDate,supplierId:s.supplierId}}).data,p=void 0===d?{meta:{},jobsByStatus:[]}:d,f=p.meta,m=p.jobsByStatus,v=function(e){e.reflow()};return n(18393)(u()),m&&(0,i.jsx)(g.J,{name:"JobsByStatusPieChart",removeChart:l,title:"Total bookings by Status (".concat(null===(r=f.aggregate)||void 0===r?void 0:r.sum.count,")"),children:(0,i.jsx)(h(),{callback:v,constructorType:"chart",Highcharts:u(),options:{chart:{type:"pie"},title:{text:null},tooltip:{formatter:function(){return"<b>"+this.x+"</b><br/>"+this.series.name+": "+this.y}},series:[{data:m.map(function(e){return{name:e.statusname,y:e.count}}),showInLegend:!1}],xAxis:{type:"category",title:null},yAxis:{title:null}},ref:t})})})},55572:function(e,t,n){"use strict";n.d(t,{J:function(){return d}});var i=n(7297),r=n(85893),o=n(40826),a=n(55377),s=n(11585),l=n(10367);function c(){var e=(0,i.Z)(["\n  height: 100%;\n  overflow-x: ",";\n"]);return c=function(){return e},e}var d=function(e){var t=e.title,n=e.children,i=e.isTable,l=e.name,c=e.removeChart,d=function(e){e.stopPropagation(),c(e,l)},p=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{context:"danger",icon:"trash",prefix:"fa",size:"sm",title:"Delete",onClick:d}),(0,r.jsx)(a.Z,{context:"darkGrey",vertical:!0}),(0,r.jsx)(o.Z,{className:"dragHandle",icon:"arrows-alt",prefix:"fa",size:"md",title:"Move",onClick:function(e){return e.stopPropagation()}})]});return(0,r.jsx)(s.Z,{context:"secondary",fitParentHeight:!0,open:!0,title:t,toolbar:p,loading:!0,children:(0,r.jsx)(u,{overflow:i,children:n})})},u=l.ZP.div.withConfig({displayName:"wrapper__StyledChildren",componentId:"sc-2820ff2f-0"})(c(),function(e){return e.overflow?"hidden":"unset"})},8059:function(e,t,n){"use strict";n.d(t,{M:function(){return H}});var i=n(828),r=n(85893),o=n(67294),a=n(45697),s=n(11163),l=n(6388),c=n(50319),d=n(12872),u=n(11640),p=n(78289),h=n(68956),g=n(77439),f=n(11585),m=n(8500),v=n(30430),y=n(35418),x=n(26042),b=n(69396),S=n(42283),E=n(79665),C=n(7739),w=n.n(C),I=n(76600),D=n(49501),R=n(84043),_=n(55563),T=n(28497),j=n(74231),P=(0,j.Ry)().shape({complianceId:(0,j.Ry)().required(),expiryAt:(0,j.hT)().required(),insuranceAmount:(0,j.Rx)().transform(function(e){return isNaN(e)?null:e}).nullable(),regNum:(0,j.Z_)().required()}),q=n(21300),A=n(14272),M=n(2845),k=function(e){e.complianceType;var t,n,i=e.defaultValues,a=e.onSubmit,s=(0,M.x)().user,c=(0,S.cI)({defaultValues:(0,x.Z)({},i,(null==i?void 0:i.meta)||{}),resolver:(0,E.S)(P)}),u=c.control,p=c.errors,h=c.handleSubmit,g=c.register,f=(0,c.watch)("complianceId",{hasInsuranceAmount:null==i?void 0:i.hasInsuranceAmount,regNumExample:null==i?void 0:i.regNumExample,questions:null==i?void 0:i.questions}),m=f&&f.questions,v=(0,l.aM)(d.kU,{variables:{adminId:s.adminId}}),y=v.loading,C=v.data,j=(void 0===C?{compliance:[]}:C).compliances,k={control:u,errors:p,register:g};return!y&&(0,r.jsxs)(I.Z,{id:"offCanvasForm",handleSubmit:h(a),children:[(0,r.jsx)(D.Z,{label:"Compliance",children:(0,r.jsx)(R.Z,(0,b.Z)((0,x.Z)({},k),{name:"complianceId",options:(t=w()(j,function(e){return e.category.name}),n=[],Object.keys(t).forEach(function(e){n.push({label:e,options:t[e]})}),n)}))}),(0,r.jsx)(D.Z,{label:"Registration Number",children:(0,r.jsx)(_.Z,(0,b.Z)((0,x.Z)({},k),{name:"regNum",placeholder:f.regNumExample&&"eg ".concat(f.regNumExample)}))}),(0,r.jsx)(D.Z,{label:"Expiry"}),(0,r.jsx)(q.M,(0,b.Z)((0,x.Z)({},k),{name:"expiryAt",placeholderText:"Click to select date"})),f.hasInsuranceAmount&&(0,r.jsx)(D.Z,{label:"Insurance Amount",children:(0,r.jsx)(T.Z,(0,b.Z)((0,x.Z)({},k),{name:"insuranceAmount"}))}),null==m?void 0:m.map(function(e){var t,n,i,r;return(0,o.createElement)(A.f,(0,b.Z)((0,x.Z)({},k),{input:null===(t=e.meta)||void 0===t?void 0:t.input,inputType:null===(n=e.meta)||void 0===n?void 0:n.inputType,key:e.id,label:null===(i=e.meta)||void 0===i?void 0:i.label,name:e.name,options:null===(r=e.meta)||void 0===r?void 0:r.options}))}),(null==i?void 0:i.id)&&(0,r.jsx)(_.Z,(0,b.Z)((0,x.Z)({},k),{name:"id",type:"hidden"}))]})};k.propTypes={complianceType:a.string,defaultValues:a.object,onSubmit:a.func.isRequired};var Z=function(e){var t=e.entity,n=e.entityId,i=e.form,r={complianceId:i.complianceId.value,entityId:n,entity:t,expiryAt:i.expiryAt,insuranceAmount:i.insuranceAmount,regNum:i.regNum};return delete i.complianceId,delete i.expiryAt,delete i.insuranceAmount,delete i.regNum,r.meta=i,r},N=n(36769),$=new Date,z=(0,u.Z)($,1),H=function(e){var t,n,a=e.entity,u=e.entityId,x=(0,s.useRouter)().query,b=(0,o.useContext)(p.Z),S=(0,M.x)().hasRole,E=S("supplier"),C=S("tenant"),w=S("customer"),I=(0,l.aM)(d.Au,{variables:{entity:a,entityId:u}}),D=I.loading,R=I.data,_=(void 0===R?{job:null}:R).compliances,T=I.refetch,j=(0,i.Z)((0,c.D)(d.FD,{onCompleted:function(e){b.close(),T()}}),1)[0],P=(0,i.Z)((0,c.D)(d.YW,{onCompleted:function(e){b.close(),T()}}),1)[0],q=(0,i.Z)((0,c.D)(d.tC,{onCompleted:function(e){T()}}),1)[0],A=function(e){var t=Z({entity:a,entityId:u,form:e});e.id?P({variables:{id:e.id,changes:t}}):j({variables:{objects:t}})},H=function(e){var t=e.row;b.show({content:(0,r.jsx)(y.G,{entity:"Compliance_Entity",entityId:null==t?void 0:t.id}),submit:!1,title:"Media"})},F=function(e){var t=e.e,n=e.row;t.stopPropagation(),b.show({content:(0,r.jsx)(k,{complianceType:"Account"===a?null:"regulatory",defaultValues:n,onSubmit:A}),title:"Compliance"})},L=function(e){q({variables:{id:e.row.id}})},O=[{hidden:!0},{hidden:!0},{text:"Name"},{text:"Registration number"},{formatter:v.FT,text:"Expiry date"},{hidden:!0},{hidden:!0},{hidden:!0},{hidden:!0},{hidden:!0},{hidden:!!E,formatter:h.Z,formatterData:[{context:"secondary",icon:["fas","edit"],onClick:(t={editClick:function(e,t){return F({e:e,row:t})},mediaClick:function(e,t){return H({row:t})},deleteClick:function(e,t){return L({row:t})}}).editClick,tooltip:"Edit"},{context:"info",icon:["fas","file-upload"],onClick:t.mediaClick,tooltip:"Media"},{context:"danger",icon:["fas","trash"],onClick:t.deleteClick,tooltip:"Delete"}],text:"Actions"}],W=(0,r.jsx)(g.Z,{content:"Add Compliance",context:"secondary",onClick:function(e){return F({e:e})},size:"sm"});return!D&&(0,r.jsxs)(f.Z,{open:!0,title:"Compliances",toolbar:!E&&!C&&!w&&W,children:["Location"===a&&(0,r.jsx)(N.p,{locationId:u,hideFinance:C}),(0,r.jsx)(m.Z,{columns:O,rows:(n=_,x.overdue&&(n=_.filter(function(e){return new Date(e.expiryAt)<$})),x.upcoming&&(n=_.filter(function(e){return new Date(e.expiryAt)>$&&new Date(e.expiryAt)<z})),null==n?void 0:n.map(function(e){return{id:e.id,complianceId:{label:e.compliance.name,value:e.compliance.id,hasInsuranceAmount:e.compliance.hasInsuranceAmount,insuranceAmount:e.insuranceAmount,questions:e.compliance.questions,regNumExample:e.compliance.regNumExample},name:e.compliance.name,regNum:e.regNum,expiry:e.expiryAt,expiryAt:e.expiryAt?new Date(e.expiryAt):"",insuranceAmount:e.insuranceAmount,hasInsuranceAmount:e.compliance.hasInsuranceAmount,regNumExample:e.compliance.regNumExample,meta:e.meta,actions:""}}))})]})};H.propTypes={entity:a.string,entityId:a.number.isRequired}},64973:function(e,t,n){"use strict";n.d(t,{NG:function(){return p},NK:function(){return u},OW:function(){return h},sM:function(){return d}});var i=n(7297),r=n(75063);function o(){var e=(0,i.Z)(["\n  query GetPostcodeAreas(\n    $countryId: Int\n    $limit: Int\n    $offset: Int\n    $q: String\n    $orderBy: PostcodeArea_order_by!\n  ) {\n    postcodeAreas: PostcodeArea(\n      limit: $limit\n      offset: $offset\n      where: { countryId: { _eq: $countryId }, name: { _ilike: $q } }\n      order_by: [$orderBy]\n    ) {\n      id\n      area\n      name\n      status\n      country: Country {\n        id\n        name\n        code\n      }\n    }\n    meta: PostcodeArea_aggregate(where: { countryId: { _eq: $countryId }, name: { _ilike: $q } }) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n"]);return o=function(){return e},e}function a(){var e=(0,i.Z)(["\n  query GetPostcodeArea($id: Int!) {\n    postcodeArea: PostcodeArea_by_pk(id: $id) {\n      id\n      area\n      name\n      status\n      country: Country {\n        id\n        name\n        code\n      }\n    }\n  }\n"]);return a=function(){return e},e}function s(){var e=(0,i.Z)(["\n  mutation AddPostcodeArea($areas: [PostcodeArea_insert_input!]!) {\n    insert_PostcodeArea(objects: $areas) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return s=function(){return e},e}function l(){var e=(0,i.Z)(["\n  mutation InsertPostCodeArea($objects: [PostcodeArea_Entity_insert_input!]!) {\n    insert_PostcodeArea_Entity(\n      objects: $objects\n      on_conflict: {\n        constraint: PostcodeArea_Entity_postcodeAreaId_entityId_entity_key\n        update_columns: status\n      }\n    ) {\n      returning {\n        id\n        status\n      }\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=(0,i.Z)(["\n  mutation UpdateEntityAssign($id: Int!, $changes: PostcodeArea_Entity_set_input) {\n    update_PostcodeArea_Entity_by_pk(pk_columns: { id: $id }, _set: $changes) {\n      id\n      status\n    }\n  }\n"]);return c=function(){return e},e}var d=(0,r.Ps)(o()),u=(0,r.Ps)(a());(0,r.Ps)(s());var p=(0,r.Ps)(l()),h=(0,r.Ps)(c())},36343:function(e,t,n){"use strict";n.r(t);var i=n(85893),r=n(88462),o=function(e){var t=e.defaultFilters,n=e.supplierId;return(0,i.jsx)(r.e,{defaultFilters:t,supplierId:n,hideCreateWorkOrder:!0})};t.default=o},46929:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(85893),r=n(45697),o=n(95103),a=function(e){var t=e.errors,n=e.name,r=e.onChange,a=e.options,s=e.register;return(0,i.jsx)(o.Z,{errors:t,name:n,onChange:r,options:a,register:s})};a.propTypes={errors:r.object.isRequired,name:r.string,onChange:r.func,options:r.array.isRequired,register:r.func.isRequired},a.defaultProps={name:"status"}},14067:function(e,t,n){"use strict";n.d(t,{D7:function(){return b},KQ:function(){return x},R7:function(){return y},j$:function(){return E},kx:function(){return C},l1:function(){return v},lk:function(){return S},ys:function(){return m}});var i=n(7297),r=n(75063);function o(){var e=(0,i.Z)(['\n  query GetSuppliers(\n    $limit: Int\n    $offset: Int\n    $orderBy: Account_order_by!\n    $where: Account_bool_exp\n  ) {\n    suppliers: Account(limit: $limit, offset: $offset, where: $where, order_by: [$orderBy]) {\n      id\n      createdAt\n      name\n      status\n      companyNumber\n      vatId\n      website\n      jobs: SupplierJobs_aggregate {\n        aggregate {\n          count\n          max {\n            scheduledAt\n          }\n          sum {\n            amount\n          }\n        }\n      }\n      jobList: SupplierJobs(order_by: { createdAt: desc }) {\n        id\n      }\n      services: Services(where: { entity: { _eq: "Account" } }) {\n        id\n        service: Service {\n          id\n          name\n        }\n      }\n      addresses: Addresses(where: { entity: { _eq: "Account" } }) {\n        id\n        registered\n        operating\n        trading\n        invoice\n        status\n        createdAt\n        address: Address {\n          id\n          name\n          addressLine1\n          addressLine2\n          addressLine3\n          city\n          county\n          geo\n          postCode\n          country: Country {\n            id\n            name\n          }\n        }\n      }\n      locations: Account_Locations {\n        id\n      }\n      manager: Manager {\n        id\n        nameFirst\n        nameLast\n      }\n      contactUsers: Account_Users(where: { isContact: { _eq: true } }) {\n        id\n        role\n        position\n        isContact\n        lastSignInAt\n        userId\n        user: User {\n          id\n          name: nameFirst\n          nameFirst\n          nameLast\n          phone\n          status\n          email\n          createdAt\n          fullName\n          accounts: Account_Users {\n            id\n            role\n            position\n            isContact\n            status\n            account: Account {\n              id\n              name\n              type\n            }\n          }\n        }\n      }\n    }\n    meta: Account_aggregate(where: $where) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']);return o=function(){return e},e}function a(){var e=(0,i.Z)(['\n  query GetSupplier($id: Int!) {\n    supplier: Account_by_pk(id: $id) {\n      id\n      companyNumber\n      createdAt\n      name\n      status\n      type\n      updatedAt\n      website\n      clientType\n      managerId\n      vatId\n      meta\n      statusLogs: StatusLog(where: { entity: { _eq: "Account" } }) {\n        id\n        status\n        createdAt\n      }\n      media: Media {\n        id\n        medium: Medium {\n          id\n          category\n          filename\n          meta\n          type\n        }\n      }\n      manager: Manager {\n        id\n        fullName\n      }\n      addresses: Addresses(where: { entity: { _eq: "Account" } }) {\n        id\n        registered\n        operating\n        trading\n        invoice\n        status\n        createdAt\n        address: Address {\n          id\n          name\n          addressLine1\n          addressLine2\n          addressLine3\n          city\n          county\n          geo\n          postCode\n          country: Country {\n            id\n            name\n          }\n        }\n      }\n\n      details: SupplierDetail {\n        cisRegistered\n        quotingEmail\n        typeOfOrganisation\n        utrNumber\n        accountId\n      }\n\n      contactUsers: Account_Users(where: { isContact: { _eq: true } }) {\n        role\n        position\n        isContact\n        lastSignInAt\n        userId\n        user: User {\n          id\n          name: nameFirst\n          nameFirst\n          nameLast\n          phone\n          status\n          email\n          createdAt\n          fullName\n        }\n      }\n      usersMeta: Account_Users_aggregate {\n        aggregate {\n          count\n        }\n      }\n\n      compliances: Compliances(where: { entity: { _eq: "Account" } }, order_by: { expiryAt: asc }) {\n        id\n        createdAt\n        entity\n        entityId\n        expiryAt\n        regNum\n        insuranceAmount\n        meta\n      }\n      coverage: PostcodeAreas(where: { entity: { _eq: "Account" }, status: { _eq: "active" } }) {\n        id\n        status\n        createdAt\n        area: PostcodeArea {\n          id\n          name\n          area\n        }\n      }\n      services: Services {\n        serviceId\n        createdAt\n      }\n      references: References {\n        id\n        createdAt\n      }\n    }\n  }\n']);return a=function(){return e},e}function s(){var e=(0,i.Z)(["\n  query GetSupplierManage($id: Int!) {\n    supplier: Account_by_pk(id: $id) {\n      id\n      name\n      website\n      companyNumber\n      vatId\n      status\n      meta\n      managerSelected: Manager {\n        id\n        label: fullName\n        value: id\n      }\n      supplierDetails: SupplierDetail {\n        id\n        cisRegistered\n        quotingEmail\n        typeOfOrganisation\n        utrNumber\n      }\n    }\n  }\n"]);return s=function(){return e},e}function l(){var e=(0,i.Z)(["\n  mutation AddSupplier($objects: [Account_insert_input!]!) {\n    insert_Account(objects: $objects) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=(0,i.Z)(["\n  mutation AddSupplierDetail($objects: [SupplierDetail_insert_input!]!) {\n    insert_SupplierDetail(objects: $objects) {\n      returning {\n        id\n        accountId\n      }\n    }\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,i.Z)(["\n  mutation AddSupplierOffer($objects: [SupplierOffer_insert_input!]!) {\n    insert_SupplierOffer(objects: $objects) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return d=function(){return e},e}function u(){var e=(0,i.Z)(["\n  mutation UpdateSupplier(\n    $supplierId: Int!\n    $supplier: Account_set_input\n    $supplierDetails: SupplierDetail_set_input\n  ) {\n    update_SupplierDetail(where: { accountId: { _eq: $supplierId } }, _set: $supplierDetails) {\n      returning {\n        id\n      }\n    }\n\n    update_Account_by_pk(pk_columns: { id: $supplierId }, _set: $supplier) {\n      id\n    }\n  }\n"]);return u=function(){return e},e}function p(){var e=(0,i.Z)(['\n  query GetPostCodeAreas(\n    $limit: Int\n    $offset: Int\n    $q: String\n    $supplierId: Int\n    $status: String = "active"\n  ) {\n    coverage: PostcodeArea_Entity(\n      where: {\n        entity: { _eq: "Account" }\n        entityId: { _eq: $supplierId }\n        status: { _eq: $status }\n        PostcodeArea: { name: { _ilike: $q } }\n      }\n      order_by: { PostcodeArea: { name: asc } }\n      limit: $limit\n      offset: $offset\n    ) {\n      id\n      status\n      createdAt\n      area: PostcodeArea {\n        id\n        name\n        area\n      }\n    }\n    meta: PostcodeArea_Entity_aggregate(\n      where: {\n        entity: { _eq: "Account" }\n        entityId: { _eq: $supplierId }\n        status: { _eq: $status }\n        PostcodeArea: { name: { _ilike: $q } }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']);return p=function(){return e},e}function h(){var e=(0,i.Z)(["\n  query GetPostCodeAreaForSelect($countryId: Int, $q: String) {\n    items: PostcodeArea(\n      where: { name: { _ilike: $q }, countryId: { _eq: $countryId } }\n      order_by: { name: asc }\n    ) {\n      area\n      label: name\n      value: id\n    }\n  }\n"]);return h=function(){return e},e}function g(){var e=(0,i.Z)(['\n  query GetServicesForSelect($q: String, $limit: Int, $offset: Int) {\n    items: Service(\n      where: { name: { _ilike: $q }, status: { _eq: "active" } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n']);return g=function(){return e},e}function f(){var e=(0,i.Z)(['\n  query GetFinancialJob(\n    $adminId: Int\n    $customerId: Int\n    $endDate: timestamptz\n    $startDate: timestamptz\n    $limit: Int\n    $status: [String]\n    $managerId: Int\n    $locationId: Int\n    $offset: Int\n    $supplierId: Int\n    $q: String\n    $orderBy: Job_order_by!\n  ) {\n    jobs: Job(\n      limit: $limit\n      offset: $offset\n      where: {\n        type: { _in: ["reactive", "ppm"] }\n        _and: [\n          {\n            _or: [\n              { reference: { _ilike: $q } }\n              { title: { _ilike: $q } }\n              { number: { _ilike: $q } }\n              { number: { _ilike: $q } }\n              { Invoices: { invoiceNumber: { _ilike: $q } } }\n            ]\n          }\n          {\n            _or: [\n              { _and: [{ timingStart: { _gte: $startDate } }, { timingStart: { _lte: $endDate } }] }\n              { _and: [{ scheduledAt: { _gte: $startDate } }, { scheduledAt: { _lte: $endDate } }] }\n            ]\n          }\n        ]\n        status: { _in: $status }\n        customerId: { _eq: $customerId }\n        supplierId: { _eq: $supplierId }\n        managerId: { _eq: $managerId }\n        adminId: { _eq: $adminId }\n        locationId: { _eq: $locationId }\n      }\n      order_by: [$orderBy]\n    ) {\n      id\n      type\n      number\n      status\n      description\n      reference\n      timingStart\n      scheduledAt\n      createdAt\n\n      customerTotal: customerFinances(path: "amountInfo.total")\n      supplierTotal: supplierFinances(path: "amountInfo.total")\n      customerVatTotal: customerFinances(path: "amountInfo.vatTotal")\n      supplierVatTotal: supplierFinances(path: "amountInfo.vatTotal")\n      customerExpensesTotal: customerFinances(path: "expensesInfo.expensesTotal")\n      supplierExpensesTotal: supplierFinances(path: "expensesInfo.expensesTotal")\n      customerRebateAmount: customerFinances(path: "rebate.amount")\n\n      slaId\n      invoices: Invoices(order_by: { createdAt: desc }) {\n        invoiceNumber\n      }\n      customer: Customer {\n        id\n        name\n      }\n      supplier: Supplier {\n        id\n        name\n      }\n      location: Location {\n        id\n        name\n      }\n      sublocation: Sublocation {\n        id\n        name\n      }\n      sla: SLA {\n        name\n      }\n      manager: Manager {\n        fullName\n        nameLast\n        nameFirst\n        id\n      }\n      service: Service {\n        id\n        name\n      }\n    }\n    meta: Job_aggregate(\n      where: {\n        type: { _in: ["reactive", "ppm"] }\n        _and: [\n          {\n            _or: [\n              { reference: { _ilike: $q } }\n              { title: { _ilike: $q } }\n              { number: { _ilike: $q } }\n              { number: { _ilike: $q } }\n              { Invoices: { invoiceNumber: { _ilike: $q } } }\n            ]\n          }\n          {\n            _or: [\n              { _and: [{ timingStart: { _gte: $startDate } }, { timingStart: { _lte: $endDate } }] }\n              { _and: [{ scheduledAt: { _gte: $startDate } }, { scheduledAt: { _lte: $endDate } }] }\n            ]\n          }\n        ]\n        status: { _in: $status }\n        customerId: { _eq: $customerId }\n        supplierId: { _eq: $supplierId }\n        managerId: { _eq: $managerId }\n        adminId: { _eq: $adminId }\n        locationId: { _eq: $locationId }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']);return f=function(){return e},e}var m=(0,r.Ps)(o()),v=(0,r.Ps)(a()),y=(0,r.Ps)(s()),x=(0,r.Ps)(l());(0,r.Ps)(c()),(0,r.Ps)(d());var b=(0,r.Ps)(u()),S=(0,r.Ps)(p()),E=(0,r.Ps)(h()),C=(0,r.Ps)(g());(0,r.Ps)(f())},45795:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var i=n(85893),r=n(45697),o=n(11585),a=n(86036),s=n(32339),l=function(e){var t,n,r,l=e.open,c=e.supplier,d="";return s.E.forEach(function(e){var t;e.value===(null===(t=c.details)||void 0===t?void 0:t.typeOfOrganisation)&&(d=e.text)}),(0,i.jsxs)(o.Z,{open:l,title:"Company",children:[(0,i.jsx)(a.Z,{content:"Organization Type",text:d}),(0,i.jsx)(a.Z,{content:"Company Number",text:c.companyNumber}),(0,i.jsx)(a.Z,{content:"VAT Number",text:c.vatId}),(0,i.jsx)(a.Z,{content:"UTR Number",text:null===(t=c.details)||void 0===t?void 0:t.utrNumber}),(0,i.jsx)(a.Z,{content:"CIS registration number",text:null===(n=c.details)||void 0===n?void 0:n.cisRegistered}),(0,i.jsx)(a.Z,{content:"Website",text:c.website}),(null===(r=c.meta)||void 0===r?void 0:r.xeroContactId)&&(0,i.jsx)(a.Z,{content:"Xero Contact ID",text:c.meta.xeroContactId})]})};l.propTypes={open:r.bool,supplier:r.object.isRequired},l.defaultProps={open:!0}},8879:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var i=n(85893),r=n(11585),o=n(86036),a=n(55377),s=function(e){var t=e.supplier;return(0,i.jsx)(r.Z,{open:!0,title:"Contact",children:t.contactUsers.map(function(e){var n;return(0,i.jsxs)("div",{children:[(0,i.jsx)(o.Z,{content:"Name",text:"".concat(e.user.fullName)}),(0,i.jsx)(o.Z,{content:"Phone",text:e.user.phone}),(0,i.jsx)(o.Z,{content:"Email",text:e.user.email}),(0,i.jsx)(o.Z,{content:"Quoting Email",text:(null===(n=t.details)||void 0===n?void 0:n.quotingEmail)||"-"}),(0,i.jsx)(a.Z,{})]},e.user.id)})})}},14272:function(e,t,n){"use strict";n.d(t,{f:function(){return E}});var i=n(26042),r=n(69396),o=n(85893),a=n(67294),s=n(45697),l=n(58594),c=n(28497),d=n(55563),u=n(90951),p=n(95103),h=n(6710),g=n(78289),f=n(23233),m=n(49501),v=n(77439),y=n(40826),x=n(21300),b=n(35418),S={checkbox:l.Z,currencyInput:c.Z,datepicker:x.M,input:d.Z,radio:u.Z,select:p.Z,textArea:h.Z,selectRange:p.Z},E=function(e){var t=e.control,n=e.entity,s=e.entityId,l=e.errors,c=e.input,d=e.inputType,u=e.key,p=e.label,h=e.mediaMeta,x=e.name,E=e.options,C=e.register,w=(0,a.useContext)(g.Z),I="select"===c&&E.length>0,D=["checkbox","radio"].includes(c)&&E.length>0,R=(0,r.Z)((0,i.Z)({control:t},D&&{data:E},I&&{options:E.map(function(e){return(0,r.Z)((0,i.Z)({},e),{text:e.label})})},"selectRange"===c&&{range:[10,0]}),{errors:l,key:u,label:f.Z.camelize(p),name:x,register:C,type:D?c:d,minDate:"2020-04-19T08:29:04.839Z"}),_=function(){w.show({content:n&&s&&(0,o.jsx)(b.G,{entity:n,entityId:s,mediaMeta:h,category:"supplierQuestion"}),submit:!1,title:p})},T=S[c];return(0,o.jsx)(o.Fragment,{children:"currencyInput"===c?(0,o.jsx)(m.Z,{label:p,children:(0,o.jsx)(T,(0,r.Z)((0,i.Z)({},R),{label:""}))}):(0,o.jsx)(o.Fragment,{children:"media"===c?(0,o.jsx)(m.Z,{label:p,children:(0,o.jsx)(v.Z,{context:"info",content:(0,o.jsx)(y.Z,{icon:"file-upload"}),onClick:_,size:"sm"})}):(0,o.jsx)(m.Z,{label:p,children:(0,o.jsx)(T,(0,i.Z)({},R))})})})};E.propTypes={control:s.object.isRequired,entity:s.string,entityId:s.number,errors:s.object.isRequired,input:s.string,inputType:s.string,key:s.string,label:s.string.isRequired,mediaMeta:s.object,name:s.string.isRequired,options:s.array,register:s.func.isRequired},E.defaultProps={input:"input",options:[],inputType:"text",label:"label"}},42575:function(e,t,n){"use strict";n.d(t,{Im:function(){return p},RQ:function(){return f},X4:function(){return v},fC:function(){return m},mW:function(){return h},ze:function(){return g}});var i=n(7297),r=n(75063);function o(){var e=(0,i.Z)(['\n  query GetTaxonomys(\n    $limit: Int\n    $offset: Int\n    $q: String\n    $orderBy: Taxonomy_order_by!\n    $status: String = "active"\n    $type: String\n    $typeGroup: String\n    $parentId: Int\n    $fetchGroup: Boolean! = true\n    $id: Int\n    $isGroup: Boolean = false\n  ) {\n    taxonomy: Taxonomy(\n      limit: $limit\n      offset: $offset\n      where: {\n        name: { _ilike: $q }\n        status: { _eq: $status }\n        type: { _eq: $type }\n        parentId: { _eq: $parentId }\n        id: { _eq: $id }\n        isGroup: { _eq: $isGroup }\n      }\n      order_by: [$orderBy]\n    ) {\n      options: Taxonomies(\n        where: {\n          type: { _eq: $type }\n          name: { _ilike: $q }\n          id: { _eq: $id }\n          status: { _eq: "active" }\n        }\n        order_by: { name: asc }\n      ) {\n        value: id\n        label: name\n\n        childs: Taxonomies(order_by: { id: asc }, where: { status: { _eq: "active" } }) {\n          taxonomyId: id\n          name\n          type\n          meta\n          status\n        }\n      }\n      id\n      name\n      type\n      status\n      parentId\n      createdAt\n      meta\n      parent: Parent {\n        id\n        name\n        type\n      }\n      childs: Taxonomies(order_by: { id: asc }, where: { status: { _eq: "active" } }) {\n        taxonomyId: id\n        name\n        type\n        meta\n        status\n      }\n      jobs: Taxonomy_Entities_aggregate(\n        where: { Taxonomy: { type: { _eq: "jobTags" } }, entity: { _eq: "Job" } }\n      ) {\n        aggregate {\n          count\n        }\n      }\n    }\n    meta: Taxonomy_aggregate(\n      where: {\n        name: { _ilike: $q }\n        status: { _eq: $status }\n        type: { _eq: $type }\n        parentId: { _eq: $parentId }\n        id: { _eq: $id }\n        isGroup: { _eq: $isGroup }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n    taxonomyGroup: Taxonomy(where: { isGroup: { _eq: true }, type: { _eq: $typeGroup } })\n      @include(if: $fetchGroup) {\n      value: id\n      text: name\n    }\n  }\n']);return o=function(){return e},e}function a(){var e=(0,i.Z)(["\n  query GetTaxonomy($id: Int!) {\n    taxonomy: Taxonomy_by_pk(id: $id) {\n      id\n      name\n      type\n      status\n      parentId\n      createdAt\n      meta\n    }\n  }\n"]);return a=function(){return e},e}function s(){var e=(0,i.Z)(["\n  mutation AddTaxonomy($objects: [Taxonomy_insert_input!]!) {\n    insert_Taxonomy(objects: $objects) {\n      returning {\n        id\n        type\n      }\n    }\n  }\n"]);return s=function(){return e},e}function l(){var e=(0,i.Z)(["\n  mutation UpdateTaxonomy($id: Int!, $changes: Taxonomy_set_input) {\n    update_Taxonomy_by_pk(pk_columns: { id: $id }, _set: $changes) {\n      id\n      type\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=(0,i.Z)(["\n  query GeTaxonomyWithEntities($type: String!, $entity: String!, $entityId: Int!) {\n    questions: Taxonomy(where: { type: { _eq: $type } }) {\n      id\n      meta\n      name\n      status\n      taxonomy_entity: Taxonomy_Entities(\n        where: { entityId: { _eq: $entityId }, entity: { _eq: $entity } }\n      ) {\n        comments\n      }\n    }\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,i.Z)(["\n  mutation InsertTaxonomyEntity(\n    $entity: String!\n    $entityId: Int!\n    $questions: [Taxonomy_Entity_insert_input!]!\n    $objectStatusLog: [StatusLog_insert_input!]!\n    $hasStatusLog: Boolean!\n  ) {\n    delete_Taxonomy_Entity(where: { entityId: { _eq: $entityId }, entity: { _eq: $entity } }) {\n      returning {\n        id\n      }\n    }\n    insert_Taxonomy_Entity(objects: $questions) {\n      returning {\n        id\n      }\n    }\n\n    insert_StatusLog(objects: $objectStatusLog) @include(if: $hasStatusLog) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return d=function(){return e},e}function u(){var e=(0,i.Z)(["\n  query GetSlasForTemplate($where: SLA_bool_exp, $limit: Int, $offset: Int) {\n    slas: SLA(where: $where, order_by: { name: asc }, limit: $limit, offset: $offset) {\n      id\n      label: name\n      subtype\n      notes\n      onSite\n      onSiteUnit\n      quoteReturned\n      quoteReturnedUnit\n    }\n  }\n"]);return u=function(){return e},e}var p=(0,r.Ps)(o());(0,r.Ps)(a());var h=(0,r.Ps)(s()),g=(0,r.Ps)(l()),f=(0,r.Ps)(c()),m=(0,r.Ps)(d()),v=(0,r.Ps)(u())},32109:function(e,t,n){"use strict";n.d(t,{y:function(){return p}});var i=n(85893),r=n(45697),o=n(55377),a=n(9270),s=n(62140),l=n(86036),c=n(16551),d=n(77439),u=n(35418),p=function(e){var t=e.answers,n=e.onEdit,r=e.entity,p=e.entityId,h=function(){n&&n(t)};return(0,i.jsxs)(i.Fragment,{children:[t&&t.length>0&&(0,i.jsx)(o.Z,{content:"Questions"}),t&&t.map(function(e){var t,n,c,d=e.meta;return(null==d?void 0:d.input)==="media"?(0,i.jsx)(a.Z,{children:(0,i.jsxs)(s.Z,{md:6,children:[(0,i.jsx)(u.G,{entity:r,entityId:p,showItemActions:!1,showActionButtons:!1,summary:null==d?void 0:d.label,category:"supplierQuestion",mediaMeta:{taxonomyId:e.id}}),(0,i.jsx)(o.Z,{})]})}):(0,i.jsx)(l.Z,{content:(null===(t=e.taxonomy)||void 0===t?void 0:t.name)||e.name,text:e.comments||(null===(n=e.taxonomy_entity)||void 0===n?void 0:null===(c=n[0])||void 0===c?void 0:c.comments)},e.id||e.taxonomyId)}),t&&t.length>0&&n&&(0,i.jsx)(c.Z,{align:"flex-end",children:(0,i.jsx)(d.Z,{content:"Edit Answers",size:"sm",context:"secondary",onClick:h})}),t&&t.length>0&&(0,i.jsx)(o.Z,{})]})};p.propTypes={answers:r.array}},87556:function(e,t,n){"use strict";n.d(t,{D:function(){return x}});var i=n(26042),r=n(69396),o=n(85893),a=n(67294),s=n(45697),l=n(42283),c=n(79665),d=n(76600),u=n(9270),p=n(62140),h=n(16551),g=n(77439),f=n(14272),m=n(74231),v=function(e,t){var n=t.object,r=t.string,o={};return null==e||e.forEach(function(e){var t;(null===(t=e.meta)||void 0===t?void 0:t.required)&&(o[e.name]=r().required())}),n().shape((0,i.Z)({},o))},y=function(e){var t=e.map(function(e){return(0,r.Z)((0,i.Z)({},e),{name:"".concat(e.name,"/id=").concat(e.taxonomyId)})}),n=(0,m.Ry)().shape({}),o=v(t,{object:m.Ry,string:m.Z_});return n.concat(o)},x=function(e){var t,n=e.entity,s=e.entityId,m=e.onSuccess,v=e.questions,x=e.hasChangeStatus,b=(0,l.cI)({defaultValues:(t={},v.forEach(function(e){var n=e.comments,i=e.taxonomyId,r=e.name;t["".concat(r,"/id=").concat(i)]=n}),t),resolver:(0,c.S)(y(v))}),S=b.control,E=b.errors,C=b.handleSubmit,w={control:S,errors:E,register:b.register},I=function(e,t){var i=Object.keys(e).map(function(t){return{taxonomyId:parseInt(t.split("/id=")[1]),name:t.split("/id=")[0],comments:String(e[t]),entity:n,entityId:s}});m&&m(i,t)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(d.Z,{id:x?"offCanvasFormQuestions":"offCanvasForm",handleSubmit:C(function(e){return I(e,"supplierQuestionsSubmitted")}),children:(0,o.jsxs)(u.Z,{children:[v.map(function(e){var t,l,c,d;return(0,o.jsx)(p.Z,{md:12,children:(0,a.createElement)(f.f,(0,r.Z)((0,i.Z)({},w),{input:null===(t=e.meta)||void 0===t?void 0:t.input,inputType:null===(l=e.meta)||void 0===l?void 0:l.inputType,key:e.taxonomyId,label:null===(c=e.meta)||void 0===c?void 0:c.label,name:"".concat(e.name,"/id=").concat(e.taxonomyId),options:null===(d=e.meta)||void 0===d?void 0:d.options,entity:n,entityId:s,mediaMeta:{taxonomyId:e.taxonomyId}}))})}),x&&(0,o.jsx)(p.Z,{md:12,children:(0,o.jsxs)(h.Z,{align:"flex-end",children:[(0,o.jsx)(g.Z,{content:"Save",context:"success",onClick:C(function(e){return I(e,"supplierQuestionsDraft")}),size:"sm"}),(0,o.jsx)(g.Z,{content:"Submit",context:"secondary",type:"submit",size:"sm"})]})})]})})})};x.propTypes={entity:s.string.isRequired,entityId:s.number,onSuccess:s.func,hasChangeStatus:s.bool,questions:s.array.isRequired},x.defaultProps={hasChangeStatus:!1}},32339:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var i=[{text:"Select Type Of Organisation",value:""},{text:"Sole trader",value:"soleTrader"},{text:"Limited company",value:"limitedCompany"},{text:"Partnership",value:"partnership"},{text:"LLP",value:"llp"},{text:"PLC",value:"plc"}]},99393:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return tz}});var i=n(85893),r=n(11163),o=n.n(r),a=n(58849),s=n(9270),l=n(62140),c=n(67294),d=n(6388),u=n(14067),p=n(52019),h=n(41085),g=n(47568),f=n(26042),m=n(828),v=n(97582),y=n(45697),x=n.n(y),b=n(50319),S=n(42575),E=n(78289),C=n(11587),w=n(11585),I=n(32109),D=n(87556),R=[{text:"Draft",value:"supplierQuestionsDraft",context:"info"},{text:"Submitted",value:"supplierQuestionsSubmitted",context:"help"},{text:"Approved",value:"supplierQuestionsApproved",context:"success"}],_=function(e){var t,n=e.accountId,r=e.statusLogs,o=e.refetch,a=(0,c.useContext)(E.Z),s=(0,d.aM)(S.RQ,{variables:{entity:"Account",entityId:n,type:"supplierQuestion"}}),l=s.loading,u=s.refetch,p=s.data,h=(void 0===p?{questions:{}}:p).questions,y=(0,m.Z)((0,b.D)(S.fC),1)[0],x=(t=(0,g.Z)(function(e,t){return(0,v.__generator)(this,function(i){switch(i.label){case 0:return[4,y({variables:{entity:"Account",entityId:n,questions:_(e),objectStatusLog:[{status:t,entity:"Account",entityId:n}],hasStatusLog:!!t}})];case 1:return i.sent(),o(),u(),a.close(),[2]}})}),function(e,n){return t.apply(this,arguments)}),_=function(e){return e.map(function(e){return{comments:e.comments,taxonomyId:e.taxonomyId,entity:e.entity,entityId:e.entityId}})},T=function(){var e;a.show({content:(0,i.jsx)(D.D,{onSuccess:x,entity:"Account",entityId:n,questions:h.map(function(e){var t;return(0,f.Z)({comments:null===(t=e.taxonomy_entity[0])||void 0===t?void 0:t.comments,taxonomyId:e.id,name:e.name},e)}),hasChangeStatus:!0}),title:"Complete Questions",width:"50%",submit:!1})},j=function(){var e=r.slice().filter(function(e){return R.find(function(t){return t.value===e.status})}).sort(function(e,t){return Number(t.id)-Number(e.id)}),t=R.find(function(t){var n;return t.value===(null===(n=e[0])||void 0===n?void 0:n.status)})||{text:"-",context:"info"};return(0,i.jsx)(C.Z,{content:t.text,size:"md",context:t.context})};return!l&&(0,i.jsx)(w.Z,{open:!0,title:"Operational Processes And Procedures",toolbar:(0,i.jsx)(j,{}),children:(0,i.jsx)(I.y,{answers:h,onEdit:T,entity:"Account",entityId:n})})};_.propTypes={accountId:y.number.isRequired};var T=n(69396),j=n(29815),P=n(73359),q=n(13640),A=n(57460),M=n.n(A),k=n(51466),Z=n(26186),N=n(68956),$=n(11082),z=n(55843),H=n(77439),F=n(40826),L=n(91272),O=n(9492),W=n(95465),V=function(e){var t=e.addresses;return(null==t?void 0:t.address)?{__html:"".concat(t.address.addressLine1,"<br />").concat(t.address.postCode)}:"Please add"},G=n(45416),B=n(18586),U=n(63139),Y=n(20705),J=n(22244),X=n(86036),Q=function(e){var t,n=e.job,r=(null==n?void 0:n.shortJobDesc)&&n.shortJobDesc.length?n.shortJobDesc[0].taxonomy.name:null;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(X.Z,{content:"Short Job Description",text:r||(null==n?void 0:n.title)}),(0,i.jsx)(X.Z,{content:"Work description",text:null!==(t=null==n?void 0:n.description)&&void 0!==t?t:"-"})]})};Q.propTypes={job:y.object.isRequired};var K=function(e){var t,n,r,o=e.initialFilters,a=e.filters,s=(0,Y.x)({filters:a}),l=s.initialData,u=s.ref,p=o.supplierId,h=void 0===p?null:p,g=(0,c.useContext)(E.Z),v=(0,c.useState)(!1),y=v[0],x=v[1],b=(0,B.q)(),S=null===(t=b.admin.jobSetting)||void 0===t?void 0:t.jobNumberPrefix,C=null===(n=b.admin.jobSetting)||void 0===n?void 0:n.jobNumberSuffix,I=(0,d.aM)(q.JE,{variables:(0,T.Z)((0,f.Z)({q:null},o,l),{accountId:h})}),D=I.data,R=void 0===D?{quotations:[],meta:{aggregate:{totalCount:0}}}:D,_=R.meta,A=R.quotations,X=I.loading,K=I.refetch,ee=(0,m.Z)((0,P.t)(q.JE,{variables:{accountId:h,limit:(null==_?void 0:null===(r=_.aggregate)||void 0===r?void 0:r.totalCount)||150},onCompleted:function(e){var t=e.quotations;if(y){var n=M().unparse(el(t)),i="data:application/octet-stream,"+encodeURIComponent(n);(0,O.S)(i,"quotations.csv"),x(!1)}},skip:!0}),2),et=ee[0],en=ee[1].loading,ei=function(){K(),g.close()},er=function(e){g.show({content:(0,i.jsx)(W.m,{quotationId:e.id,onSuccess:ei}),title:"Quotation",width:"50%"})},eo=function(e,t){e.stopPropagation(),t.id||(t={}),g.show({content:(0,i.jsx)(Q,{job:t.job}),submit:!1,title:"Quotaition Description"})},ea=[{hidden:!0},{hidden:!0},{formatter:function(e){var t,n=e.row;return(null===(t=n.job)||void 0===t?void 0:t.type)?(0,i.jsx)(G.D,{id:n.jobId,number:n.number,numberPrefix:S,numberSuffix:C,openCanvas:!0,shortJobDesc:n.shortJobDesc,type:n.job.type}):(0,i.jsxs)(k.Z,{size:"xs",children:["Q ",n.jobId]})},text:"Job"},{text:"Creator"},{hidden:!0},{text:"Customer"},{text:"Address"},{text:"Labour Total"},{text:"Materials Total"},{text:"Quote Total"},{formatter:function(e){var t;return t=e.row,(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(k.Z,{size:"xs",children:[t.totalDuration," ",t.totalDurationUnit]}),(0,i.jsx)(k.Z,{size:"xs",children:t.startDate?(0,Z.Z)(t.startDate):"-"})]})},text:"Total Duration"},{hidden:!0},{hidden:!0},{text:"Status"},{hidden:!0},{formatter:N.Z,formatterData:[{context:"info",icon:["fas","receipt"],onClick:function(e,t){return eo(e,t)},tooltip:"Info"}],text:"Actions"}],es=function(e){e.stopPropagation(),et(),x(!0)},el=function(e){return e.map(function(e){var t,n,i,r,o,a,s,l,c,d,u,p,h=((0,j.Z)(J.E6).find(function(t){return t.value===e.status})||{text:""}).text,g=((0,j.Z)(J.l8).concat((0,j.Z)(J.iz)).find(function(t){var n;return t.value===(null==e?void 0:null===(n=e.job)||void 0===n?void 0:n.status)})||{text:""}).text;return{id:e.id,number:null===(t=e.job)||void 0===t?void 0:t.number,jobId:e.jobId,creator:(null===(i=null==e?void 0:null===(n=e.job)||void 0===n?void 0:n.timings[0])||void 0===i?void 0:null===(r=i.user)||void 0===r?void 0:r.fullName)||"-",shortJobDesc:null===(a=null===(o=e.job)||void 0===o?void 0:o.shortJobDesc[0])||void 0===a?void 0:null===(s=a.taxonomy)||void 0===s?void 0:s.name,customer:(null===(l=e.job)||void 0===l?void 0:null===(c=l.customer)||void 0===c?void 0:c.name)||"-",address:(null===(d=e.job)||void 0===d?void 0:null===(u=d.location)||void 0===u?void 0:u.addresses[0])?V({addresses:e.job.location.addresses[0]}):"-",labourTotal:(0,$.Z)(e.labourTotal.aggregate.sum.supplierTotal),materialsTotal:(0,$.Z)(e.materialsTotal.aggregate.sum.supplierTotal),quoteTotal:(0,$.Z)(e.total.aggregate.sum.supplierTotal),totalDuration:e.totalDuration,totalDurationUnit:e.totalDurationUnit,startDate:e.startDate,status:(null==e?void 0:null===(p=e.job)||void 0===p?void 0:p.type)==="reactive"?g:h,job:e.job,actions:""}})};return(0,i.jsx)(w.Z,{open:!0,title:"Quotes",toolbar:!(0,U.s)()&&(0,i.jsx)(z.Z,{marginRight:"xs",children:(0,i.jsx)(H.Z,{content:"Export to excel",context:"secondary",size:"sm",disabled:void 0===en||en,onClick:es,children:(0,i.jsx)(F.Z,{context:"white",icon:"file-csv",size:"lg"})})}),children:(0,i.jsx)(L.t,{columns:ea,loading:X,meta:_,ref:u,refetch:K,rowClick:er,rows:el(A)})})};K.propTypes={supplierId:y.number.isRequired};var ee=n(8059),et=n(1306),en=n(85113),ei=n(30016),er=n(71225),eo=n(35418),ea=n(4380),es=n(7297),el=n(75063);function ec(){var e=(0,es.Z)(["\n  mutation InsertReference($objects: [Reference_insert_input!]!) {\n    insert_Reference(objects: $objects) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return ec=function(){return e},e}function ed(){var e=(0,es.Z)(["\n  mutation UpdateReference($id: Int!, $changes: Reference_set_input) {\n    update_Reference_by_pk(pk_columns: { id: $id }, _set: $changes) {\n      id\n    }\n  }\n"]);return ed=function(){return e},e}function eu(){var e=(0,es.Z)(["\n  query GetReferences($accountId: Int) {\n    references: Reference(where: { accountId: { _eq: $accountId } }) {\n      id\n      name\n      email\n      phone\n      media: Media {\n        id\n      }\n    }\n  }\n"]);return eu=function(){return e},e}function ep(){var e=(0,es.Z)(["\n  mutation DeleteReference($id: Int!) {\n    delete_Reference_by_pk(id: $id) {\n      id\n    }\n  }\n"]);return ep=function(){return e},e}var eh=(0,el.Ps)(ec()),eg=(0,el.Ps)(ed()),ef=(0,el.Ps)(eu()),em=(0,el.Ps)(ep()),ev=n(16551),ey=n(8500),ex=n(42283),eb=n(79665),eS=n(76600),eE=n(49501),eC=n(55563),ew=n(74231),eI=(0,ew.Ry)().shape({email:(0,ew.Z_)().required().email(),name:(0,ew.Z_)().required(),phone:(0,ew.Z_)().required()}),eD=function(e){var t=e.defaultValues,n=e.accountId,r=e.success,o=(0,ex.cI)({defaultValues:t&&t,resolver:(0,eb.S)(eI)}),a=o.errors,s=o.handleSubmit,l=o.register,c=(0,m.Z)((0,b.D)(eh,{onCompleted:function(){r&&r()}}),1)[0],d=(0,m.Z)((0,b.D)(eg,{onCompleted:function(){r&&r()}}),1)[0],u=function(e){e.id?d({variables:{id:e.id,changes:e}}):(e.accountId=n,c({variables:{objects:e}}))};return(0,i.jsxs)(eS.Z,{id:"offCanvasForm",handleSubmit:s(u),children:[(0,i.jsx)(eE.Z,{label:"Name",children:(0,i.jsx)(eC.Z,{errors:a,name:"name",register:l})}),(0,i.jsx)(eE.Z,{label:"Phone",children:(0,i.jsx)(eC.Z,{errors:a,name:"phone",register:l})}),(0,i.jsx)(eE.Z,{label:"Email",children:(0,i.jsx)(eC.Z,{errors:a,name:"email",register:l})}),(null==t?void 0:t.id)&&(0,i.jsx)(eC.Z,{errors:a,name:"id",register:l,type:"hidden"})]})};eD.propTypes={defaultValues:y.object,accountId:y.number.isRequired,success:y.func};var eR=function(e){var t,n=e.accountId,r=e.edit,o=(0,c.useContext)(E.Z),a=(0,d.aM)(ef,{variables:{accountId:n}}),s=a.data,l=(void 0===s?{references:[]}:s).references,u=a.loading,p=a.refetch,h=(0,m.Z)((0,b.D)(em,{onCompleted:function(e){p()}}),1)[0],g=function(e){h({variables:{id:e.id}})},f=function(e){o.show({title:"Media",content:(0,i.jsx)(eo.G,{entity:"Reference",entityId:null==e?void 0:e.id})})},v=function(e,t){e.stopPropagation(),o.show({title:"Reference",content:(0,i.jsx)(eD,{defaultValues:t,accountId:n,success:function(){o.close(),p()}})})},y=[{hidden:!0},{text:"Name"},{text:"Phone"},{text:"Email"},{hideen:!0},{hidden:!r,formatter:N.Z,formatterData:[{context:"secondary",icon:["fas","edit"],onClick:(t={editClick:function(e,t){return v(e,t)},mediaClick:function(e,t){return f(t)},deleteClick:function(e,t){return g(t)}}).editClick,tooltip:"Edit"},{context:"info",icon:["fas","file-upload"],onClick:t.mediaClick,tooltip:"Media",numberOverlay:"mediaCount"},{context:"danger",icon:["fas","trash"],onClick:t.deleteClick,tooltip:"Delete"}],text:"Actions"}],x=function(){return(0,i.jsx)(ev.Z,{children:(0,i.jsx)(H.Z,{context:"secondary",content:"Add Quote",onClick:v,size:"sm"})})};return(0,i.jsx)(w.Z,{toolbar:r&&(0,i.jsx)(x,{}),title:"References",children:(0,i.jsx)(ey.Z,{columns:y,loading:u,rows:l.map(function(e){return{id:e.id,name:e.name,phone:e.phone,email:e.email,mediaCount:e.media.length,actions:""}})})})};eR.propTypes={accountId:y.number,edit:y.bool},eR.defaultProps={edit:!0};var e_=n(74297),eT=n(64973),ej=n(76312),eP=n(33006),eq=n(95103),eA=n(10367),eM=n(21789),ek=(0,ew.Ry)().shape({coverageArea:(0,ew.Ry)(),coverAll:(0,ew.Xg)(),status:(0,ew.Z_)().oneOf(["active","inactive"])}),eZ=n(4972),eN=n(62047),e$=function(e){var t=e.toggleFormatter,n=e.assignAll,r=e.hasRole;return[{text:"postcodeAreaId",hidden:!0},{text:"id",hidden:!0},{text:"lock",hidden:!0},{text:"Area"},{text:"Name"},{formatter:t,text:(0,i.jsx)(eN.Z,{context:"secondary",size:"sm",onToggle:n,disabled:r(["supplier"])})},{hidden:!0}]},ez=function(e){var t=e.coveredAreas,n=e.allAreas,i=[];return n.forEach(function(e){var n=e.area,r=e.label,o=e.value,a=t.findIndex(function(e){return e.area.id===o}),s=a>-1&&"active"===t[a].status,l=a>-1&&t[a].id||-1;i.push({postcodeAreaId:o,id:l,Area:n,Name:r,actions:"",assigned:s})}),i},eH=function(e){var t=e.areas,n=e.toggled;return t.map(function(e){return(0,T.Z)((0,f.Z)({},e),{assigned:n})})},eF=function(e,t){var n=(0,m.Z)((0,P.t)(eZ.j$,{variables:t}),2),i=n[0],r=n[1],o=r.loading,a=r.data,s=(void 0===a?{items:[]}:a).items;(0,c.useEffect)(function(){i()},[]);var l=ez({allAreas:s,coveredAreas:e});return{loading:o,rows:l}},eL=function(e){var t=e.onToggle,n=e.areas,r=e.ref,o=e.hasRole,a=function(e){var n=e.row;return(0,i.jsx)(eN.Z,{context:"secondary",size:"sm",onToggle:function(e){return t({postcodeAreaId:n.postcodeAreaId,id:n.id,toggled:e})},toggled:n.assigned,disabled:o(["supplier"])})},s=(0,c.useState)(n),l=s[0],d=s[1],u=function(e){d(eH({areas:l,toggled:e})),n.map(function(n){return t({id:n.id,postcodeAreaId:n.postcodeAreaId,toggled:e})})};return(0,i.jsx)(ey.Z,{columns:e$({toggleFormatter:a,assignAll:u,hasRole:o}),rows:l,ref:r})};function eO(){var e=(0,es.Z)(["\n  height: 100%;\n  width: 30%;\n  padding: 0;\n  margin: 0;\n  position: fixed;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n"]);return eO=function(){return e},e}eL.propTypes={areas:y.array,hasRole:y.func,onToggle:y.func};var eW=function(e){var t,n=e.accountId,r=e.item,o=e.offCanvas,a=e.refetch,s=e.type,l=e.coveredAreas,d=e.filters,u=e.hasRole,p=(0,c.useState)(""),h=p[0],y=p[1],x=(0,c.useState)([]),S=x[0],E=x[1],C=(0,ex.cI)({defaultValues:{status:r?r.status:"active"},resolver:(0,eb.S)(ek)}),w=C.control,I=C.errors,D=C.handleSubmit,R=C.register,_=(0,Y.x)({filters:d}),P=_.initialData,q=_.ref,A=eF(l,P),M=A.rows,Z=A.loading,N=function(e){o.close(),a()},$=function(e){return y(e)},H=(0,m.Z)((0,b.D)(eT.OW,{onCompleted:N,onError:$}),1)[0],F=(0,m.Z)((0,b.D)(eT.NG,{onCompleted:N,onError:$}),1)[0],L=function(e){var t=e.id,i=e.postcodeAreaId,r={entity:"Account",postcodeAreaId:i,entityId:n,status:e.toggled?"active":"inactive"};-1!==t&&(r.id=t),E(function(e){var o=e.findIndex(function(e){return e.postcodeAreaId===i&&e.entityId===n&&"Account"===e.entity&&e.id===t});return -1!==o?e[o]=r:e.push(r),(0,j.Z)(e)})},O=(t=(0,g.Z)(function(e){return(0,v.__generator)(this,function(t){return"edit"===s?H({variables:{id:r.id,changes:e}}):"add"===s&&F({variables:{objects:S}}),[2]})}),function(e){return t.apply(this,arguments)});return Z?(0,i.jsx)(eV,{children:(0,i.jsx)(ej.Z,{})}):(0,i.jsxs)(eS.Z,{id:"offCanvasForm",handleSubmit:D(O),children:[(0,i.jsx)(k.Z,{context:"danger",children:h}),(0,i.jsx)(z.Z,{}),"add"!==s||Z?"edit"===s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eP.Z,{content:"".concat(r.postcode," - ").concat(r.area),tag:"h4"}),(0,i.jsx)(eE.Z,{label:"Status",children:(0,i.jsx)(eq.Z,(0,T.Z)((0,f.Z)({},{control:w,errors:I,register:R}),{name:"status",options:eM.bg}))})]}):(0,i.jsx)(eL,{onToggle:L,hasRole:u,areas:M,ref:q})]})},eV=eA.ZP.div.withConfig({displayName:"form__StyledLoadingContainer",componentId:"sc-4532e1cb-0"})(eO());eW.defaultProps={coveredAreas:[]},eW.propTypes={accountId:y.number,item:(0,y.exact)({actions:y.string,area:y.string,postcode:y.string,id:y.number}),offCanvas:y.object.isRequired,refetch:y.func,type:y.string.isRequired,coverageAreas:y.array};var eG=n(75903),eB=n(25742),eU=(0,c.memo)(function(e){var t=e.initialValues,n=(e.renderFilters,e.setFilters),r=e.lastQuery,o=(0,ex.cI)({defaultValues:t}),a=o.errors,c=o.handleSubmit,d=o.register,u=o.reset,p=function(e){var i=e.query;if(i!==r){var o={q:"%".concat(i,"%")||0},a=/^\d+$/.test(i);"id"in t&&(o.id=a?Number(i):null),"meta"in t&&(o.meta=a?{invoiceNumber:Number(i)}:null),(o.id||o.meta)&&(o.q=null),n(function(e){return(0,f.Z)({},e,o)})}},h=function(e){n(t),u(t),p("")};return(0,i.jsxs)(eS.Z,{handleSubmit:c(p),children:[(0,i.jsx)(s.Z,{children:(0,i.jsx)(l.Z,{sm:12,lg:12,children:(0,i.jsx)(eE.Z,{label:"",children:(0,i.jsx)(eG.Z,{errors:a,label:"Search",name:"email",placeholder:"Search...",prependSearchIcon:!0,register:d,type:"search"})})})}),(0,i.jsx)(eB.H,{content:"Search",context:"secondary",handleClick:p,type:"submit",children:(0,i.jsx)(H.Z,{content:"Reset filters",context:"danger",onClick:h,size:"sm"})})]})},function(e,t){return!0});eU.propTypes={initialValues:y.object,renderFilters:y.func.isRequired,setFilters:y.func.isRequired};var eY={q:null},eJ=function(e){var t=e.q,n=e.accountId,r=e.item,o=e.offCanvas,a=e.refetch,s=e.type,l=e.coveredAreas,d=e.hasRole;eY.q=t?"%".concat(t,"%"):null;var u=(0,c.useState)(eY),p=u[0],h=u[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eU,{initialValues:eY,setFilters:h}),(0,i.jsx)(eW,{refetch:a,item:r,offCanvas:o,accountId:n,coveredAreas:l,type:s,filters:p,hasRole:d})]})},eX=function(e){var t=[];return e&&e.forEach(function(e){t.push({id:e.id,area:e.area.name,postcode:e.area.area,status:e.status,actions:""})}),t},eQ=function(e){var t,n,r=e.filters,o=e.accountId,a=e.handleClick,s=e.hasRole,l=(0,Y.x)({filters:r}),c=l.initialData,p=l.ref,h=(0,d.aM)(u.lk,{variables:(0,f.Z)({supplierId:o},c)}),g=h.loading,m=h.data,v=void 0===m?{coverage:[],meta:{aggregate:{totalCount:0}}}:m,y=v.coverage,x=v.meta,b=h.refetch;return(0,i.jsx)(L.t,{columns:[{hidden:!0},{text:"Area"},{text:"Postcode"},{hidden:!0},{hidden:s("supplier"),formatter:N.Z,formatterData:[{context:"secondary",icon:["fas","edit"],onClick:function(e,t){return a(e,"edit",t)},tooltip:"Edit"}],text:"Actions"}],loading:g,meta:x,ref:p,history:!1,refetch:b,rows:eX(y)})},eK=function(e){var t=e.refetch,n=e.hasRole,r=e.supplier,o={q:null},a=(0,c.useContext)(E.Z),s=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0;e.stopPropagation(),a.show({title:"".concat((0,e_.Z)(o)," Postcode Area"),content:(0,i.jsx)(eJ,{accountId:r.id,item:s,refetch:t,offCanvas:a,type:o,coveredAreas:r.coverage,hasRole:n})})},l=(0,c.useState)(o),d=l[0],u=l[1],p=function(){return(0,i.jsx)(ev.Z,{children:(0,i.jsx)(H.Z,{context:"secondary",content:"Add",onClick:function(e){return s(e,"add")},size:"sm"})})};return(0,i.jsxs)(w.Z,{toolbar:!n("supplier")&&(0,i.jsx)(p,{}),open:!0,title:"Coverage Area",children:[(0,i.jsx)(eU,{initialValues:o,setFilters:u}),(0,i.jsx)(eQ,{accountId:r.id,handleClick:s,filters:d,hasRole:n})]})};eK.propTypes={supplier:y.object.isRequired,hasRole:y.func.isRequired,refetch:y.func.isRequired};var e0=n(45795),e1=n(8879),e2=n(30430);function e5(){var e=(0,es.Z)(["\n  cursor: pointer;\n  text-decoration: none;\n"]);return e5=function(){return e},e}var e8=function(e){var t=e.compliances,n=e.supplierId,r=function(){o().push("/dashboard/suppliers/view?id=".concat(n,"&tab=compliance"))},a=(0,e2.JB)(t),s=(0,e2.iU)(t),l={content:"Score ".concat(s," %"),context:(0,e2.kW)(s)};return(0,i.jsxs)(w.Z,{open:!0,title:"Compliance Score",children:[s&&(0,i.jsx)(e3,{onClick:r,children:(0,i.jsx)(eP.Z,(0,f.Z)({tag:"h1"},l))}),(0,i.jsx)(eP.Z,{content:"".concat(t.length," compliance item").concat(1!==t.length?"s":""),noMargin:!0,tag:"h4"}),a>0&&(0,i.jsx)(eP.Z,{context:"danger",content:"".concat(a," expired"),noMargin:!0,tag:"h5"})]})};e8.propTypes={compliances:y.array.isRequired,supplierId:y.number.isRequired};var e3=eA.ZP.a.withConfig({displayName:"rating__Styleda",componentId:"sc-e046f459-0"})(e5()),e9=n(41890),e6=n(30381),e7=n.n(e6),e4=n(36641),te=function(e,t){if(Array.isArray(t)){var n=null;return t.forEach(function(t){var i=null==e?void 0:e.find(function(e){return e.status===t});n=(null==i?void 0:i.createdAt)||n}),n}var i=null==e?void 0:e.find(function(e){return e.status===t});return(null==i?void 0:i.createdAt)||null},tt=n(6710);function tn(){var e=(0,es.Z)(["\n  mutation InsertStatusLog($objects: [StatusLog_insert_input!]!) {\n    insert_StatusLog(objects: $objects) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return tn=function(){return e},e}var ti=(0,el.Ps)(tn()),tr=function(e){var t,n=e.status,r=e.entityId,o=e.entityName,a=e.refetch,s=e.toggleShow,l=(0,ex.cI)({defaultValues:{notes:""}}),c=l.errors,d=l.handleSubmit,u=l.register,p=(0,m.Z)((0,b.D)(ti,{onCompleted:function(){a&&a(),s()}}),1)[0],h=(t=(0,g.Z)(function(e){var t;return(0,v.__generator)(this,function(i){switch(i.label){case 0:return t={entityId:r,entity:o,status:n,notes:e.notes},[4,p({variables:{objects:[t]}})];case 1:return i.sent(),[2]}})}),function(e){return t.apply(this,arguments)});return(0,i.jsx)(eS.Z,{id:"offCanvasForm",handleSubmit:d(h),children:(0,i.jsx)(eE.Z,{label:"Notes",children:(0,i.jsx)(tt.Z,{errors:c,name:"notes",register:u,rows:4})})})};tr.propTypes={status:y.string.isRequired,entityId:y.number.isRequired,entityName:y.string.isRequired,refetch:y.func.isRequired,toggleShow:y.func.isRequired};var to=function(e){var t=e.status,n=e.statusTitle,r=e.entityId,o=e.entityName,a=e.offCanvas,s=e.refetch;a.show({content:(0,i.jsx)(tr,{entityId:r,entityName:o,refetch:s,status:t,toggleShow:a.close}),title:n})},ta=n(2845),ts=function(e){var t,n,r,a,s,l,c,d,u=e.supplier,p=e.offCanvas,h=e.refetch,g=(0,ta.x)().hasRole,f="/dashboard/suppliers/",m=te(null==u?void 0:u.statusLogs,"supplierQuestionsSubmitted"),v=te(null==u?void 0:u.statusLogs,"supplierQuestionsApproved"),y=(0,en.WE)(u,"registered"),x=(0,en.WE)(u,"operating"),b=u.createdAt&&(null===(t=u.references[0])||void 0===t?void 0:t.createdAt)&&(null==y?void 0:y.createdAt)&&(null===(n=u.compliances[0])||void 0===n?void 0:n.createdAt)&&(null===(r=u.coverage[0])||void 0===r?void 0:r.createdAt)&&(null===(a=u.services[0])||void 0===a?void 0:a.createdAt)&&v,S=function(e){e&&h()},E=function(){p.show({title:"Add/Update Postcode Area",content:(0,i.jsx)(eW,{accountId:u.id,refetch:h,offCanvas:p,type:"add",coveredAreas:u.coverage,hasRole:g})})},C=function(){p.show({title:"Reference",content:(0,i.jsx)(eD,{accountId:u.id,success:function(){h(),p.close()}})})};return[{id:1,label:"Create account",date:u.createdAt},{id:2,label:"Complete profile",info:"",date:(null==y?void 0:y.createdAt)||null,actions:[{id:1,active:!g("supplier"),content:"Registered address",context:"secondary",handleClick:function(){p.show({content:(0,i.jsx)(e4.H,{addressId:null==y?void 0:y.address.id,entity:"Account",entityId:u.id,id:(null==y?void 0:y.id)||null,onSubmit:S,type:"registered"}),submit:!1,title:"Manage addresses"})},type:"button"},{id:2,active:!g("supplier"),content:"Operating address",context:"secondary",handleClick:function(){p.show({content:(0,i.jsx)(e4.H,{addressId:null==x?void 0:x.address.id,entity:"Account",entityId:u.id,id:(null==x?void 0:x.id)||null,onSubmit:S,type:"operating"}),submit:!1,title:"Manage addresses"})},type:"button"}]},{id:3,label:"Select service lines & coverage",info:"",date:(null===(s=u.coverage[0])||void 0===s?void 0:s.createdAt)&&(null===(l=u.services[0])||void 0===l?void 0:l.createdAt),actions:[{id:1,active:!g("supplier"),content:"Service lines",context:"secondary",handleClick:function(){o().push("".concat(f,"view?id=").concat(u.id,"&tab=services"))},type:"button"},{id:2,active:!g("supplier"),content:"Coverage",context:"secondary",handleClick:E,type:"button"}]},{id:4,label:"Submit documents",info:"",date:(null===(c=u.references[0])||void 0===c?void 0:c.createdAt)&&(null===(d=u.compliances[0])||void 0===d?void 0:d.createdAt),actions:[{id:1,active:!g("supplier"),content:"Compliances",context:"secondary",handleClick:function(){o().push("".concat(f,"view?id=").concat(u.id,"&tab=compliance"))},type:"button"},{id:2,active:g("admin"),content:"References",context:"secondary",handleClick:C,type:"button"}]},{id:5,label:"Submit questionnaire",info:g("supplier")?m&&!v&&"awaiting admin approval":m&&!v&&"Questions were submitted",date:v,content:[{id:1,active:!g("supplier"),data:function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(ev.Z,{align:"flex-start",size:"xs",children:[g("admin")&&m&&!v&&(0,i.jsx)(H.Z,{content:"Approve",context:"primary",onClick:function(){return to({status:"supplierQuestionsApproved",statusTitle:"Approve Questions",entityId:u.id,entityName:"Account",offCanvas:p,refetch:h})},size:"xs"}),(0,i.jsx)(H.Z,{content:"Question",context:"secondary",onClick:function(){return o().push("".concat(f,"view?id=").concat(u.id,"&tab=questions"))},size:"xs"})]})})}}]},{id:6,label:"Start receiving work",info:"accept job offers",date:b}]},tl=function(e,t,n){var i=ts({supplier:e,offCanvas:t,refetch:n});return i.map(function(e){return e.date&&(e.date=e7()(e.date).format("D MMM YYYY HH:mm")),e}),i},tc=n(64872),td=function(e){var t,n=e.supplier,r=e.refetch,o=(0,tc.a)();return(0,i.jsx)(w.Z,{open:!0,title:"Profile",children:(0,i.jsx)(e9.Z,{items:tl(n,o,r),summary:(t=n,[{label:"Account manager: ",value:t.manager?"".concat(t.manager.nameFirst," ").concat(t.manager.nameLast," "):"Unassigned"},{label:"Users: ",value:t.usersMeta?t.usersMeta.aggregate.count:0},{label:"Status: ",value:t.status||""}])},"stepper-".concat(n.id))})},tu=n(20402),tp=function(e){var t=e.hasRole,n=e.isSupplier,r=e.refetch,o=e.supplier,a=(0,en.WE)(o,"registered"),c=(0,en.WE)(o,"operating");return(0,i.jsxs)(s.Z,{children:[(0,i.jsxs)(l.Z,{md:4,children:[(0,i.jsx)(ea.g,{avatar:(0,er.Q)(o.media),editable:t("admin"),entity:o,entityName:"Account",icons:t("admin")?(0,tu.Y)(o):[]}),(0,i.jsx)(e1.D,{supplier:o}),(0,i.jsx)(e0.T,{supplier:o}),a&&(0,i.jsx)(et.f,{address:a.address,entity:"Account",entityId:o.id,id:a.id,refetch:r,title:"Registered Address",type:"registered"}),c&&(0,i.jsx)(et.f,{address:c.address,entity:"Account",entityId:o.id,id:c.id,refetch:r,title:"Operating Address",type:"operating"}),t("admin")&&(0,i.jsx)(ei.E,{entity:"Account",entityId:o.id,open:!0,title:"Notes"})]}),(0,i.jsx)(l.Z,{md:4,children:(0,i.jsx)(td,{refetch:r,supplier:o})}),(0,i.jsxs)(l.Z,{md:4,children:[(0,i.jsx)(eo.G,{details:!0,entity:"Account",entityId:o.id}),(0,i.jsx)(eK,{hasRole:t,refetch:r,supplier:o},"coverage-".concat(o.id)),(0,i.jsx)(eR,{accountId:o.id,edit:!n,open:!0},"references-".concat(o.id)),(0,i.jsx)(e8,{compliances:o.compliances,supplierId:o.id})]})]})};tp.propTypes={isSupplier:y.bool,supplier:y.object.isRequired,refetch:y.func.isRequired};var th=n(50956),tg=n(93829),tf=n(46929),tm=function(e){var t=e.control,n=e.errors,r=e.initialValues,o=e.register,a=e.setFilters,d=(e.setValue,e.watch),u=(0,c.useContext)(p.Z).hasRole,h=d("customerId"),g=d("supplierId"),m=!r.customerId,v=J.E6.map(function(e){return u("admin")?e:{text:e.customerText,value:e.value}}),y=[{text:"Status",value:""}].concat((0,j.Z)(v)).filter(function(e,t,n){return!!u("admin")||n.findIndex(function(t){return t.text===e.text})===t});(0,c.useEffect)(function(){m&&a(function(e){return(0,T.Z)((0,f.Z)({},e),{customerId:(null==h?void 0:h.value)||null})})},[h]),(0,c.useEffect)(function(){m&&a(function(e){return(0,T.Z)((0,f.Z)({},e),{supplierId:(null==g?void 0:g.value)||null})})},[g]);var x=function(e){var t;return t="quoteNew"===e?["quoteNew","quoteOffered","quoteReceived"]:e};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.Z,{align:"baseline",children:(0,i.jsx)(l.Z,{md:6,children:(0,i.jsx)(tf.r,(0,T.Z)((0,f.Z)({},{control:t,errors:n,register:o}),{errors:n,onChange:function(e){return u("admin")?a(function(t){return(0,T.Z)((0,f.Z)({},t),{status:e.target.value||null})}):a(function(t){return(0,T.Z)((0,f.Z)({},t),{status:x(e.target.value)||null})})},options:y,register:o}))})})})};tm.propTypes={errors:y.object.isRequired,register:y.func.isRequired,setFilters:y.func.isRequired};var tv=n(55862),ty=n(67259),tx=n(55185),tb=n(36343),tS=n(1589),tE=n(11057),tC=n(39474),tw=n(87918),tI=n(90629),tD=n(51233),tR=n(15861),t_=n(15033),tT=n(32784),tj=n(62551),tP=n(5336),tq=n(33214),tA=n(36663),tM=n(15843),tk=function(e){var t=e.editable,n=e.initialFilters,r=e.entity,o=e.entityId,a=e.tableHeight,s=e.paperHeight,l=(0,m.Z)((0,tj.d)(),2),u=l[0],p=l[1],h=(0,c.useState)({}),g=h[0],v=h[1],y=(0,c.useState)(!1),x=y[0],b=y[1],S=(0,Y.x)({filters:g}),E=S.ref,C=S.initialData,w=(0,d.aM)(tT.pB,{variables:(0,T.Z)((0,f.Z)({},C),{entity:r,entityId:o})}),I=w.data,D=void 0===I?{schedules:[],meta:{aggregate:{totalCount:0}}}:I,R=D.schedules,_=D.meta,j=w.loading,P=w.refetch,q=function(e){e.stopPropagation(),p({content:function(e){var t=e.onClose;return(0,i.jsx)(tq.t,{entity:r,entityId:o,close:t})}})},A=(0,c.useCallback)(function(e){t&&p({content:function(t){var n=t.onClose;return(0,i.jsx)(tq.t,{isEdit:!0,scheduleId:e,entity:r,entityId:o,close:n})}})},[r,o,t,p]),M=(0,c.useCallback)(function(e){return[{icon:"edit",onClick:function(t){t.stopPropagation(),A(e.id)},tooltip:"Edit Schedule"}]},[A]),k=(0,c.useMemo)(function(){return[{sortable:!1,flex:1,minWidth:180,field:"serviceLine",headerName:"Service line"},{sortable:!1,flex:1,minWidth:180,field:"schedule",headerName:"Schedule"},{sortable:!1,flex:1,minWidth:180,field:"rate",headerName:"\xa3/H",renderCell:function(e){var t=e.row;return(0,i.jsxs)(tD.Z,{children:[(0,i.jsxs)(tR.Z,{children:["First hour: \xa3 ",t.rate.firstHour]}),(0,i.jsxs)(tR.Z,{children:["Subsequent hours: \xa3 ",t.rate.subsequentHours]})]})}},{sortable:!1,flex:1,minWidth:180,field:"rateOOH",headerName:"\xa3/H OOH",renderCell:function(e){var t=e.row;return(0,i.jsxs)(tD.Z,{children:[(0,i.jsxs)(tR.Z,{children:["First hour: \xa3 ",t.rateOOH.firstHour]}),(0,i.jsxs)(tR.Z,{children:["Subsequent hours: \xa3 ",t.rateOOH.subsequentHours]})]})}},{sortable:!1,flex:1,minWidth:180,field:"ratePremium",headerName:"\xa3/H Premium",renderCell:function(e){var t=e.row;return(0,i.jsxs)(tD.Z,{children:[(0,i.jsxs)(tR.Z,{children:["First hour: \xa3 ",t.ratePremium.firstHour]}),(0,i.jsxs)(tR.Z,{children:["Subsequent hours: \xa3 ",t.ratePremium.subsequentHours]})]})}},{sortable:!1,flex:1,minWidth:150,field:"coverageArea",headerName:"Coverage area"},{sortable:!1,flex:1,field:"minimumDuration",headerName:"Min duration"},{sortable:!1,flex:1,field:"minimumIncrement",headerName:"Min increment"},{sortable:!1,flex:1,minWidth:100,field:"status",headerName:"Status",renderCell:function(e){var t=e.row;return(0,i.jsx)(tw.Z,{label:"active"===t.status?"Active":"Inactive",color:"active"===t.status?"success":"danger",size:"small"})}},{sortable:!1,width:100,field:"actions",headerName:"Actions",renderCell:function(e){var t=e.row;return(0,i.jsx)(tP.C,{row:t,actionsData:M})}}]},[M]),Z=(0,c.useMemo)(function(){return R.map(function(e){return{id:e.id,serviceLine:e.service.name,schedule:e.name,rate:e.normal,rateOOH:e.ooh,ratePremium:e.premium,coverageArea:e.postcodeAreas.map(function(e){return e.postcode.area}).join(", "),minimumDuration:e.minimumDuration,minimumIncrement:e.minimumIncrement,status:e.status,serviceId:e.serviceId}})},[R]);return(0,i.jsxs)(i.Fragment,{children:[u,(0,i.jsx)(tA.X,{open:x,close:function(){return b(!1)},initialFilters:n,setFilters:v}),(0,i.jsx)(tD.Z,{width:"100%",spacing:2,sx:{height:"100%"},children:(0,i.jsxs)(tI.Z,{sx:{paddingTop:"16px",paddingBottom:"16px",height:s},children:[(0,i.jsxs)(tD.Z,{direction:"row",justifyContent:"space-between",pl:2,pr:2,children:[(0,i.jsx)(tR.Z,{variant:"h5",sx:{fontWeight:600},children:"Services"}),(0,i.jsxs)(tC.Z,{children:[t&&(0,i.jsx)(tE.Z,{color:"secondary",variant:"contained",onClick:q,children:"Add schedule"}),(0,i.jsx)(tE.Z,{startIcon:(0,i.jsx)(tM.Z,{}),variant:"contained",onClick:function(){return b(!0)},children:"Filters"})]})]}),(0,i.jsx)(t_.i,{autoHeight:!1,loading:j,ref:E,columns:k,rows:Z,meta:_,refetch:P,containerHeight:a,columnVisibilityModel:{actions:t},onRowClick:function(e){return A(e.row.id)}})]})})]})};tk.propTypes={editable:x().bool,initialFilters:x().object,entity:x().oneOf(["Supplier"]).isRequired,entityId:x().number.isRequired,tableHeight:x().string,paperHeight:x().string},tk.defaultProps={editable:!1,initialFilters:{filterType:"supplier"},tableHeight:"calc(100% - 52px)",paperHeight:"calc(100% - 32px)"};var tZ=function(e){var t,n,o=e.id,a=e.isSupplier,g=e.adminId,f=(0,B.q)(),m=(0,c.useContext)(p.Z).hasRole,v=m("admin"),y=(0,r.useRouter)().query,x=(null==f?void 0:null===(t=f.admin)||void 0===t?void 0:null===(n=t.modules)||void 0===n?void 0:n.sageIntegration)||!1,b=(0,c.useMemo)(function(){return["ppm"]},[]),S=(0,d.aM)(u.l1,{variables:{id:o}}),E=S.loading,C=S.refetch,w=S.data,I=(void 0===w?{supplier:{}}:w).supplier,D={adminId:g,supplierId:o},R=(0,c.useMemo)(function(){return y.tab||"details"},[y.tab]);return!E&&(0,i.jsxs)(h.Z,{children:[(0,i.jsx)("div",{active:"details"===R||!R,label:"Details",children:(0,i.jsx)(tp,{hasRole:m,isSupplier:a,refetch:C,supplier:I})}),(0,i.jsx)("div",{active:"finance"===R,label:"Finance",children:(0,i.jsx)(tx.b,{type:"supplier",accountId:I.id,accountName:I.name,accountRefetch:C,meta:I.meta,hasSageIntegration:x})}),(0,i.jsx)("div",{active:"users"===R,label:"Users",children:(0,i.jsx)(tS.q,{accountType:"supplier",filters:{accountId:I.id}})}),(0,i.jsx)("div",{active:"services"===R,label:"Services",children:(0,i.jsx)(tk,{editable:v,initialFilters:{filterType:"supplier"},entity:"Supplier",entityId:I.id,paperHeight:"calc(100vh - 90px)"})}),(0,i.jsx)("div",{active:"compliance"===R,label:"Compliance",children:(0,i.jsx)(ee.M,{entity:"Account",entityId:I.id})}),(0,i.jsx)("div",{active:"work-orders"===R,label:"Work Orders",children:(0,i.jsx)(ty.A,{filtersVisibilityModel:{supplier:!1,manager:!1,customerManager:!1,accountManager:!1},entityRelationToFetch:{supplierId:I.id},initialFilters:{jobNumber:null,invoiceNumber:null,userId:null,startDate:null,endDate:null,filterType:"supplier_work_orders_tab"}})}),(0,i.jsx)("div",{active:"quotations"===R,label:"Quotations",children:(0,i.jsx)(tv.J,{FiltersComp:tm,initialFilters:{supplierId:I.id,customerId:null,status:null,id:null,filterType:"supplier_quotations_tab"},TableComp:K})}),(0,i.jsx)("div",{active:"questions"===R,label:"Questions",children:(0,i.jsx)(_,{accountId:I.id,statusLogs:I.statusLogs,refetch:C})}),(0,i.jsx)("div",{active:"planned-maintenance"===R,label:"Planned Maintenance",children:(0,i.jsx)(tb.default,{defaultFilters:b,supplierId:I.id})}),(0,i.jsx)("div",{active:"data"===R,label:"Data",children:(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(l.Z,{md:6,children:(0,i.jsx)(tg.m,{filters:D})}),(0,i.jsx)(l.Z,{md:6,children:(0,i.jsx)(th.e,{filters:D})})]})})]},R)},tN=function(){var e=(0,r.useRouter)().query,t=(0,ta.x)(),n=t.hasRole,o=t.user,a=!n("admin")&&n("supplier");return(0,i.jsx)(s.Z,{children:(0,i.jsx)(l.Z,{md:12,children:(0,i.jsx)(tZ,{id:a?o.accountId:e.id,isSupplier:a,adminId:o.adminId})})})},t$=function(){return(0,ta.x)().user?(0,i.jsx)(a.Z,{children:(0,i.jsx)(tN,{})}):(o().push("/account/sign-in"),null)};t$.getLayout=function(e){return e};var tz=t$},75152:function(e,t,n){"use strict";if(n.d(t,{HY:function(){return a},Vf:function(){return o},az:function(){return r},jz:function(){return l},kr:function(){return s},wA:function(){return i}}),"undefined"==typeof FullCalendarVDom)throw Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var i=FullCalendarVDom.Component,r=FullCalendarVDom.createElement;FullCalendarVDom.render;var o=FullCalendarVDom.createRef,a=FullCalendarVDom.Fragment,s=FullCalendarVDom.createContext,l=FullCalendarVDom.createPortal;FullCalendarVDom.flushToDom,FullCalendarVDom.unmountComponentAtNode},77773:function(e,t,n){"use strict";n.d(t,{iz:function(){return J}}),n(77066);var i,r,o=n(85677),a=n(97582),s=(i=o.IdW,r=function(){var e=null!==i&&i.apply(this,arguments)||this;return e.headerElRef=(0,o.VfA)(),e},(0,a.__extends)(r,i),r.prototype.renderSimpleLayout=function(e,t){var n=this.props,i=this.context,r=[],a=(0,o.Q8U)(i.options);return e&&r.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),(0,o.azq)(o.xS$,{viewSpec:i.viewSpec},function(e,t){return(0,o.azq)("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},(0,o.azq)(o.Oh2,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:r}))})},r.prototype.renderHScrollLayout=function(e,t,n,i){var r=this.context.pluginHooks.scrollGridImpl;if(!r)throw Error("No ScrollGrid implementation");var a=this.props,s=this.context,l=!a.forPrint&&(0,o.Q8U)(s.options),c=!a.forPrint&&(0,o.PZw)(s.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),c&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:o.Hbc}]}),(0,o.azq)(o.xS$,{viewSpec:s.viewSpec},function(e,t){return(0,o.azq)("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},(0,o.azq)(r,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:n,minWidth:i}]}],sections:d}))})},r);function l(e,t){for(var n=[],i=0;i<t;i+=1)n[i]=[];for(var r=0;r<e.length;r++){var o=e[r];n[o.row].push(o)}return n}function c(e,t){for(var n=[],i=0;i<t;i+=1)n[i]=[];for(var r=0;r<e.length;r++){var o=e[r];n[o.firstCol].push(o)}return n}function d(e,t){var n=[];if(e){for(var i=0;i<t;i+=1)n[i]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var r=0,o=e.segs;r<o.length;r++){var a=o[r];n[a.row].segs.push(a)}}else for(var i=0;i<t;i+=1)n[i]=null;return n}var u,p,h=(u=o.H6J,p=function(){return null!==u&&u.apply(this,arguments)||this},(0,a.__extends)(p,u),p.prototype.render=function(){var e=this.props,t=this.context.options.navLinks?{"data-navlink":(0,o.Euv)(e.date),tabIndex:0}:{};return(0,o.azq)(o.R_3,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,defaultContent:g},function(n,i){return(i||e.forceDayTop)&&(0,o.azq)("div",{className:"fc-daygrid-day-top",ref:n},(0,o.azq)("a",(0,a.__assign)({className:"fc-daygrid-day-number"},t),i||(0,o.azq)(o.HYg,null,"\xa0")))})},p);function g(e){return e.dayNumberText}var f=(0,o.SPZ)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function m(e){var t=e.eventRange.ui.display;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}var v,y,x,b,S=(v=o.H6J,y=function(){return null!==v&&v.apply(this,arguments)||this},(0,a.__extends)(y,v),y.prototype.render=function(){var e=this.props;return(0,o.azq)(o.h2k,(0,a.__assign)({},e,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:f,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))},y),E=(x=o.H6J,b=function(){return null!==x&&x.apply(this,arguments)||this},(0,a.__extends)(b,x),b.prototype.render=function(){var e=this.props,t=this.context,n=t.options.eventTimeFormat||f,i=(0,o.r39)(e.seg,n,t,!0,e.defaultDisplayEventEnd);return(0,o.azq)(o.Vsx,{seg:e.seg,timeText:i,defaultContent:C,isDragging:e.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},function(t,n,i,r){var s,l;return(0,o.azq)("a",(0,a.__assign)({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(n).join(" "),ref:t},(s=e.seg,l=s.eventRange.def.url,l?{href:l}:{})),r)})},b);function C(e){return(0,o.azq)(o.HYg,null,(0,o.azq)("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&(0,o.azq)("div",{className:"fc-event-time"},e.timeText),(0,o.azq)("div",{className:"fc-event-title"},e.event.title||(0,o.azq)(o.HYg,null,"\xa0")))}var w,I,D=(w=o.H6J,I=function(){var e=null!==w&&w.apply(this,arguments)||this;return e.compileSegs=(0,o.HPs)(R),e},(0,a.__extends)(I,w),I.prototype.render=function(){var e=this.props,t=this.compileSegs(e.singlePlacements),n=t.allSegs,i=t.invisibleSegs;return(0,o.azq)(o.ygx,{dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:function(){var t=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return(0,o.azq)(o.HYg,null,n.map(function(n){var i=n.eventRange.instance.instanceId;return(0,o.azq)("div",{className:"fc-daygrid-event-harness",key:i,style:{visibility:t[i]?"hidden":""}},m(n)?(0,o.azq)(E,(0,a.__assign)({seg:n,isDragging:!1,isSelected:i===e.eventSelection,defaultDisplayEventEnd:!1},(0,o.jHR)(n,e.todayRange))):(0,o.azq)(S,(0,a.__assign)({seg:n,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:i===e.eventSelection,defaultDisplayEventEnd:!1},(0,o.jHR)(n,e.todayRange))))}))}},function(e,t,n,i,r){return(0,o.azq)("a",{ref:e,className:["fc-daygrid-more-link"].concat(t).join(" "),onClick:r},i)})},I);function R(e){for(var t=[],n=[],i=0;i<e.length;i++){var r=e[i];t.push(r.seg),r.isVisible||n.push(r.seg)}return{allSegs:t,invisibleSegs:n}}var _,T,j=(0,o.SPZ)({week:"narrow"}),P=(_=o.IdW,T=function(){var e=null!==_&&_.apply(this,arguments)||this;return e.rootElRef=(0,o.VfA)(),e.handleRootEl=function(t){(0,o.k$v)(e.rootElRef,t),(0,o.k$v)(e.props.elRef,t)},e},(0,a.__extends)(T,_),T.prototype.render=function(){var e=this.props,t=this.context,n=this.rootElRef,i=t.options,r=e.date,s=e.dateProfile,l=i.navLinks?{"data-navlink":(0,o.Euv)(r,"week"),tabIndex:0}:{};return(0,o.azq)(o.hJ8,{date:r,dateProfile:s,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,elRef:this.handleRootEl},function(t,i,c,d){return(0,o.azq)("td",(0,a.__assign)({ref:t,className:["fc-daygrid-day"].concat(i,e.extraClassNames||[]).join(" ")},c,e.extraDataAttrs),(0,o.azq)("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:e.innerElRef},e.showWeekNumber&&(0,o.azq)(o.QOi,{date:r,defaultFormat:j},function(e,t,n,i){return(0,o.azq)("a",(0,a.__assign)({ref:e,className:["fc-daygrid-week-number"].concat(t).join(" ")},l),i)}),!d&&(0,o.azq)(h,{date:r,dateProfile:s,showDayNumber:e.showDayNumber,forceDayTop:e.forceDayTop,todayRange:e.todayRange,extraHookProps:e.extraHookProps}),(0,o.azq)("div",{className:"fc-daygrid-day-events",ref:e.fgContentElRef},e.fgContent,(0,o.azq)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:e.moreMarginTop}},(0,o.azq)(D,{allDayDate:r,singlePlacements:e.singlePlacements,moreCnt:e.moreCnt,alignmentElRef:n,alignGridTop:!e.showDayNumber,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange}))),(0,o.azq)("div",{className:"fc-daygrid-day-bg"},e.bgContent)))})},T);function q(e,t,n,i){if(e.firstCol===t&&e.lastCol===n-1)return e;var r=e.eventRange,s=r.range,l=(0,o.cMs)(s,{start:i[t].date,end:(0,o.E4D)(i[n-1].date,1)});return(0,a.__assign)((0,a.__assign)({},e),{firstCol:t,lastCol:n-1,eventRange:{def:r.def,ui:(0,a.__assign)((0,a.__assign)({},r.ui),{durationEditable:!1}),instance:r.instance,range:l},isStart:e.isStart&&l.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&l.end.valueOf()===s.end.valueOf()})}var A,M,k,Z,N=(A=o.KxW,M=function(){var e=null!==A&&A.apply(this,arguments)||this;return e.hiddenConsumes=!1,e.forceHidden={},e},(0,a.__extends)(M,A),M.prototype.addSegs=function(e){for(var t=this,n=A.prototype.addSegs.call(this,e),i=this.entriesByLevel,r=function(e){return!t.forceHidden[(0,o.oBR)(e)]},a=0;a<i.length;a+=1)i[a]=i[a].filter(r);return n},M.prototype.handleInvalidInsertion=function(e,t,n){var i=this.entriesByLevel,r=this.forceHidden,s=e.touchingEntry,l=e.touchingLevel,c=e.touchingLateral;if(this.hiddenConsumes&&s){var d=(0,o.oBR)(s);if(!r[d]){if(this.allowReslicing){var u=(0,a.__assign)((0,a.__assign)({},s),{span:(0,o.GT4)(s.span,t.span)});r[(0,o.oBR)(u)]=!0,i[l][c]=u,this.splitEntry(s,t,n)}else r[d]=!0,n.push(s)}}return A.prototype.handleInvalidInsertion.call(this,e,t,n)},M),$=(k=o.IdW,Z=function(){var e=null!==k&&k.apply(this,arguments)||this;return e.cellElRefs=new o.lAU,e.frameElRefs=new o.lAU,e.fgElRefs=new o.lAU,e.segHarnessRefs=new o.lAU,e.rootElRef=(0,o.VfA)(),e.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},e},(0,a.__extends)(Z,k),Z.prototype.render=function(){var e=this,t=this.props,n=this.state,i=this.context.options,r=t.cells.length,a=c(t.businessHourSegs,r),s=c(t.bgEventSegs,r),l=c(this.getHighlightSegs(),r),d=c(this.getMirrorSegs(),r),u=function(e,t,n,i,r,o,a){var s=new N;s.allowReslicing=!0,s.strictOrder=i,!0===t||!0===n?(s.maxCoord=o,s.hiddenConsumes=!0):"number"==typeof t?s.maxStackCnt=t:"number"==typeof n&&(s.maxStackCnt=n,s.hiddenConsumes=!0);for(var l=[],c=[],d=0;d<e.length;d+=1){var u=e[d],p=r[u.eventRange.instance.instanceId];null!=p?l.push({index:d,thickness:p,span:{start:u.firstCol,end:u.lastCol+1}}):c.push(u)}for(var h=s.addSegs(l),g=function(e,t,n){for(var i=function(e,t){for(var n=[],i=0;i<t;i+=1)n.push([]);for(var r=0;r<e.length;r++)for(var o=e[r],i=o.span.start;i<o.span.end;i+=1)n[i].push(o);return n}(e,n.length),r=[],o=[],a=[],s=0;s<n.length;s+=1){for(var l=i[s],c=[],d=0,u=0,p=0;p<l.length;p++){var h=l[p],g=t[h.index];c.push({seg:q(g,s,s+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:h.levelCoord-d}),d=h.levelCoord+h.thickness}var f=[];d=0,u=0;for(var m=0;m<l.length;m++){var h=l[m],g=t[h.index],v=h.span.end-h.span.start>1,y=h.span.start===s;u+=h.levelCoord-d,d=h.levelCoord+h.thickness,v?(u+=h.thickness,y&&f.push({seg:q(g,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:h.levelCoord,marginTop:0})):y&&(f.push({seg:q(g,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:u}),u=0)}r.push(c),o.push(f),a.push(u)}return{singleColPlacements:r,multiColPlacements:o,leftoverMargins:a}}(s.toRects(),e,a),f=g.singleColPlacements,m=g.multiColPlacements,v=g.leftoverMargins,y=[],x=[],b=0;b<c.length;b++){var u=c[b];m[u.firstCol].push({seg:u,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var S=u.firstCol;S<=u.lastCol;S+=1)f[S].push({seg:q(u,S,S+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var S=0;S<a.length;S+=1)y.push(0);for(var E=0;E<h.length;E++){var C=h[E],u=e[C.index],w=C.span;m[w.start].push({seg:q(u,w.start,w.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var S=w.start;S<w.end;S+=1)y[S]+=1,f[S].push({seg:q(u,S,S+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var S=0;S<a.length;S+=1)x.push(v[S]);return{singleColPlacements:f,multiColPlacements:m,moreCnts:y,moreMarginTops:x}}((0,o.hak)(t.fgEventSegs,i.eventOrder),t.dayMaxEvents,t.dayMaxEventRows,i.eventOrderStrict,n.eventInstanceHeights,n.maxContentHeight,t.cells),p=u.singleColPlacements,h=u.multiColPlacements,g=u.moreCnts,f=u.moreMarginTops,m=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return(0,o.azq)("tr",{ref:this.rootElRef},t.renderIntro&&t.renderIntro(),t.cells.map(function(n,i){var r=e.renderFgSegs(i,t.forPrint?p[i]:h[i],t.todayRange,m),c=e.renderFgSegs(i,function(e,t){if(!e.length)return[];var n=function(e){for(var t={},n=0;n<e.length;n++)for(var i=e[n],r=0;r<i.length;r++){var o=i[r];t[o.seg.eventRange.instance.instanceId]=o.absoluteTop}return t}(t);return e.map(function(e){return{seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}})}(d[i],h),t.todayRange,{},Boolean(t.eventDrag),Boolean(t.eventResize),!1);return(0,o.azq)(P,{key:n.key,elRef:e.cellElRefs.createRef(n.key),innerElRef:e.frameElRefs.createRef(n.key),dateProfile:t.dateProfile,date:n.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&0===i,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,extraHookProps:n.extraHookProps,extraDataAttrs:n.extraDataAttrs,extraClassNames:n.extraClassNames,extraDateSpan:n.extraDateSpan,moreCnt:g[i],moreMarginTop:f[i],singlePlacements:p[i],fgContentElRef:e.fgElRefs.createRef(n.key),fgContent:(0,o.azq)(o.HYg,null,(0,o.azq)(o.HYg,null,r),(0,o.azq)(o.HYg,null,c)),bgContent:(0,o.azq)(o.HYg,null,e.renderFillSegs(l[i],"highlight"),e.renderFillSegs(a[i],"non-business"),e.renderFillSegs(s[i],"bg-event"))})}))},Z.prototype.componentDidMount=function(){this.updateSizing(!0)},Z.prototype.componentDidUpdate=function(e,t){var n=this.props;this.updateSizing(!(0,o.S6v)(e,n))},Z.prototype.getHighlightSegs=function(){var e=this.props;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs},Z.prototype.getMirrorSegs=function(){var e=this.props;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]},Z.prototype.renderFgSegs=function(e,t,n,i,r,s,l){var c=this.context,d=this.props.eventSelection,u=this.state.framePositions,p=1===this.props.cells.length,h=r||s||l,g=[];if(u)for(var f=0;f<t.length;f++){var v=t[f],y=v.seg,x=y.eventRange.instance.instanceId,b=x+":"+e,C=v.isVisible&&!i[x],w=v.isAbsolute,I="",D="";w&&(c.isRtl?(D=0,I=u.lefts[y.lastCol]-u.lefts[y.firstCol]):(I=0,D=u.rights[y.firstCol]-u.rights[y.lastCol])),g.push((0,o.azq)("div",{className:"fc-daygrid-event-harness"+(w?" fc-daygrid-event-harness-abs":""),key:b,ref:h?null:this.segHarnessRefs.createRef(b),style:{visibility:C?"":"hidden",marginTop:w?"":v.marginTop,top:w?v.absoluteTop:"",left:I,right:D}},m(y)?(0,o.azq)(E,(0,a.__assign)({seg:y,isDragging:r,isSelected:x===d,defaultDisplayEventEnd:p},(0,o.jHR)(y,n))):(0,o.azq)(S,(0,a.__assign)({seg:y,isDragging:r,isResizing:s,isDateSelecting:l,isSelected:x===d,defaultDisplayEventEnd:p},(0,o.jHR)(y,n)))))}return g},Z.prototype.renderFillSegs=function(e,t){var n=this.context.isRtl,i=this.props.todayRange,r=this.state.framePositions,s=[];if(r)for(var l=0;l<e.length;l++){var c=e[l],d=n?{right:0,left:r.lefts[c.lastCol]-r.lefts[c.firstCol]}:{left:0,right:r.rights[c.firstCol]-r.rights[c.lastCol]};s.push((0,o.azq)("div",{key:(0,o.rRV)(c.eventRange),className:"fc-daygrid-bg-harness",style:d},"bg-event"===t?(0,o.azq)(o.I_K,(0,a.__assign)({seg:c},(0,o.jHR)(c,i))):(0,o.MA3)(t)))}return o.azq.apply(void 0,(0,a.__spreadArray)([o.HYg,{}],s))},Z.prototype.updateSizing=function(e){var t=this.props,n=this.frameElRefs;if(!t.forPrint&&null!==t.clientWidth){if(e){var i=t.cells.map(function(e){return n.currentMap[e.key]});if(i.length){var r=this.rootElRef.current;this.setState({framePositions:new o.zIV(r,i,!0,!1)})}}var a=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.setState({eventInstanceHeights:this.queryEventInstanceHeights(),maxContentHeight:a?this.computeMaxContentHeight():null})}},Z.prototype.queryEventInstanceHeights=function(){var e=this.segHarnessRefs.currentMap,t={};for(var n in e){var i=Math.round(e[n].getBoundingClientRect().height),r=n.split(":")[0];t[r]=Math.max(t[r]||0,i)}return t},Z.prototype.computeMaxContentHeight=function(){var e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top},Z.prototype.getCellEls=function(){var e=this.cellElRefs.currentMap;return this.props.cells.map(function(t){return e[t.key]})},Z);$.addStateEquality({eventInstanceHeights:o.S6v});var z,H,F=(z=o.IdW,H=function(){var e=null!==z&&z.apply(this,arguments)||this;return e.splitBusinessHourSegs=(0,o.HPs)(l),e.splitBgEventSegs=(0,o.HPs)(l),e.splitFgEventSegs=(0,o.HPs)(l),e.splitDateSelectionSegs=(0,o.HPs)(l),e.splitEventDrag=(0,o.HPs)(d),e.splitEventResize=(0,o.HPs)(d),e.rowRefs=new o.lAU,e.handleRootEl=function(t){e.rootEl=t,t?e.context.registerInteractiveComponent(e,{el:t,isHitComboAllowed:e.props.isHitComboAllowed}):e.context.unregisterInteractiveComponent(e)},e},(0,a.__extends)(H,z),H.prototype.render=function(){var e=this,t=this.props,n=t.dateProfile,i=t.dayMaxEventRows,r=t.dayMaxEvents,a=t.expandRows,s=t.cells.length,l=this.splitBusinessHourSegs(t.businessHourSegs,s),c=this.splitBgEventSegs(t.bgEventSegs,s),d=this.splitFgEventSegs(t.fgEventSegs,s),u=this.splitDateSelectionSegs(t.dateSelectionSegs,s),p=this.splitEventDrag(t.eventDrag,s),h=this.splitEventResize(t.eventResize,s),g=!0===r||!0===i;g&&!a&&(g=!1,i=null,r=null);var f=["fc-daygrid-body",g?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return(0,o.azq)("div",{className:f.join(" "),ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},(0,o.azq)(o.wh8,{unit:"day"},function(g,f){return(0,o.azq)(o.HYg,null,(0,o.azq)("table",{className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:a?t.clientHeight:""}},t.colGroupNode,(0,o.azq)("tbody",null,t.cells.map(function(a,g){return(0,o.azq)($,{ref:e.rowRefs.createRef(g),key:a.length?a[0].date.toISOString():g,showDayNumbers:s>1,showWeekNumbers:t.showWeekNumbers,todayRange:f,dateProfile:n,cells:a,renderIntro:t.renderRowIntro,businessHourSegs:l[g],eventSelection:t.eventSelection,bgEventSegs:c[g].filter(L),fgEventSegs:d[g],dateSelectionSegs:u[g],eventDrag:p[g],eventResize:h[g],dayMaxEvents:r,dayMaxEventRows:i,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint})}))))}))},H.prototype.prepareHits=function(){this.rowPositions=new o.zIV(this.rootEl,this.rowRefs.collect().map(function(e){return e.getCellEls()[0]}),!1,!0),this.colPositions=new o.zIV(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},H.prototype.queryHit=function(e,t){var n=this.colPositions,i=this.rowPositions,r=n.leftToIndex(e),o=i.topToIndex(t);if(null!=o&&null!=r){var s=this.props.cells[o][r];return{dateProfile:this.props.dateProfile,dateSpan:(0,a.__assign)({range:this.getCellRange(o,r),allDay:!0},s.extraDateSpan),dayEl:this.getCellEl(o,r),rect:{left:n.lefts[r],right:n.rights[r],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null},H.prototype.getCellEl=function(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]},H.prototype.getCellRange=function(e,t){var n=this.props.cells[e][t].date,i=(0,o.E4D)(n,1);return{start:n,end:i}},H);function L(e){return e.eventRange.def.allDay}var O,W,V,G,B,U,Y=(O=o.RVT,W=function(){var e=null!==O&&O.apply(this,arguments)||this;return e.forceDayIfListItem=!0,e},(0,a.__extends)(W,O),W.prototype.sliceRange=function(e,t){return t.sliceRange(e)},W),J=(V=o.IdW,G=function(){var e=null!==V&&V.apply(this,arguments)||this;return e.slicer=new Y,e.tableRef=(0,o.VfA)(),e},(0,a.__extends)(G,V),G.prototype.render=function(){var e=this.props,t=this.context;return(0,o.azq)(F,(0,a.__assign)({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))},G),X=(U=function(){var e=null!==s&&s.apply(this,arguments)||this;return e.buildDayTableModel=(0,o.HPs)(Q),e.headerRef=(0,o.VfA)(),e.tableRef=(0,o.VfA)(),e},(0,a.__extends)(U,s),U.prototype.render=function(){var e=this,t=this.context,n=t.options,i=t.dateProfileGenerator,r=this.props,a=this.buildDayTableModel(r.dateProfile,i),s=n.dayHeaders&&(0,o.azq)(o.lR3,{ref:this.headerRef,dateProfile:r.dateProfile,dates:a.headerDates,datesRepDistinctDays:1===a.rowCnt}),l=function(t){return(0,o.azq)(J,{ref:e.tableRef,dateProfile:r.dateProfile,dayTableModel:a,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:n.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,showWeekNumbers:n.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:r.forPrint})};return n.dayMinWidth?this.renderHScrollLayout(s,l,a.colCnt,n.dayMinWidth):this.renderSimpleLayout(s,l)},U);function Q(e,t){var n=new o.xB8(e.renderRange,t);return new o.xVj(n,/year|month|week/.test(e.currentRangeUnit))}var K,ee,et=(K=o.VPe,ee=function(){return null!==K&&K.apply(this,arguments)||this},(0,a.__extends)(ee,K),ee.prototype.buildRenderRange=function(e,t,n){var i,r=this.props.dateEnv,a=K.prototype.buildRenderRange.call(this,e,t,n),s=a.start,l=a.end;if(/^(year|month)$/.test(t)&&(s=r.startOfWeek(s),(i=r.startOfWeek(l)).valueOf()!==l.valueOf()&&(l=(0,o.jh6)(i,1))),this.props.monthMode&&this.props.fixedWeekCount){var c=Math.ceil((0,o.bXg)(s,l));l=(0,o.jh6)(l,6-c)}return{start:s,end:l}},ee),en=(0,o.rxu)({initialView:"dayGridMonth",views:{dayGrid:{component:X,dateProfileGeneratorClass:et},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});t.ZP=en},56903:function(e,t,n){"use strict";n(55359);var i,r,o=n(85677),a=n(97582),s=(i=o.H6J,r=function(){return null!==i&&i.apply(this,arguments)||this},(0,a.__extends)(r,i),r.prototype.render=function(){var e=this.props,t=e.dayDate,n=e.todayRange,i=this.context,r=i.theme,s=i.dateEnv,c=i.options,d=i.viewApi,u=(0,o.iCZ)(t,n),p=c.listDayFormat?s.format(t,c.listDayFormat):"",h=c.listDaySideFormat?s.format(t,c.listDaySideFormat):"",g=c.navLinks?(0,o.Euv)(t):null,f=(0,a.__assign)({date:s.toDate(t),view:d,text:p,sideText:h,navLinkData:g},u),m=["fc-list-day"].concat((0,o.yLW)(u,r));return(0,o.azq)(o.QJ3,{hookProps:f,classNames:c.dayHeaderClassNames,content:c.dayHeaderContent,defaultContent:l,didMount:c.dayHeaderDidMount,willUnmount:c.dayHeaderWillUnmount},function(e,n,i,a){return(0,o.azq)("tr",{ref:e,className:m.concat(n).join(" "),"data-date":(0,o.SVl)(t)},(0,o.azq)("th",{colSpan:3},(0,o.azq)("div",{className:"fc-list-day-cushion "+r.getClass("tableCellShaded"),ref:i},a)))})},r);function l(e){var t=e.navLinkData?{"data-navlink":e.navLinkData,tabIndex:0}:{};return(0,o.azq)(o.HYg,null,e.text&&(0,o.azq)("a",(0,a.__assign)({className:"fc-list-day-text"},t),e.text),e.sideText&&(0,o.azq)("a",(0,a.__assign)({className:"fc-list-day-side-text"},t),e.sideText))}var c,d,u=(0,o.SPZ)({hour:"numeric",minute:"2-digit",meridiem:"short"}),p=(c=o.H6J,d=function(){return null!==c&&c.apply(this,arguments)||this},(0,a.__extends)(d,c),d.prototype.render=function(){var e=this.props,t=this.context,n=e.seg,i=t.options.eventTimeFormat||u;return(0,o.azq)(o.Vsx,{seg:n,timeText:"",disableDragging:!0,disableResizing:!0,defaultContent:h,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,isSelected:e.isSelected,isDragging:e.isDragging,isResizing:e.isResizing,isDateSelecting:e.isDateSelecting},function(e,r,a,s,l){return(0,o.azq)("tr",{className:["fc-list-event",l.event.url?"fc-event-forced-url":""].concat(r).join(" "),ref:e},function(e,t,n){var i=n.options;if(!1!==i.displayEventTime){var r=e.eventRange.def,a=e.eventRange.instance,s=!1,l=void 0;if(r.allDay?s=!0:(0,o.p7j)(e.eventRange.range)?e.isStart?l=(0,o.r39)(e,t,n,null,null,a.range.start,e.end):e.isEnd?l=(0,o.r39)(e,t,n,null,null,e.start,a.range.end):s=!0:l=(0,o.r39)(e,t,n),s){var c={text:n.options.allDayText,view:n.viewApi};return(0,o.azq)(o.QJ3,{hookProps:c,classNames:i.allDayClassNames,content:i.allDayContent,defaultContent:g,didMount:i.allDayDidMount,willUnmount:i.allDayWillUnmount},function(e,t,n,i){return(0,o.azq)("td",{className:["fc-list-event-time"].concat(t).join(" "),ref:e},i)})}return(0,o.azq)("td",{className:"fc-list-event-time"},l)}return null}(n,i,t),(0,o.azq)("td",{className:"fc-list-event-graphic"},(0,o.azq)("span",{className:"fc-list-event-dot",style:{borderColor:l.borderColor||l.backgroundColor}})),(0,o.azq)("td",{className:"fc-list-event-title",ref:a},s))})},d);function h(e){var t=e.event,n=t.url;return(0,o.azq)("a",(0,a.__assign)({},n?{href:n}:{}),t.title)}function g(e){return e.text}var f,m,v=(f=o.IdW,m=function(){var e=null!==f&&f.apply(this,arguments)||this;return e.computeDateVars=(0,o.HPs)(x),e.eventStoreToSegs=(0,o.HPs)(e._eventStoreToSegs),e.setRootEl=function(t){t?e.context.registerInteractiveComponent(e,{el:t}):e.context.unregisterInteractiveComponent(e)},e},(0,a.__extends)(m,f),m.prototype.render=function(){var e=this,t=this.props,n=this.context,i=["fc-list",n.theme.getClass("table"),!1!==n.options.stickyHeaderDates?"fc-list-sticky":"",],r=this.computeDateVars(t.dateProfile),a=r.dayDates,s=r.dayRanges,l=this.eventStoreToSegs(t.eventStore,t.eventUiBases,s);return(0,o.azq)(o.xS$,{viewSpec:n.viewSpec,elRef:this.setRootEl},function(n,r){return(0,o.azq)("div",{ref:n,className:i.concat(r).join(" ")},(0,o.azq)(o.Ttm,{liquid:!t.isHeightAuto,overflowX:t.isHeightAuto?"visible":"hidden",overflowY:t.isHeightAuto?"visible":"auto"},l.length>0?e.renderSegList(l,a):e.renderEmptyMessage()))})},m.prototype.renderEmptyMessage=function(){var e=this.context,t=e.options,n=e.viewApi,i={text:t.noEventsText,view:n};return(0,o.azq)(o.QJ3,{hookProps:i,classNames:t.noEventsClassNames,content:t.noEventsContent,defaultContent:y,didMount:t.noEventsDidMount,willUnmount:t.noEventsWillUnmount},function(e,t,n,i){return(0,o.azq)("div",{className:["fc-list-empty"].concat(t).join(" "),ref:e},(0,o.azq)("div",{className:"fc-list-empty-cushion",ref:n},i))})},m.prototype.renderSegList=function(e,t){var n=this.context,i=n.theme,r=n.options,l=function(e){var t,n,i=[];for(t=0;t<e.length;t+=1)(i[(n=e[t]).dayIndex]||(i[n.dayIndex]=[])).push(n);return i}(e);return(0,o.azq)(o.wh8,{unit:"day"},function(e,n){for(var c=[],d=0;d<l.length;d+=1){var u=l[d];if(u){var h=t[d].toISOString();c.push((0,o.azq)(s,{key:h,dayDate:t[d],todayRange:n})),u=(0,o.hak)(u,r.eventOrder);for(var g=0,f=u;g<f.length;g++){var m=f[g];c.push((0,o.azq)(p,(0,a.__assign)({key:h+":"+m.eventRange.instance.instanceId,seg:m,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1},(0,o.jHR)(m,n,e))))}}}return(0,o.azq)("table",{className:"fc-list-table "+i.getClass("table")},(0,o.azq)("tbody",null,c))})},m.prototype._eventStoreToSegs=function(e,t,n){return this.eventRangesToSegs((0,o.y$4)(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)},m.prototype.eventRangesToSegs=function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];n.push.apply(n,this.eventRangeToSegs(r,t))}return n},m.prototype.eventRangeToSegs=function(e,t){var n,i,r,a=this.context.dateEnv,s=this.context.options.nextDayThreshold,l=e.range,c=e.def.allDay,d=[];for(n=0;n<t.length;n+=1)if((i=(0,o.cMs)(l,t[n]))&&(d.push(r={component:this,eventRange:e,start:i.start,end:i.end,isStart:e.isStart&&i.start.valueOf()===l.start.valueOf(),isEnd:e.isEnd&&i.end.valueOf()===l.end.valueOf(),dayIndex:n}),!r.isEnd&&!c&&n+1<t.length&&l.end<a.add(t[n+1].start,s))){r.end=l.end,r.isEnd=!0;break}return d},m);function y(e){return e.text}function x(e){for(var t=(0,o.b7Q)(e.renderRange.start),n=e.renderRange.end,i=[],r=[];t<n;)i.push(t),r.push({start:t,end:(0,o.E4D)(t,1)}),t=(0,o.E4D)(t,1);return{dayDates:i,dayRanges:r}}var b={listDayFormat:S,listDaySideFormat:S,noEventsClassNames:o.yRu,noEventsContent:o.yRu,noEventsDidMount:o.yRu,noEventsWillUnmount:o.yRu};function S(e){return!1===e?null:(0,o.SPZ)(e)}var E=(0,o.rxu)({optionRefiners:b,views:{list:{component:v,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});t.Z=E},1199:function(e,t,n){"use strict";n(38660);var i,r,o=n(85677),a=n(97582),s=n(77773),l=(i=o.qX1,r=function(){return null!==i&&i.apply(this,arguments)||this},(0,a.__extends)(r,i),r.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},r.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},r.prototype.getKeysForEventDef=function(e){return e.allDay?(0,o.gRm)(e)?["timed","allDay"]:["allDay"]:["timed"]},r),c=(0,o.SPZ)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function d(e){var t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor",];return(0,o.azq)(o.Yh$.Consumer,null,function(n){if(!e.isLabeled)return(0,o.azq)("td",{className:t.join(" "),"data-time":e.isoTimeStr});var i=n.dateEnv,r=n.options,a=n.viewApi,s=null==r.slotLabelFormat?c:Array.isArray(r.slotLabelFormat)?(0,o.SPZ)(r.slotLabelFormat[0]):(0,o.SPZ)(r.slotLabelFormat),l={level:0,time:e.time,date:i.toDate(e.date),view:a,text:i.format(e.date,s)};return(0,o.azq)(o.QJ3,{hookProps:l,classNames:r.slotLabelClassNames,content:r.slotLabelContent,defaultContent:u,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},function(n,i,r,a){return(0,o.azq)("td",{ref:n,className:t.concat(i).join(" "),"data-time":e.isoTimeStr},(0,o.azq)("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},(0,o.azq)("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:r},a)))})})}function u(e){return e.text}var p,h,g,f,m=(p=o.H6J,h=function(){return null!==p&&p.apply(this,arguments)||this},(0,a.__extends)(h,p),h.prototype.render=function(){return this.props.slatMetas.map(function(e){return(0,o.azq)("tr",{key:e.key},(0,o.azq)(d,(0,a.__assign)({},e)))})},h),v=(0,o.SPZ)({week:"short"}),y=(g=o.IdW,f=function(){var e=null!==g&&g.apply(this,arguments)||this;return e.allDaySplitter=new l,e.headerElRef=(0,o.VfA)(),e.rootElRef=(0,o.VfA)(),e.scrollerElRef=(0,o.VfA)(),e.state={slatCoords:null},e.handleScrollTopRequest=function(t){var n=e.scrollerElRef.current;n&&(n.scrollTop=t)},e.renderHeadAxis=function(t,n){void 0===n&&(n="");var i=e.context.options,r=e.props.dateProfile.renderRange,s=(0,o.MUz)(r.start,r.end),l=i.navLinks&&1===s?{"data-navlink":(0,o.Euv)(r.start,"week"),tabIndex:0}:{};return i.weekNumbers&&"day"===t?(0,o.azq)(o.QOi,{date:r.start,defaultFormat:v},function(e,t,i,r){return(0,o.azq)("th",{ref:e,className:["fc-timegrid-axis","fc-scrollgrid-shrink",].concat(t).join(" ")},(0,o.azq)("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:n}},(0,o.azq)("a",(0,a.__assign)({ref:i,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},l),r)))}):(0,o.azq)("th",{className:"fc-timegrid-axis"},(0,o.azq)("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},e.renderTableRowAxis=function(t){var n=e.context,i=n.options,r=n.viewApi,a={text:i.allDayText,view:r};return(0,o.azq)(o.QJ3,{hookProps:a,classNames:i.allDayClassNames,content:i.allDayContent,defaultContent:x,didMount:i.allDayDidMount,willUnmount:i.allDayWillUnmount},function(e,n,i,r){return(0,o.azq)("td",{ref:e,className:["fc-timegrid-axis","fc-scrollgrid-shrink",].concat(n).join(" ")},(0,o.azq)("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==t?" fc-timegrid-axis-frame-liquid":""),style:{height:t}},(0,o.azq)("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:i},r)))})},e.handleSlatCoords=function(t){e.setState({slatCoords:t})},e},(0,a.__extends)(f,g),f.prototype.renderSimpleLayout=function(e,t,n){var i=this.context,r=this.props,a=[],s=(0,o.Q8U)(i.options);return e&&a.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(a.push({type:"body",key:"all-day",chunk:{content:t}}),a.push({type:"body",key:"all-day-divider",outerContent:(0,o.azq)("tr",{className:"fc-scrollgrid-section"},(0,o.azq)("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(i.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),(0,o.azq)(o.xS$,{viewSpec:i.viewSpec,elRef:this.rootElRef},function(e,t){return(0,o.azq)("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},(0,o.azq)(o.Oh2,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[{width:"shrink"}],sections:a}))})},f.prototype.renderHScrollLayout=function(e,t,n,i,r,a,s){var l=this,c=this.context.pluginHooks.scrollGridImpl;if(!c)throw Error("No ScrollGrid implementation");var d=this.context,u=this.props,p=!u.forPrint&&(0,o.Q8U)(d.options),h=!u.forPrint&&(0,o.PZw)(d.options),g=[];e&&g.push({type:"header",key:"header",isSticky:p,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return(0,o.azq)("tr",null,l.renderHeadAxis("day",e.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e},]}),t&&(g.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return(0,o.azq)("tr",null,l.renderTableRowAxis(e.rowSyncHeights[0]))}},{key:"cols",content:t},]}),g.push({key:"all-day-divider",type:"body",outerContent:(0,o.azq)("tr",{className:"fc-scrollgrid-section"},(0,o.azq)("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));var f=d.options.nowIndicator;return g.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(d.options.expandRows),chunks:[{key:"axis",content:function(e){return(0,o.azq)("div",{className:"fc-timegrid-axis-chunk"},(0,o.azq)("table",{style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,(0,o.azq)("tbody",null,(0,o.azq)(m,{slatMetas:a}))),(0,o.azq)("div",{className:"fc-timegrid-now-indicator-container"},(0,o.azq)(o.wh8,{unit:f?"minute":"day"},function(e){var t=f&&s&&s.safeComputeTop(e);return"number"==typeof t?(0,o.azq)(o.AOy,{isAxis:!0,date:e},function(e,n,i,r){return(0,o.azq)("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(n).join(" "),style:{top:t}},r)}):null})))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:n},]}),h&&g.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:o.Hbc},{key:"cols",content:o.Hbc},]}),(0,o.azq)(o.xS$,{viewSpec:d.viewSpec,elRef:this.rootElRef},function(e,t){return(0,o.azq)("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},(0,o.azq)(c,{liquid:!u.isHeightAuto&&!u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:r}]},],sections:g}))})},f.prototype.getAllDayMaxEventProps=function(){var e=this.context.options,t=e.dayMaxEvents,n=e.dayMaxEventRows;return(!0===t||!0===n)&&(t=void 0,n=5),{dayMaxEvents:t,dayMaxEventRows:n}},f);function x(e){return e.text}var b,S,E,C,w,I=((b=function(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}).prototype.safeComputeTop=function(e){var t=this.dateProfile;if((0,o.mCA)(t.currentRange,e)){var n=(0,o.b7Q)(e),i=e.valueOf()-n.valueOf();if(i>=(0,o.TTZ)(t.slotMinTime)&&i<(0,o.TTZ)(t.slotMaxTime))return this.computeTimeTop((0,o.Pvs)(i))}return null},b.prototype.computeDateTop=function(e,t){return t||(t=(0,o.b7Q)(e)),this.computeTimeTop((0,o.Pvs)(e.valueOf()-t.valueOf()))},b.prototype.computeTimeTop=function(e){var t,n,i=this.positions,r=this.dateProfile,a=i.els.length,s=(e.milliseconds-(0,o.TTZ)(r.slotMinTime))/(0,o.TTZ)(this.slotDuration);return t=Math.min(t=Math.floor(s=Math.min(a,s=Math.max(0,s))),a-1),n=s-t,i.tops[t]+i.getHeight(t)*n},b),D=(S=o.H6J,E=function(){return null!==S&&S.apply(this,arguments)||this},(0,a.__extends)(E,S),E.prototype.render=function(){var e=this.props,t=this.context,n=t.options,i=e.slatElRefs;return(0,o.azq)("tbody",null,e.slatMetas.map(function(r,s){var l={time:r.time,date:t.dateEnv.toDate(r.date),view:t.viewApi},c=["fc-timegrid-slot","fc-timegrid-slot-lane",r.isLabeled?"":"fc-timegrid-slot-minor",];return(0,o.azq)("tr",{key:r.key,ref:i.createRef(r.key)},e.axis&&(0,o.azq)(d,(0,a.__assign)({},r)),(0,o.azq)(o.QJ3,{hookProps:l,classNames:n.slotLaneClassNames,content:n.slotLaneContent,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount},function(e,t,n,i){return(0,o.azq)("td",{ref:e,className:c.concat(t).join(" "),"data-time":r.isoTimeStr},i)}))}))},E),R=(C=o.H6J,w=function(){var e=null!==C&&C.apply(this,arguments)||this;return e.rootElRef=(0,o.VfA)(),e.slatElRefs=new o.lAU,e},(0,a.__extends)(w,C),w.prototype.render=function(){var e=this.props,t=this.context;return(0,o.azq)("div",{className:"fc-timegrid-slots",ref:this.rootElRef},(0,o.azq)("table",{className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,(0,o.azq)(D,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))},w.prototype.componentDidMount=function(){this.updateSizing()},w.prototype.componentDidUpdate=function(){this.updateSizing()},w.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},w.prototype.updateSizing=function(){var e,t,n=this.context,i=this.props;if(i.onCoords&&null!==i.clientWidth){this.rootElRef.current.offsetHeight&&i.onCoords(new I(new o.zIV(this.rootElRef.current,(e=this.slatElRefs.currentMap,t=i.slatMetas,t.map(function(t){return e[t.key]})),!1,!0),this.props.dateProfile,n.options.slotDuration))}},w);function _(e,t){var n,i=[];for(n=0;n<t;n+=1)i.push([]);if(e)for(n=0;n<e.length;n+=1)i[e[n].col].push(e[n]);return i}function T(e,t){var n=[];if(e){for(var i=0;i<t;i+=1)n[i]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var r=0,o=e.segs;r<o.length;r++){var a=o[r];n[a.col].segs.push(a)}}else for(var i=0;i<t;i+=1)n[i]=null;return n}var j,P,q=(j=o.H6J,P=function(){var e=null!==j&&j.apply(this,arguments)||this;return e.rootElRef=(0,o.VfA)(),e},(0,a.__extends)(P,j),P.prototype.render=function(){var e=this,t=this.props;return(0,o.azq)(o.ygx,{allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:A,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:function(){return Y(t.hiddenSegs,t)}},function(n,i,r,a,s){return(0,o.azq)("a",{ref:function(t){(0,o.k$v)(n,t),(0,o.k$v)(e.rootElRef,t)},className:["fc-timegrid-more-link"].concat(i).join(" "),style:{top:t.top,bottom:t.bottom},onClick:s},(0,o.azq)("div",{ref:r,className:"fc-timegrid-more-link-inner fc-sticky"},a))})},P);function A(e){return e.shortText}function M(e,t){if(!e)return[[],0];for(var n=e.level,i=e.lateralStart,r=e.lateralEnd,o=i,a=[];o<r;)a.push(t(n,o)),o+=1;return a.sort(k),[a.map(Z),a[0][1]]}function k(e,t){return t[1]-e[1]}function Z(e){return e[0]}function N(e,t){var n={};return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e.apply(void 0,i);return o in n?n[o]:n[o]=t.apply(void 0,i)}}function $(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=0);var r=[];if(n)for(var o=0;o<e.length;o+=1){var a=e[o],s=n.computeDateTop(a.start,t),l=Math.max(s+(i||0),n.computeDateTop(a.end,t));r.push({start:Math.round(s),end:Math.round(l)})}return r}var z,H,F,L,O,W,V=(0,o.SPZ)({hour:"numeric",minute:"2-digit",meridiem:!1}),G=(z=o.H6J,H=function(){return null!==z&&z.apply(this,arguments)||this},(0,a.__extends)(H,z),H.prototype.render=function(){var e=["fc-timegrid-event","fc-v-event",];return this.props.isShort&&e.push("fc-timegrid-event-short"),(0,o.azq)(o.h2k,(0,a.__assign)({},this.props,{defaultTimeFormat:V,extraClassNames:e}))},H),B=(F=o.H6J,L=function(){return null!==F&&F.apply(this,arguments)||this},(0,a.__extends)(L,F),L.prototype.render=function(){var e=this.props;return(0,o.azq)(o.R_3,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps},function(e,t){return t&&(0,o.azq)("div",{className:"fc-timegrid-col-misc",ref:e},t)})},L),U=(O=o.H6J,W=function(){var e=null!==O&&O.apply(this,arguments)||this;return e.sortEventSegs=(0,o.HPs)(o.hak),e},(0,a.__extends)(W,O),W.prototype.render=function(){var e=this,t=this.props,n=this.context,i=n.options.selectMirror,r=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||i&&t.dateSelectionSegs||[],s=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},l=this.sortEventSegs(t.fgEventSegs,n.options.eventOrder);return(0,o.azq)(o.hJ8,{elRef:t.elRef,date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps},function(n,c,d){return(0,o.azq)("td",(0,a.__assign)({ref:n,className:["fc-timegrid-col"].concat(c,t.extraClassNames||[]).join(" ")},d,t.extraDataAttrs),(0,o.azq)("div",{className:"fc-timegrid-col-frame"},(0,o.azq)("div",{className:"fc-timegrid-col-bg"},e.renderFillSegs(t.businessHourSegs,"non-business"),e.renderFillSegs(t.bgEventSegs,"bg-event"),e.renderFillSegs(t.dateSelectionSegs,"highlight")),(0,o.azq)("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(l,s,!1,!1,!1)),(0,o.azq)("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(r,{},Boolean(t.eventDrag),Boolean(t.eventResize),Boolean(i))),(0,o.azq)("div",{className:"fc-timegrid-now-indicator-container"},e.renderNowIndicator(t.nowIndicatorSegs)),(0,o.azq)(B,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps})))})},W.prototype.renderFgSegs=function(e,t,n,i,r){var o=this.props;return o.forPrint?Y(e,o):this.renderPositionedFgSegs(e,t,n,i,r)},W.prototype.renderPositionedFgSegs=function(e,t,n,i,r){var s=this,l=this.context.options,c=l.eventMaxStack,d=l.eventShortHeight,u=l.eventOrderStrict,p=l.eventMinHeight,h=this.props,g=h.date,f=h.slatCoords,m=h.eventSelection,v=h.todayRange,y=h.nowDate,x=n||i||r,b=$(e,g,f,p),S=function(e,t,n,i){for(var r=[],s=[],l=0;l<e.length;l+=1){var c=t[l];c?r.push({index:l,thickness:1,span:c}):s.push(e[l])}for(var d,u,p,h,g,f,m,v,y,x,b,S,E,C,w,I,D,R=(C=new o.KxW,null!=n&&(C.strictOrder=n),null!=i&&(C.maxStackCnt=i),w=C.addSegs(r),I=(0,o.AVF)(w),u=(d=C).entriesByLevel,p=N(function(e,t){return e+":"+t},function(e,t){var n=function(e,t,n){for(var i=e.levelCoords,r=e.entriesByLevel,a=r[t][n],s=i[t]+a.thickness,l=i.length,c=t;c<l&&i[c]<s;c+=1);for(;c<l;c+=1){for(var d=r[c],u=void 0,p=(0,o.ry4)(d,a.span.start,o.VTw),h=p[0]+p[1],g=h;(u=d[g])&&u.span.start<a.span.end;)g+=1;if(h<g)return{level:c,lateralStart:h,lateralEnd:g}}return null}(d,e,t),i=M(n,p),r=u[e][t];return[(0,a.__assign)((0,a.__assign)({},r),{nextLevelNodes:i[0]}),r.thickness+i[1]]}),h=D=M(u.length?{level:0,lateralStart:0,lateralEnd:u[0].length}:null,p)[0],g=1,f=N(function(e,t,n){return(0,o.oBR)(e)},function(e,t,n){var i,r=e.nextLevelNodes,o=e.thickness,s=o+n,l=[];if(r.length)for(var c=0;c<r.length;c++){var d=r[c];if(void 0===i){var u=f(d,t,s);i=u[0],l.push(u[1])}else{var u=f(d,i,0);l.push(u[1])}}else i=1;var p=(i-t)*(o/s);return[i-p,(0,a.__assign)((0,a.__assign)({},e),{thickness:p,nextLevelNodes:l})]}),{segRects:(m=D=h.map(function(e){return f(e,0,0)[1]}),v=function(e,t,n){for(var i=0,r=0;r<e.length;r++)i=Math.max(x(e[r],t,n),i);return i},y=[],x=N(function(e,t,n){return(0,o.oBR)(e)},function(e,t,n){var i=(0,a.__assign)((0,a.__assign)({},e),{levelCoord:t,stackDepth:n,stackForward:0});return y.push(i),i.stackForward=v(e.nextLevelNodes,t+e.thickness,n+1)+1}),v(m,0,0),y),hiddenGroups:I}),_=R.segRects,T=R.hiddenGroups,j=[],P=0;P<_.length;P++){var q=_[P];j.push({seg:e[q.index],rect:q})}for(var A=0;A<s.length;A++){var k=s[A];j.push({seg:k,rect:null})}return{segPlacements:j,hiddenGroups:T}}(e,b,u,c),E=S.segPlacements,C=S.hiddenGroups;return(0,o.azq)(o.HYg,null,this.renderHiddenGroups(C,e),E.map(function(e){var l=e.seg,c=e.rect,u=l.eventRange.instance.instanceId,p=x||Boolean(!t[u]&&c),h=J(c&&c.span),g=!x&&c?s.computeSegHStyle(c):{left:0,right:0},f=Boolean(c)&&c.stackForward>0,b=Boolean(c)&&c.span.end-c.span.start<d;return(0,o.azq)("div",{className:"fc-timegrid-event-harness"+(f?" fc-timegrid-event-harness-inset":""),key:u,style:(0,a.__assign)((0,a.__assign)({visibility:p?"":"hidden"},h),g)},(0,o.azq)(G,(0,a.__assign)({seg:l,isDragging:n,isResizing:i,isDateSelecting:r,isSelected:u===m,isShort:b},(0,o.jHR)(l,v,y))))}))},W.prototype.renderHiddenGroups=function(e,t){var n=this.props,i=n.extraDateSpan,r=n.dateProfile,a=n.todayRange,s=n.nowDate,l=n.eventSelection,c=n.eventDrag,d=n.eventResize;return(0,o.azq)(o.HYg,null,e.map(function(e){var n,u,p=J(e.span),h=(n=e.entries,u=t,n.map(function(e){return u[e.index]}));return(0,o.azq)(q,{key:(0,o.dS)((0,o.VV4)(h)),hiddenSegs:h,top:p.top,bottom:p.bottom,extraDateSpan:i,dateProfile:r,todayRange:a,nowDate:s,eventSelection:l,eventDrag:c,eventResize:d})}))},W.prototype.renderFillSegs=function(e,t){var n=this.props,i=this.context,r=$(e,n.date,n.slatCoords,i.options.eventMinHeight).map(function(i,r){var s=e[r];return(0,o.azq)("div",{key:(0,o.rRV)(s.eventRange),className:"fc-timegrid-bg-harness",style:J(i)},"bg-event"===t?(0,o.azq)(o.I_K,(0,a.__assign)({seg:s},(0,o.jHR)(s,n.todayRange,n.nowDate))):(0,o.MA3)(t))});return(0,o.azq)(o.HYg,null,r)},W.prototype.renderNowIndicator=function(e){var t=this.props,n=t.slatCoords,i=t.date;return n?e.map(function(e,t){return(0,o.azq)(o.AOy,{isAxis:!1,date:i,key:t},function(t,r,a,s){return(0,o.azq)("div",{ref:t,className:["fc-timegrid-now-indicator-line"].concat(r).join(" "),style:{top:n.computeDateTop(e.start,i)}},s)})}):null},W.prototype.computeSegHStyle=function(e){var t,n,i=this.context,r=i.isRtl,o=i.options.slotEventOverlap,a=e.levelCoord,s=e.levelCoord+e.thickness;o&&(s=Math.min(1,a+(s-a)*2)),r?(t=1-s,n=a):(t=a,n=1-s);var l={zIndex:e.stackDepth+1,left:100*t+"%",right:100*n+"%"};return o&&!e.stackForward&&(l[r?"marginLeft":"marginRight"]=20),l},W);function Y(e,t){var n=t.todayRange,i=t.nowDate,r=t.eventSelection,s=t.eventDrag,l=t.eventResize,c=(s?s.affectedInstances:null)||(l?l.affectedInstances:null)||{};return(0,o.azq)(o.HYg,null,e.map(function(e){var t=e.eventRange.instance.instanceId;return(0,o.azq)("div",{key:t,style:{visibility:c[t]?"hidden":""}},(0,o.azq)(G,(0,a.__assign)({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===r,isShort:!1},(0,o.jHR)(e,n,i))))}))}function J(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}var X,Q,K,ee,et=(X=o.H6J,Q=function(){var e=null!==X&&X.apply(this,arguments)||this;return e.splitFgEventSegs=(0,o.HPs)(_),e.splitBgEventSegs=(0,o.HPs)(_),e.splitBusinessHourSegs=(0,o.HPs)(_),e.splitNowIndicatorSegs=(0,o.HPs)(_),e.splitDateSelectionSegs=(0,o.HPs)(_),e.splitEventDrag=(0,o.HPs)(T),e.splitEventResize=(0,o.HPs)(T),e.rootElRef=(0,o.VfA)(),e.cellElRefs=new o.lAU,e},(0,a.__extends)(Q,X),Q.prototype.render=function(){var e=this,t=this.props,n=this.context.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),i=t.cells.length,r=this.splitFgEventSegs(t.fgEventSegs,i),a=this.splitBgEventSegs(t.bgEventSegs,i),s=this.splitBusinessHourSegs(t.businessHourSegs,i),l=this.splitNowIndicatorSegs(t.nowIndicatorSegs,i),c=this.splitDateSelectionSegs(t.dateSelectionSegs,i),d=this.splitEventDrag(t.eventDrag,i),u=this.splitEventResize(t.eventResize,i);return(0,o.azq)("div",{className:"fc-timegrid-cols",ref:this.rootElRef},(0,o.azq)("table",{style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,(0,o.azq)("tbody",null,(0,o.azq)("tr",null,t.axis&&(0,o.azq)("td",{className:"fc-timegrid-col fc-timegrid-axis"},(0,o.azq)("div",{className:"fc-timegrid-col-frame"},(0,o.azq)("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&(0,o.azq)(o.AOy,{isAxis:!0,date:t.nowDate},function(e,t,i,r){return(0,o.azq)("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(t).join(" "),style:{top:n}},r)})))),t.cells.map(function(n,i){return(0,o.azq)(U,{key:n.key,elRef:e.cellElRefs.createRef(n.key),dateProfile:t.dateProfile,date:n.date,nowDate:t.nowDate,todayRange:t.todayRange,extraHookProps:n.extraHookProps,extraDataAttrs:n.extraDataAttrs,extraClassNames:n.extraClassNames,extraDateSpan:n.extraDateSpan,fgEventSegs:r[i],bgEventSegs:a[i],businessHourSegs:s[i],nowIndicatorSegs:l[i],dateSelectionSegs:c[i],eventDrag:d[i],eventResize:u[i],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint})})))))},Q.prototype.componentDidMount=function(){this.updateCoords()},Q.prototype.componentDidUpdate=function(){this.updateCoords()},Q.prototype.updateCoords=function(){var e,t,n=this.props;n.onColCoords&&null!==n.clientWidth&&n.onColCoords(new o.zIV(this.rootElRef.current,(e=this.cellElRefs.currentMap,t=n.cells,t.map(function(t){return e[t.key]})),!0,!1))},Q),en=(K=o.IdW,ee=function(){var e=null!==K&&K.apply(this,arguments)||this;return e.processSlotOptions=(0,o.HPs)(ei),e.state={slatCoords:null},e.handleRootEl=function(t){t?e.context.registerInteractiveComponent(e,{el:t,isHitComboAllowed:e.props.isHitComboAllowed}):e.context.unregisterInteractiveComponent(e)},e.handleScrollRequest=function(t){var n=e.props.onScrollTopRequest,i=e.state.slatCoords;if(n&&i){if(t.time){var r=i.computeTimeTop(t.time);(r=Math.ceil(r))&&(r+=1),n(r)}return!0}return!1},e.handleColCoords=function(t){e.colCoords=t},e.handleSlatCoords=function(t){e.setState({slatCoords:t}),e.props.onSlatCoords&&e.props.onSlatCoords(t)},e},(0,a.__extends)(ee,K),ee.prototype.render=function(){var e=this.props,t=this.state;return(0,o.azq)("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},(0,o.azq)(R,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),(0,o.azq)(et,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))},ee.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},ee.prototype.componentDidUpdate=function(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},ee.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},ee.prototype.queryHit=function(e,t){var n=this.context,i=n.dateEnv,r=n.options,s=this.colCoords,l=this.props.dateProfile,c=this.state.slatCoords,d=this.processSlotOptions(this.props.slotDuration,r.snapDuration),u=d.snapDuration,p=d.snapsPerSlot,h=s.leftToIndex(e),g=c.positions.topToIndex(t);if(null!=h&&null!=g){var f=this.props.cells[h],m=c.positions.tops[g],v=c.positions.getHeight(g),y=this.props.cells[h].date,x=(0,o.nlJ)(l.slotMinTime,(0,o.uVS)(u,g*p+Math.floor((t-m)/v*p))),b=i.add(y,x),S=i.add(b,u);return{dateProfile:l,dateSpan:(0,a.__assign)({range:{start:b,end:S},allDay:!1},f.extraDateSpan),dayEl:s.els[h],rect:{left:s.lefts[h],right:s.rights[h],top:m,bottom:m+v},layer:0}}return null},ee);function ei(e,t){var n=t||e,i=(0,o.ltK)(e,n);return null===i&&(n=e,i=1),{snapDuration:n,snapsPerSlot:i}}var er,eo,ea,es,el=(er=o.RVT,eo=function(){return null!==er&&er.apply(this,arguments)||this},(0,a.__extends)(eo,er),eo.prototype.sliceRange=function(e,t){for(var n=[],i=0;i<t.length;i+=1){var r=(0,o.cMs)(e,t[i]);r&&n.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:i})}return n},eo),ec=(ea=o.IdW,es=function(){var e=null!==ea&&ea.apply(this,arguments)||this;return e.buildDayRanges=(0,o.HPs)(ed),e.slicer=new el,e.timeColsRef=(0,o.VfA)(),e},(0,a.__extends)(es,ea),es.prototype.render=function(){var e=this,t=this.props,n=this.context,i=t.dateProfile,r=t.dayTableModel,s=n.options.nowIndicator,l=this.buildDayRanges(r,i,n.dateEnv);return(0,o.azq)(o.wh8,{unit:s?"minute":"day"},function(c,d){return(0,o.azq)(en,(0,a.__assign)({ref:e.timeColsRef},e.slicer.sliceProps(t,i,null,n,l),{forPrint:t.forPrint,axis:t.axis,dateProfile:i,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:r.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:c,nowIndicatorSegs:s&&e.slicer.sliceNowDate(c,n,l),todayRange:d,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords}))})},es);function ed(e,t,n){for(var i=[],r=0,o=e.headerDates;r<o.length;r++){var a=o[r];i.push({start:n.add(a,t.slotMinTime),end:n.add(a,t.slotMaxTime)})}return i}var eu=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15},];function ep(e,t,n,i,r){for(var a=new Date(0),s=e,l=(0,o.Pvs)(0),c=n||function(e){var t,n,i;for(t=eu.length-1;t>=0;t-=1)if(n=(0,o.Pvs)(eu[t]),null!==(i=(0,o.ltK)(n,e))&&i>1)return n;return e}(i),d=[];(0,o.TTZ)(s)<(0,o.TTZ)(t);){var u=r.add(a,s),p=null!==(0,o.ltK)(l,c);d.push({date:u,time:s,key:u.toISOString(),isoTimeStr:(0,o.Zjx)(u),isLabeled:p}),s=(0,o.nlJ)(s,i),l=(0,o.nlJ)(l,i)}return d}var eh,eg,ef=(eg=function(){var e=null!==y&&y.apply(this,arguments)||this;return e.buildTimeColsModel=(0,o.HPs)(em),e.buildSlatMetas=(0,o.HPs)(ep),e},(0,a.__extends)(eg,y),eg.prototype.render=function(){var e=this,t=this.context,n=t.options,i=t.dateEnv,r=t.dateProfileGenerator,l=this.props,c=l.dateProfile,d=this.buildTimeColsModel(c,r),u=this.allDaySplitter.splitProps(l),p=this.buildSlatMetas(c.slotMinTime,c.slotMaxTime,n.slotLabelInterval,n.slotDuration,i),h=n.dayMinWidth,g=!h,f=n.dayHeaders&&(0,o.azq)(o.lR3,{dates:d.headerDates,dateProfile:c,datesRepDistinctDays:!0,renderIntro:g?this.renderHeadAxis:null}),m=!1!==n.allDaySlot&&function(t){return(0,o.azq)(s.iz,(0,a.__assign)({},u.allDay,{dateProfile:c,dayTableModel:d,nextDayThreshold:n.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:g?e.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:l.forPrint},e.getAllDayMaxEventProps()))},v=function(t){return(0,o.azq)(ec,(0,a.__assign)({},u.timed,{dayTableModel:d,dateProfile:c,axis:g,slotDuration:n.slotDuration,slatMetas:p,forPrint:l.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:e.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:e.handleScrollTopRequest}))};return h?this.renderHScrollLayout(f,m,v,d.colCnt,h,p,this.state.slatCoords):this.renderSimpleLayout(f,m,v)},eg);function em(e,t){var n=new o.xB8(e.renderRange,t);return new o.xVj(n,!1)}var ev=(0,o.rxu)({initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:ef,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});t.ZP=ev},678:function(){},77066:function(){},55359:function(){},38660:function(){}},function(e){e.O(0,[3662,367,4870,6898,2283,212,8890,619,2583,4135,8579,6043,1838,4244,3911,1417,3776,1564,3054,2329,8500,778,4046,1023,7454,1870,2797,1047,4043,8062,3058,6313,597,3754,4061,6075,5447,9528,964,8849,8344,6733,6096,7305,1514,8462,2982,5185,5469,5463,1105,1,1302,9774,2888,179],function(){return e(e.s=52977)}),_N_E=e.O()}]);