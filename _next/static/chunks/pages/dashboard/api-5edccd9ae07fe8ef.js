(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1554],{28201:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle")},41687:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"AddCircleOutline")},73890:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"m20.54 5.23-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27M12 17.5 6.5 12H10v-2h4v2h3.5zM5.12 5l.81-1h12l.94 1z"}),"Archive")},60888:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},41733:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},40535:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5z"}),"DescriptionOutlined")},63441:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},77957:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},2548:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined")},79369:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz")},57976:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")},2391:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt")},69008:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"m20.55 5.22-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28M12 9.5l5.5 5.5H14v2h-4v-2H6.5zM5.12 5l.82-1h12l.93 1z"}),"Unarchive")},24519:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile")},22961:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),o=n(85893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},43969:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/api",function(){return n(78662)}])},5336:function(e,t,n){"use strict";n.d(t,{C:function(){return k}});var i=n(85893),r=n(67294),o=n(45697),a=n.n(o),u=n(93946),s=n(25464),l=n(18972),c=n(57976),d=n(73890),p=n(69008),v=n(41687),h=n(60888),f=n(40535),m=n(63441),g=n(41733),x=n(77957),Z=n(2548),b=n(24519),y=n(2391),j=n(69308),S=n(79369),C=n(22961),M=n(28201),P=n(51233),w=n(15861),z={add:(0,i.jsx)(v.Z,{}),archive:(0,i.jsx)(d.Z,{}),avatar:(0,i.jsx)(M.Z,{}),check:(0,i.jsx)(h.Z,{}),delete:(0,i.jsx)(g.Z,{}),description:(0,i.jsx)(f.Z,{}),download:(0,i.jsx)(m.Z,{}),info:(0,i.jsx)(Z.Z,{}),edit:(0,i.jsx)(x.Z,{}),location:(0,i.jsx)(j.Z,{}),unarchive:(0,i.jsx)(p.Z,{}),uploadFile:(0,i.jsx)(b.Z,{}),receipt:(0,i.jsx)(y.Z,{}),visibility:(0,i.jsx)(C.Z,{})},H={default:(0,i.jsx)(c.Z,{}),defaultHoriz:(0,i.jsx)(S.Z,{}),description:(0,i.jsx)(f.Z,{})},k=function(e){var t=e.actionsData,n=e.icon,o=e.row,a=e.disabled,c=(0,r.useState)(null),d=c[0],p=c[1],v=function(e){e.stopPropagation(),p(e.currentTarget)},h=function(){p(null)};return(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Z,{sx:{":hover":{backgroundColor:"#DDDDDD"}},disabled:a,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:v,children:H[n]}),(0,i.jsx)(s.Z,{id:"simple-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:h,PaperProps:{sx:{borderRadius:2}},children:t(o).map(function(e,t){return(0,i.jsx)(l.Z,{disabled:e.disabled,onClick:function(t){e.onClick(t),h()},sx:{pl:3,pr:4},children:(0,i.jsxs)(P.Z,{direction:"row",alignItems:"center",spacing:2,children:[(null==z?void 0:z[e.icon])||null,(0,i.jsx)(w.Z,{children:e.tooltip})]})},t)})})]})};k.propTypes={actionsData:a().func.isRequired,icon:a().oneOf(["default","description"]),row:a().any.isRequired,disabled:a().bool},k.defaultProps={actionsData:function(){return[{disabled:!1,onClick:function(){},icon:"edit",tooltip:"Edit"}]},icon:"default",disabled:!1}},48580:function(e,t,n){"use strict";n.d(t,{q:function(){return h}});var i=n(26042),r=n(69396),o=n(99534),a=n(85893),u=n(87918),s=n(98456),l=n(23776),c=n(50135),d=n(67294),p=n(45697),v=n.n(p),h=function(e){var t=e.loading,n=e.setSearch,p=e.textFieldProps,v=(0,o.Z)(e,["loading","setSearch","textFieldProps"]),h=(0,d.useState)(""),f=h[0],m=h[1];return(0,d.useEffect)(function(){var e=setTimeout(function(){n(f)},500);return function(){return clearTimeout(e)}},[f,n]),(0,a.jsx)(l.Z,(0,r.Z)((0,i.Z)({isOptionEqualToValue:function(e,t){return e.value===t.value}},v),{loading:t,onInputChange:function(e,t){m(t)},getOptionLabel:function(e){return e.label},renderTags:function(e,t){return e.map(function(e,n){return(0,a.jsx)(u.Z,(0,i.Z)({size:"small",label:e.label},t({index:n})))})},renderInput:function(e){return(0,a.jsx)(c.Z,(0,r.Z)((0,i.Z)({},e,p),{InputProps:(0,r.Z)((0,i.Z)({},e.InputProps,p.InputProps||{}),{endAdornment:(0,a.jsxs)(a.Fragment,{children:[t?(0,a.jsx)(s.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}}))};h.defaultProps={color:"secondary",onChange:function(){},options:[],onOpen:function(){},setSearch:function(){},textFieldProps:{}},h.propTypes={multiple:v().bool,limitTags:v().number,filterSelectedOptions:v().bool,color:v().string,loading:v().bool,value:v().oneOf([v().array,v().object]),onChange:v().func,options:v().arrayOf(v().shape({value:v().any.isRequired,label:v().string.isRequired})).isRequired,onOpen:v().func,setSearch:v().func,textFieldProps:v().shape({label:v().string,variant:v().oneOf(["standard"]),color:v().string,error:v().bool,helperText:v().string})}},93884:function(e,t,n){"use strict";n.d(t,{C:function(){return v}});var i=n(26042),r=n(69396),o=n(85893);n(67294);var a=n(45697),u=n(90948),s=n(15861),l=n(51233),c=n(11057),d=n(61730),p=(0,u.ZP)("img")({width:"300px",height:"250px"}),v=function(e){var t=e.imageSrc,n=e.sx,a=e.imageSx,u=e.title,v=e.titleSx,h=e.subtitleFirstLine,f=e.subtitleFirstLineSx,m=e.subtitleSecondLine,g=e.subtitleSecondLineSx,x=e.buttonText,Z=e.onAction,b=(0,d.Z)("(max-width: 400px)");return(0,o.jsxs)(l.Z,{sx:(0,r.Z)((0,i.Z)({},n),{width:"100%",height:"100%"}),justifyContent:"center",alignItems:"center",spacing:2,color:"#757575",children:[(0,o.jsx)(p,{src:t,sx:(0,r.Z)((0,i.Z)({},a),{width:b?"250px":"300px"})}),(0,o.jsx)(s.Z,{typography:"h5",sx:(0,i.Z)({},v),children:u}),(0,o.jsxs)(l.Z,{alignItems:"center",sx:{padding:"0px 10px",textAlign:"center"},children:[(0,o.jsx)(s.Z,{sx:(0,i.Z)({},f),children:h}),(0,o.jsx)(s.Z,{sx:(0,i.Z)({},g),children:m})]}),x&&Z&&(0,o.jsx)(c.Z,{variant:"contained",color:"secondary",onClick:Z,children:x})]})};v.propTypes={imageSrc:a.string,title:a.string,subtitleFirstLine:a.string,subtitleSecondLine:a.string,onAction:a.func,sx:a.object,imageSx:a.object,titleSx:a.object,subtitleFirstLineSx:a.object,subtitleSecondLineSx:a.object},v.defaultProps={title:"",subtitleFirstLine:"",subtitleSecondLine:"",sx:{},imageSx:{},titleSx:{},subtitleFirstLineSx:{},subtitleSecondLineSx:{},onAction:null}},15033:function(e,t,n){"use strict";n.d(t,{i:function(){return M}});var i=n(14924),r=n(26042),o=n(69396),a=n(85893),u=n(67294),s=n(11163),l=n(45697),c=n.n(l),d=n(61870),p=n(5616),v=n(51233),h=n(15861),f=n(90948),m=n(41796),g=n(29217),x=n(45111),Z=n(46003),b=n(70872),y=n(58886),j=n(61730),S=function(e){var t=e.currentPage,n=e.totalCount,i=e.pageSize,o=e.onPageChange,u=(0,j.Z)("(max-width:400px)"),s=(0,j.Z)("(max-width:500px)");return(0,a.jsx)(C,{mb:2,page:t,count:Math.ceil(n/i),onChange:function(e,t){return o(t)},variant:"outlined",shape:"rounded",size:u?"small":"medium",hidePrevButton:1===t,hideNextButton:t===Math.ceil(n/i),siblingCount:s?0:1,renderItem:function(e){return(0,a.jsx)(y.Z,(0,r.Z)({slots:{previous:function(){return"Previous"},next:function(){return"Next"}}},e))}})};S.defaultProps={currentPage:1,totalCount:0,pageSize:50,onPageChange:function(){}},S.propTypes={currentPage:c().number,totalCount:c().number,pageSize:c().number,onPageChange:c().func};var C=(0,f.ZP)(b.Z)(function(e){var t,n=e.hidePrevButton,o=e.hideNextButton,a=e.theme;return t={},(0,i.Z)(t,"&.MuiPagination-root",{alignSelf:"center",marginTop:"16px"}),(0,i.Z)(t,"& .MuiPaginationItem-root",{fontWeight:600,margin:0,borderRadius:0}),(0,i.Z)(t,"& .MuiPagination-ul > li:last-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"0 5px 5px 0"}),(0,i.Z)(t,"& .MuiPagination-ul > li:first-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"5px 0 0 5px"}),(0,i.Z)(t,"& button.Mui-selected",(0,r.Z)({color:a.palette.white.main,backgroundColor:a.palette.secondary.main},o?{borderRadius:"0 5px 5px 0"}:{},n?{borderRadius:"5px 0 0 5px"}:{})),t}),M=(0,u.forwardRef)(function(e,t){var n=e.columns,i=e.history,o=e.initialSort,l=e.meta,c=e.refetch,d=e.paginationSize,p=e.containerHeight,f=e.noResultsMessage,m=e.autoHeight,b=(0,s.useRouter)(),y=b.query,j=void 0===y?{}:y,C=(0,u.useState)(parseInt(null==j?void 0:j.page,10)||1),M=C[0],z=C[1],H=(0,u.useState)(d||Z.C1.paginationSize),k=H[0],A=H[1];o||(o={item:"createdAt",order:"desc"});var D=(0,u.useState)({item:o.item,order:o.order}),I=D[0],L=D[1],_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=b.query,n=void 0===t?{}:t;if(e>1?n.page=e:delete n.page,!(Object.keys(n).length>0))return{};var i=Object.keys(n).map(function(t){return"page"===t?"".concat(t,"=").concat(e):"".concat(t,"=").concat(n[t])}).join("&");return"?".concat(i)},R=function(){L({item:o.item,order:o.order}),z(1);var e=_();b.push(e),A(d||Z.C1.paginationSize)};(0,u.useImperativeHandle)(t,function(){return{currentPage:M,pageSize:k,sort:I,resetPagination:function(){R()}}});var G=function(e){var t=_(e);i&&b.push(t),z(e),!i&&c&&c()},O=function(e){e&&e.field&&e.sort?(L({item:n.find(function(t){return t.field===e.field}).sortName||e.field||e.item||o.item,order:e.sort||e.order||o.order}),c&&c()):(L({item:o.item,order:o.order}),c&&c())};return(0,a.jsxs)(P,{containerHeight:p,children:[(0,a.jsx)(w,(0,r.Z)({hideFooter:!0,disableColumnMenu:!0,disableSelectionOnClick:!0,autoHeight:m,sortingMode:"server",onSortModelChange:function(e){return O(e[0])},columns:n,pageSize:k,slots:{columnSortedAscendingIcon:function(){return(0,a.jsx)(g.Z,{})},columnSortedDescendingIcon:function(){return(0,a.jsx)(x.Z,{})},columnUnsortedIcon:function(){return(0,a.jsxs)(v.Z,{alignItems:"center",sx:{width:"33px"},children:[(0,a.jsx)(g.Z,{sx:{marginBottom:"-15px"}}),(0,a.jsx)(x.Z,{})]})},noResultsOverlay:function(){return(0,a.jsx)(v.Z,{height:"100%",alignItems:"center",justifyContent:"center",spacing:1,p:1,children:(0,a.jsx)(h.Z,{children:f})})},noRowsOverlay:function(){return(0,a.jsx)(v.Z,{height:"100%",alignItems:"center",justifyContent:"center",spacing:1,p:1,children:(0,a.jsx)(h.Z,{children:f})})}}},e)),l&&Math.ceil(l.aggregate.totalCount/k)>1&&(0,a.jsx)(S,{currentPage:M,totalCount:l.aggregate.totalCount,pageSize:k,onPageChange:G})]})});M.propTypes={history:c().bool,initialSort:c().object,loading:c().bool,meta:c().object,refetch:c().func,paginationSize:c().number,noResultsMessage:c().string,columns:c().array.isRequired,rows:c().array.isRequired,autoHeight:c().bool},M.defaultProps={columns:[],history:!1,loading:!1,rows:[],noResultsMessage:"There are no results.",autoHeight:!0};var P=(0,f.ZP)(p.Z)(function(e){return{height:e.containerHeight,display:"flex",flexDirection:"column"}}),w=(0,f.ZP)(d.s)(function(e){var t,n=e.theme,a=e.hideHeader,u=(e.rows,e.loading,e.rowHeight),s=e.isPdf;return t={"--DataGrid-overlayHeight":"40px"},(0,i.Z)(t,"&.MuiDataGrid-root",(0,r.Z)({color:n.palette.black.main,border:"none"},s&&{"@media print":{display:"block"}})),(0,i.Z)(t,"& .MuiDataGrid-main",(0,r.Z)({},s&&{"@media print":{overflow:"visible !important"}})),(0,i.Z)(t,"& .MuiDataGrid-columnHeaders",(0,o.Z)((0,r.Z)({},a&&{display:"none"}),{"& .MuiDataGrid-iconButtonContainer":{visibility:"visible","& .MuiButtonBase-root.MuiIconButton-root":{backgroundColor:"inherit",color:n.palette.black.main,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}}}})),(0,i.Z)(t,"& .MuiDataGrid-virtualScroller",(0,r.Z)({},a&&{marginTop:"0 !important"},s&&{"@media print":{overflow:"visible !important"}})),(0,i.Z)(t,"& .MuiDataGrid-iconSeparator",{opacity:0}),(0,i.Z)(t,"& .MuiDataGrid-columnHeaderTitle",{fontWeight:700}),(0,i.Z)(t,"& .MuiButtonBase-root.MuiDataGrid-columnHeaderTitle",{fontWeight:700}),(0,i.Z)(t,"& .MuiDataGrid-virtualScrollerContent",(0,r.Z)({},s&&{height:"initial !important",minHeight:"initial !important"})),(0,i.Z)(t,"& .MuiDataGrid-virtualScrollerRenderZone",(0,r.Z)({},s&&{position:"relative"})),(0,i.Z)(t,"& .MuiDataGrid-overlayWrapper",(0,i.Z)({},"& .MuiCircularProgress-root",{color:n.palette.secondary.main})),(0,i.Z)(t,"& .MuiDataGrid-row",(0,r.Z)({},s&&{minHeight:"".concat(u,"cm !important"),maxHeight:"".concat(u,"cm !important")})),(0,i.Z)(t,"& .MuiDataGrid-row > .MuiDataGrid-cell",(0,r.Z)({},s&&{minHeight:"".concat(u,"cm !important"),maxHeight:"".concat(u,"cm !important")})),(0,i.Z)(t,"& .MuiDataGrid-row.even",{backgroundColor:n.palette.muiLightGray.main,"&:hover, &.Mui-hovered":{backgroundColor:(0,m.Fq)(n.palette.muiLightGray.main,.3),"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:(0,m.Fq)(n.palette.muiLightGray.main,.3+n.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:(0,m.Fq)(n.palette.muiLightGray.main,.3+n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,m.Fq)(n.palette.muiLightGray.main,.3+n.palette.action.selectedOpacity)}}}}),t})},20705:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var i=n(14924),r=n(26042),o=n(69396),a=n(67294),u=n(96486),s=n(46003),l=function(e){try{return JSON.parse(e)}catch(t){return!1}},c=function(e){var t,n,c,d,p,v,h,f,m,g,x,Z=e.filters,b=e.newFilters,y=e.initialSort,j=(0,a.useRef)(),S=(0,a.useState)({}),C=S[0],M=S[1],P=(0,a.useState)({}),w=P[0],z=P[1],H=y||{item:"createdAt",order:"desc"},k=(0,i.Z)({},(null===(t=j.current)||void 0===t?void 0:t.sort.item)||H.item,H.inneritem?(0,i.Z)({},H.inneritem,(null===(n=j.current)||void 0===n?void 0:n.sort.order)||H.order):(null===(c=j.current)||void 0===c?void 0:c.sort.order)||H.order);return(0,a.useEffect)(function(){var e=!(0,u.isEqual)(C,Z),t=!(0,u.isEqual)(w,b);if(e&&(M(Z),null==j||null===(i=j.current)||void 0===i||i.resetPagination()),t&&(z(b),null==j||null===(r=j.current)||void 0===r||r.resetPagination()),(null==j?void 0:null===(n=j.current)||void 0===n?void 0:n.setSort)&&!(e||t)){var n,i,r,o,a,s,l,c,d,p,v,h=(null===(o=j.current)||void 0===o?void 0:null===(a=o.sort)||void 0===a?void 0:a.item)&&(null===(s=j.current)||void 0===s?void 0:null===(l=s.sort)||void 0===l?void 0:l.order)?{item:null===(c=j.current)||void 0===c?void 0:null===(d=c.sort)||void 0===d?void 0:d.item,order:null===(p=j.current)||void 0===p?void 0:null===(v=p.sort)||void 0===v?void 0:v.order}:k;j.current.setSort(h)}},[Z,b]),{initialData:(0,o.Z)((0,r.Z)({},Z),{newFilters:(null==b?void 0:b.length)>0?b:void 0,limit:(null===(d=j.current)||void 0===d?void 0:d.pageSize)==="Infinity"?null:parseInt(null===(p=j.current)||void 0===p?void 0:p.pageSize,10)||s.C1.paginationSize,offset:((null===(v=j.current)||void 0===v?void 0:v.currentPage)-1||0)*((null===(h=j.current)||void 0===h?void 0:h.pageSize)||s.C1.paginationSize),orderBy:l(null===(f=j.current)||void 0===f?void 0:null===(m=f.sort)||void 0===m?void 0:null===(g=m.item)||void 0===g?void 0:g.replace(/ORDER/i,null===(x=j.current)||void 0===x?void 0:x.sort.order))||k}),initialSort:y,ref:j}}},78662:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return K}});var i=n(85893),r=n(11163),o=n.n(r),a=n(58849),u=n(2845),s=n(26042),l=n(828),c=n(67294),d=n(50319),p=n(6388),v=n(42283),h=n(42474),f=n.n(h),m=n(51233),g=n(90629),x=n(15861),Z=n(11057),b=n(15033),y=n(93884),j=n(50135),S=n(48580),C=function(e){var t=e.onSubmit,n=e.defaultValues,r=(0,v.cI)({defaultValues:n}),o=r.register,a=r.handleSubmit,u=r.control;return(0,i.jsx)("form",{onSubmit:a(t),children:(0,i.jsxs)(m.Z,{spacing:2,children:[(0,i.jsx)(j.Z,{color:"secondary",variant:"standard",inputRef:o,name:"name",placeholder:"Enter name..."}),(0,i.jsx)(v.Qr,{name:"status",control:u,render:function(e){var t=e.value,n=e.onChange;return(0,i.jsx)(S.q,{value:t,disableClearable:!0,textFieldProps:{color:"secondary",variant:"standard",label:"Select status"},onChange:function(e,t){return n(t)},options:[{label:"Active",value:!0},{label:"Inactive",value:!1}]})}}),(0,i.jsx)(Z.Z,{color:"secondary",variant:"contained",type:"submit",width:"30%",children:"Submit"})]})})},M=n(5336),P=n(20705),w=n(64872),z=n(7297),H=n(75063);function k(){var e=(0,z.Z)(["\n  query GetAllApiKeys($active: Boolean!) {\n    apiKeys: Api_Keys(where: { active: { _eq: $active } }) {\n      id\n      name\n      adminId\n      apiKey\n      active\n    }\n  }\n"]);return k=function(){return e},e}function A(){var e=(0,z.Z)(["\n  mutation createApiKey($objects: [Api_Keys_insert_input!]!) {\n    insert_Api_Keys(objects: $objects) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return A=function(){return e},e}function D(){var e=(0,z.Z)(["\n  mutation UpdateApiKey($id: Int!, $changes: Api_Keys_set_input) {\n    update_Api_Keys_by_pk(pk_columns: { id: $id }, _set: $changes) {\n      id\n    }\n  }\n"]);return D=function(){return e},e}function I(){var e=(0,z.Z)(["\n  mutation DeleteApiKeys($id: Int!) {\n    delete_Api_Keys_by_pk(id: $id) {\n      id\n    }\n  }\n"]);return I=function(){return e},e}var L=(0,H.Ps)(k()),_=(0,H.Ps)(A()),R=(0,H.Ps)(D()),G=(0,H.Ps)(I()),O=function(){var e,t=(0,c.useRef)(),n=(0,u.x)().user,r=(0,w.a)(),o=(0,v.cI)({defaultValues:{status:{label:"Active",value:!0}}}),a=o.control,h=o.watch,j=(0,c.useState)({active:!0}),z=j[0],H=j[1],k=(0,P.x)({filters:z}).initialData,A=h("status"),D=(0,l.Z)((0,d.D)(_,{refetchQueries:["GetAllApiKeys"]}),1)[0],I=(0,l.Z)((0,d.D)(G,{refetchQueries:["GetAllApiKeys"]}),1)[0],O=(0,l.Z)((0,d.D)(R,{refetchQueries:["GetAllApiKeys"]}),1)[0],F=(0,p.aM)(L,{variables:(0,s.Z)({},k)}),K=F.data,T=void 0===K?{apiKeys:[],meta:{aggregate:{totalCount:0}}}:K,q=T.apiKeys,V=T.meta,E=F.loading,N=F.refetch;(0,c.useEffect)(function(){H({active:null==A?void 0:A.value})},[null==A?void 0:A.value]);var B=function(e,t){e.stopPropagation(),I({variables:{id:t}})},$=function(e){var t={id:Math.round(1e3*Math.random()),name:e.name,adminId:n.adminId,apiKey:f().randomBytes(20).toString("hex"),active:e.status.value};D({variables:{objects:[t]}}),r.close()},W=function(e){e.stopPropagation(),r.show({content:(0,i.jsx)(C,{onSubmit:$}),title:"Add api key",submit:!1})},Q=function(e,t){e.stopPropagation();var n,o={name:t.name,status:{label:(null==t?void 0:t.status)?"Active":"Inactive",value:"Active"===t.status}};r.show({content:(0,i.jsx)(C,{onSubmit:(n=t.id,function(e){O({variables:{id:n,changes:{name:e.name,active:e.status.value}}}),r.close()}),defaultValues:o}),title:"Edit api key"})},U=function(e){return[{context:"secondary",icon:"edit",onClick:function(t){return Q(t,e)},tooltip:"Edit"},{context:"secondary",icon:"delete",onClick:function(t){return B(t,e.id)},tooltip:"Delete"}]},X=function(){return q.map(function(e){return{id:e.id,name:e.name,apiKey:e.apiKey,status:e.active?"Active":"Inactive"}})};return(0,i.jsxs)(m.Z,{width:"100%",spacing:2,sx:{height:"100%"},children:[(0,i.jsxs)(m.Z,{width:"100%",direction:"row",justifyContent:"space-between",children:[(0,i.jsx)(v.Qr,{name:"status",control:a,render:function(e){var t=e.value,n=e.onChange;return(0,i.jsx)(S.q,{value:t,disableClearable:!0,textFieldProps:{color:"secondary",variant:"standard",label:"Select status"},sx:{width:"200px"},onChange:function(e,t){return n(t)},options:[{label:"Active",value:!0},{label:"Inactive",value:!1}]})}}),(0,i.jsx)(Z.Z,{variant:"contained",color:"secondary",onClick:W,children:"Create API Key"})]}),(0,i.jsxs)(g.Z,{sx:{padding:"16px 0px",height:"calc(90vh - 52px)"},children:[(0,i.jsx)(x.Z,{ml:2,variant:"h5",sx:{fontWeight:600,marginBottom:"15px"},children:"API keys"}),(null===(e=X())||void 0===e?void 0:e.length)?(0,i.jsx)(b.i,{ref:t,loading:E,columns:[{headerName:"Name",field:"name",flex:1},{headerName:"API Key",field:"apiKey",flex:1,minWidth:200},{headerName:"Status",field:"status",flex:1},{headerName:"Actions",field:"actions",flex:1,renderCell:function(e){var t=e.row;return(0,i.jsx)(M.C,{row:t,actionsData:U})}}],rows:X(),meta:V,refetch:N,autoHeight:!1,containerHeight:"calc(100% - 52px)"}):!E&&(0,i.jsx)(y.C,{imageSrc:"/static/icons/no_locations_found.svg",title:"No api keys",subtitleFirstLine:"You currently have no api keys set up in the system",subtitleSecondLine:"Click\xa0create api keys to get started building.",buttonText:"Create api key",onAction:W})]})]})};O.defaultProps={},O.propTypes={};var F=function(){return(0,u.x)().user?(0,i.jsx)(O,{}):(o().push("/account/sign-in"),null)};F.getLayout=function(e){return(0,i.jsx)(a.Z,{children:e})};var K=F},83997:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(71002);function r(e){var t=function(e,t){if("object"!=(0,i.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=(0,i.Z)(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,i.Z)(t)?t:t+""}},71002:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return i}})}},function(e){e.O(0,[3662,2283,212,8890,2583,4135,8579,6043,4244,3776,2329,778,1023,7454,1870,5497,8849,9774,2888,179],function(){return e(e.s=43969)}),_N_E=e.O()}]);